<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/tgriesser/knex#readme">knex (v0.12.9)</a>
</h1>
<h4>A batteries-included SQL query &amp; schema builder for Postgres, MySQL and SQLite3 and the Browser</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex">module knex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.knex">
            function <span class="apidocSignatureSpan"></span>knex
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client">
            function <span class="apidocSignatureSpan">knex.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder">
            function <span class="apidocSignatureSpan">knex.</span>builder
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder">
            function <span class="apidocSignatureSpan">knex.</span>columnbuilder
            <span class="apidocSignatureSpan">(client, tableBuilder, type, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler">
            function <span class="apidocSignatureSpan">knex.</span>columncompiler
            <span class="apidocSignatureSpan">(client, tableCompiler, columnBuilder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler">
            function <span class="apidocSignatureSpan">knex.</span>compiler
            <span class="apidocSignatureSpan">(client, builder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter">
            function <span class="apidocSignatureSpan">knex.</span>formatter
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.functionhelper">
            function <span class="apidocSignatureSpan">knex.</span>functionhelper
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index">
            function <span class="apidocSignatureSpan">knex.</span>index
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause">
            function <span class="apidocSignatureSpan">knex.</span>joinclause
            <span class="apidocSignatureSpan">(table, type, schema)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.migrate_stub">
            function <span class="apidocSignatureSpan">knex.</span>migrate_stub
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw">
            function <span class="apidocSignatureSpan">knex.</span>raw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner">
            function <span class="apidocSignatureSpan">knex.</span>runner
            <span class="apidocSignatureSpan">(client, builder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.seed_stub">
            function <span class="apidocSignatureSpan">knex.</span>seed_stub
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder">
            function <span class="apidocSignatureSpan">knex.</span>tablebuilder
            <span class="apidocSignatureSpan">(client, method, tableName, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler">
            function <span class="apidocSignatureSpan">knex.</span>tablecompiler
            <span class="apidocSignatureSpan">(client, tableBuilder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction">
            function <span class="apidocSignatureSpan">knex.</span>transaction
            <span class="apidocSignatureSpan">(client, container, config, outerTx)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>Client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>builder.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>columnbuilder.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>columncompiler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>compiler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>formatter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>functionhelper.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>helpers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>index.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>joinclause.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>migrate_stub.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>raw.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>runner.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>seed_stub.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>string</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>tablebuilder.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>tablecompiler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>transaction.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.Client">module knex.Client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.Client">
            function <span class="apidocSignatureSpan">knex.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.super_">
            function <span class="apidocSignatureSpan">knex.Client.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.Client.prototype">module knex.Client.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">knex.Client.prototype.</span>canCancelQuery</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype._escapeBinding">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>_escapeBinding
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype._formatQuery">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>_formatQuery
            <span class="apidocSignatureSpan">(sql, bindings, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.acquireConnection">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>acquireConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.assertCanCancelQuery">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>assertCanCancelQuery
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.cancelQuery">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>cancelQuery
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.columnBuilder">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>columnBuilder
            <span class="apidocSignatureSpan">(tableBuilder, type, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.columnCompiler">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>columnCompiler
            <span class="apidocSignatureSpan">(tableBuilder, columnBuilder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.database">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>database
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.destroy">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>destroy
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.formatter">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>formatter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.initializeDriver">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>initializeDriver
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.initializePool">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>initializePool
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.poolDefaults">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>poolDefaults
            <span class="apidocSignatureSpan">(poolConfig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.prepBindings">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>prepBindings
            <span class="apidocSignatureSpan">(bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.query">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>query
            <span class="apidocSignatureSpan">(connection, obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.queryBuilder">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>queryBuilder
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.queryCompiler">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>queryCompiler
            <span class="apidocSignatureSpan">(builder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.raw">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>raw
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.releaseConnection">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>releaseConnection
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.runner">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>runner
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.schemaBuilder">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>schemaBuilder
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.schemaCompiler">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>schemaCompiler
            <span class="apidocSignatureSpan">(builder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.stream">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>stream
            <span class="apidocSignatureSpan">(connection, obj, _stream, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.tableBuilder">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>tableBuilder
            <span class="apidocSignatureSpan">(type, tableName, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.tableCompiler">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>tableCompiler
            <span class="apidocSignatureSpan">(tableBuilder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.toString">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.transaction">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>transaction
            <span class="apidocSignatureSpan">(container, config, outerTx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.validateConnection">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>validateConnection
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.Client.prototype.wrapIdentifier">
            function <span class="apidocSignatureSpan">knex.Client.prototype.</span>wrapIdentifier
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.builder">module knex.builder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.builder">
            function <span class="apidocSignatureSpan">knex.</span>builder
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.super_">
            function <span class="apidocSignatureSpan">knex.builder.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.builder.prototype">module knex.builder.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._aggregate">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_aggregate
            <span class="apidocSignatureSpan">(method, column, aggregateDistinct)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._bool">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_bool
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._clearGrouping">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_clearGrouping
            <span class="apidocSignatureSpan">(grouping)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._counter">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_counter
            <span class="apidocSignatureSpan">(column, amount, symbol)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._joinType">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_joinType
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._not">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_not
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype._objectWhere">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_objectWhere
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHaving">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHaving
            <span class="apidocSignatureSpan">(column, operator, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingNotBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingNotExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingNotIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingNotNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andHavingNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andWhere">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhere
            <span class="apidocSignatureSpan">(column, operator, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andWhereBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andWhereNot">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereNot
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andWhereNotBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.andWhereRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.as">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>as
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.asCallback">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>asCallback
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.avg">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>avg
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.avgDistinct">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>avgDistinct
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.bind">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>bind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.catch">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>catch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.clearSelect">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>clearSelect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.clearWhere">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>clearWhere
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.clone">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.column">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>column
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.columnInfo">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>columnInfo
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.columns">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>columns
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.connection">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>connection
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.count">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>count
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.countDistinct">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>countDistinct
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.crossJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>crossJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.debug">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>debug
            <span class="apidocSignatureSpan">(enabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.decrement">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>decrement
            <span class="apidocSignatureSpan">(column, amount)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.del">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>del
            <span class="apidocSignatureSpan">(ret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.delay">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>delay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.delete">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>delete
            <span class="apidocSignatureSpan">(ret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.distinct">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>distinct
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.ensure">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>ensure
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.finally">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>finally
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.first">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>first
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.forShare">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>forShare
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.forUpdate">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>forUpdate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.from">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>from
            <span class="apidocSignatureSpan">(tableName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.fromJS">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>fromJS
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.fullOuterJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>fullOuterJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.get">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>get
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.groupBy">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>groupBy
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.groupByRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>groupByRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.having">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>having
            <span class="apidocSignatureSpan">(column, operator, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingNotBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingNotExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingNotIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingNotNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.havingWrapped">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingWrapped
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.increment">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>increment
            <span class="apidocSignatureSpan">(column, amount)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.innerJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>innerJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.insert">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>insert
            <span class="apidocSignatureSpan">(values, returning)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.into">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>into
            <span class="apidocSignatureSpan">(tableName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.join">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>join
            <span class="apidocSignatureSpan">(table, first)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.joinRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>joinRaw
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.leftJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>leftJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.leftOuterJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>leftOuterJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.limit">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>limit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.map">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.mapSeries">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>mapSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.max">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>max
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.min">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>min
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.modify">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>modify
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.offset">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>offset
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.options">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>options
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHaving">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHaving
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingNotBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingNotExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingNotIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingNotNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orHavingRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhere">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhere
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereNot">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNot
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereNotBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereNotExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereNotIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereNotNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orWhereRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orderBy">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orderBy
            <span class="apidocSignatureSpan">(column, direction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.orderByRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orderByRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.outerJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>outerJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.pipe">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>pipe
            <span class="apidocSignatureSpan">(writable, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.pluck">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>pluck
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.reduce">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>reduce
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.reflect">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>reflect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.return">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>return
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.returning">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>returning
            <span class="apidocSignatureSpan">(_returning)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.rightJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>rightJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.rightOuterJoin">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>rightOuterJoin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.select">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>select
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.spread">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>spread
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.stream">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>stream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.sum">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>sum
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.sumDistinct">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>sumDistinct
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.table">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>table
            <span class="apidocSignatureSpan">(tableName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.tap">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>tap
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.then">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>then
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.thenReturn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>thenReturn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.timeout">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.toQuery">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>toQuery
            <span class="apidocSignatureSpan">(tz)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.toSQL">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>toSQL
            <span class="apidocSignatureSpan">(method, tz)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.toString">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.transacting">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>transacting
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.truncate">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>truncate
            <span class="apidocSignatureSpan">(tableName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.union">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>union
            <span class="apidocSignatureSpan">(callbacks, wrap)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.unionAll">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>unionAll
            <span class="apidocSignatureSpan">(callback, wrap)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.update">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>update
            <span class="apidocSignatureSpan">(values, returning)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.where">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>where
            <span class="apidocSignatureSpan">(column, operator, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereNot">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNot
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereNotBetween">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereNotExists">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereNotIn">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereNotNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereNull">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereRaw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.whereWrapped">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereWrapped
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.with">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>with
            <span class="apidocSignatureSpan">(alias, statement, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.withRaw">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>withRaw
            <span class="apidocSignatureSpan">(alias, sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.withSchema">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>withSchema
            <span class="apidocSignatureSpan">(schemaName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.withWrapped">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>withWrapped
            <span class="apidocSignatureSpan">(alias, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.builder.prototype.yield">
            function <span class="apidocSignatureSpan">knex.builder.prototype.</span>yield
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.columnbuilder">module knex.columnbuilder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.columnbuilder">
            function <span class="apidocSignatureSpan">knex.</span>columnbuilder
            <span class="apidocSignatureSpan">(client, tableBuilder, type, args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.columnbuilder.prototype">module knex.columnbuilder.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.after">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>after
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.collate">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>collate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.comment">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>comment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.default">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>default
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.defaultTo">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>defaultTo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.defaultsTo">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>defaultsTo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.first">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>first
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.index">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>index
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.notNull">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>notNull
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.notNullable">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>notNullable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.nullable">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>nullable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.primary">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>primary
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.references">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>references
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.unique">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>unique
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columnbuilder.prototype.unsigned">
            function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>unsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.columncompiler">module knex.columncompiler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.columncompiler">
            function <span class="apidocSignatureSpan">knex.</span>columncompiler
            <span class="apidocSignatureSpan">(client, tableCompiler, columnBuilder)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.columncompiler.prototype">module knex.columncompiler.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype._num">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>_num
            <span class="apidocSignatureSpan">(val, fallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.compileColumn">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>compileColumn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.decimal">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>decimal
            <span class="apidocSignatureSpan">(precision, scale)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.defaultTo">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>defaultTo
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.floating">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>floating
            <span class="apidocSignatureSpan">(precision, scale)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.getColumnName">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>getColumnName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.getColumnType">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>getColumnType
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.getModifiers">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>getModifiers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.notNullable">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>notNullable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.nullable">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>nullable
            <span class="apidocSignatureSpan">(nullable)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.pushAdditional">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>pushAdditional
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.pushQuery">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>pushQuery
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.specifictype">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>specifictype
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.toSQL">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>toSQL
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.columncompiler.prototype.varchar">
            function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>varchar
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>bigincrements</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>biginteger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>binary</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>bit</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>bool</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>date</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>datetime</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>enu</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>increments</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>integer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>json</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>mediumint</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>smallint</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>text</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>time</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>timestamp</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>tinyint</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>uuid</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.compiler">module knex.compiler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.compiler">
            function <span class="apidocSignatureSpan">knex.</span>compiler
            <span class="apidocSignatureSpan">(client, builder)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.compiler.prototype">module knex.compiler.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype._groupsOrders">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_groupsOrders
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype._not">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_not
            <span class="apidocSignatureSpan">(statement, str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype._prepInsert">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_prepInsert
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype._prepUpdate">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_prepUpdate
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.aggregate">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>aggregate
            <span class="apidocSignatureSpan">(stmt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.columns">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>columns
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.counter">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>counter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.del">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>del
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.first">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>first
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.group">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>group
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.having">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>having
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingBasic">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingBasic
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingBetween">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingBetween
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingExists">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingExists
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingIn">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingIn
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingNull">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingNull
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingRaw">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingRaw
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.havingWrapped">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingWrapped
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.insert">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>insert
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.join">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.limit">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>limit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.lock">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>lock
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.multiHavingIn">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>multiHavingIn
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.multiOnIn">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>multiOnIn
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.multiWhereIn">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>multiWhereIn
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.offset">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>offset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onBasic">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onBasic
            <span class="apidocSignatureSpan">(clause)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onBetween">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onBetween
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onExists">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onExists
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onIn">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onIn
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onNull">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onNull
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onRaw">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onRaw
            <span class="apidocSignatureSpan">(clause)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onUsing">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onUsing
            <span class="apidocSignatureSpan">(clause)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onWrapped">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onWrapped
            <span class="apidocSignatureSpan">(clause)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.onlyUnions">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onlyUnions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.order">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>order
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.pluck">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>pluck
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.select">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>select
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.toSQL">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>toSQL
            <span class="apidocSignatureSpan">(method, tz)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.truncate">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>truncate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.union">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>union
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.update">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>update
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.where">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>where
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereBasic">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereBasic
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereBetween">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereBetween
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereExists">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereExists
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereIn">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereIn
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereNull">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereNull
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereRaw">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereRaw
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.whereWrapped">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereWrapped
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.with">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>with
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.withRaw">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>withRaw
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.withWrapped">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>withWrapped
            <span class="apidocSignatureSpan">(statement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.compiler.prototype.wrap">
            function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>wrap
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_emptyInsertValue</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.formatter">module knex.formatter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.formatter">
            function <span class="apidocSignatureSpan">knex.</span>formatter
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.formatter.prototype">module knex.formatter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype._wrapString">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>_wrapString
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.alias">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>alias
            <span class="apidocSignatureSpan">(first, second)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.columnize">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>columnize
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.compileCallback">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>compileCallback
            <span class="apidocSignatureSpan">(callback, method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.direction">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>direction
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.operator">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>operator
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.outputQuery">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>outputQuery
            <span class="apidocSignatureSpan">(compiled, isParameter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.parameter">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>parameter
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.parameterize">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>parameterize
            <span class="apidocSignatureSpan">(values, notSetValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.rawOrFn">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>rawOrFn
            <span class="apidocSignatureSpan">(value, method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.unwrapRaw">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>unwrapRaw
            <span class="apidocSignatureSpan">(value, isParameter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.wrap">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>wrap
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.formatter.prototype.wrapAsIdentifier">
            function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>wrapAsIdentifier
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.functionhelper">module knex.functionhelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.functionhelper.functionhelper">
            function <span class="apidocSignatureSpan">knex.</span>functionhelper
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.functionhelper.prototype">module knex.functionhelper.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.functionhelper.prototype.now">
            function <span class="apidocSignatureSpan">knex.functionhelper.prototype.</span>now
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.helpers">module knex.helpers</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">knex.helpers.</span>__esModule</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.containsUndefined">
            function <span class="apidocSignatureSpan">knex.helpers.</span>containsUndefined
            <span class="apidocSignatureSpan">(mixed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.debugLog">
            function <span class="apidocSignatureSpan">knex.helpers.</span>debugLog
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.deprecate">
            function <span class="apidocSignatureSpan">knex.helpers.</span>deprecate
            <span class="apidocSignatureSpan">(method, alternate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.error">
            function <span class="apidocSignatureSpan">knex.helpers.</span>error
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.exit">
            function <span class="apidocSignatureSpan">knex.helpers.</span>exit
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.normalizeArr">
            function <span class="apidocSignatureSpan">knex.helpers.</span>normalizeArr
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.skim">
            function <span class="apidocSignatureSpan">knex.helpers.</span>skim
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.helpers.warn">
            function <span class="apidocSignatureSpan">knex.helpers.</span>warn
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.index">module knex.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.index">
            function <span class="apidocSignatureSpan">knex.</span>index
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.Client">
            function <span class="apidocSignatureSpan">knex.index.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.raw">
            function <span class="apidocSignatureSpan">knex.index.</span>raw
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.index.prototype">module knex.index.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._absoluteConfigDir">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_absoluteConfigDir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._createMigrationLockTable">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_createMigrationLockTable
            <span class="apidocSignatureSpan">(tableName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._createMigrationTable">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_createMigrationTable
            <span class="apidocSignatureSpan">(tableName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._ensureFolder">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_ensureFolder
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._ensureTable">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_ensureTable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._freeLock">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_freeLock
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._generateStubTemplate">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_generateStubTemplate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._getLastBatch">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_getLastBatch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._getLock">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_getLock
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._getLockTableName">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_getLockTableName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._isLocked">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_isLocked
            <span class="apidocSignatureSpan">(trx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._latestBatchNumber">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_latestBatchNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._listAll">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_listAll
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._listCompleted">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_listCompleted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._lockMigrations">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_lockMigrations
            <span class="apidocSignatureSpan">(trx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._migrationData">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_migrationData
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._runBatch">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_runBatch
            <span class="apidocSignatureSpan">(migrations, direction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._transaction">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_transaction
            <span class="apidocSignatureSpan">(migration, direction, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._useTransaction">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_useTransaction
            <span class="apidocSignatureSpan">(migration, allTransactionsDisabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._validateMigrationStructure">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_validateMigrationStructure
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._waterfallBatch">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_waterfallBatch
            <span class="apidocSignatureSpan">(batchNo, migrations, direction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype._writeNewMigration">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>_writeNewMigration
            <span class="apidocSignatureSpan">(name, tmpl)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.currentVersion">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>currentVersion
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.forceFreeMigrationsLock">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>forceFreeMigrationsLock
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.latest">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>latest
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.make">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>make
            <span class="apidocSignatureSpan">(name, config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.rollback">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>rollback
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.setConfig">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>setConfig
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.index.prototype.status">
            function <span class="apidocSignatureSpan">knex.index.prototype.</span>status
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.joinclause">module knex.joinclause</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.joinclause">
            function <span class="apidocSignatureSpan">knex.</span>joinclause
            <span class="apidocSignatureSpan">(table, type, schema)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.joinclause.prototype">module knex.joinclause.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype._bool">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>_bool
            <span class="apidocSignatureSpan">(bool)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype._not">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>_not
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOn
            <span class="apidocSignatureSpan">(first, operator, second)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnBetween">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnExists">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnIn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnNotBetween">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnNotExists">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnNotIn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnNotNull">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.andOnNull">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.on">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>on
            <span class="apidocSignatureSpan">(first, operator, second)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onBetween">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onExists">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onIn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onNotBetween">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onNotExists">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onNotIn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onNotNull">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.onNull">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNull
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOn
            <span class="apidocSignatureSpan">(first, operator, second)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnBetween">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnExists">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnIn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnNotBetween">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotBetween
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnNotExists">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnNotIn">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotIn
            <span class="apidocSignatureSpan">(column, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnNotNull">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.orOnNull">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNull
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.type">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>type
            <span class="apidocSignatureSpan">(_type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.joinclause.prototype.using">
            function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>using
            <span class="apidocSignatureSpan">(column)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>grouping</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.migrate_stub">module knex.migrate_stub</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.migrate_stub.migrate_stub">
            function <span class="apidocSignatureSpan">knex.</span>migrate_stub
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.migrate_stub.prototype">module knex.migrate_stub.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.migrate_stub.prototype.currentVersion">
            function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>currentVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.migrate_stub.prototype.latest">
            function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>latest
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.migrate_stub.prototype.make">
            function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>make
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.migrate_stub.prototype.rollback">
            function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>rollback
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.raw">module knex.raw</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.raw">
            function <span class="apidocSignatureSpan">knex.</span>raw
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.super_">
            function <span class="apidocSignatureSpan">knex.raw.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.raw.prototype">module knex.raw.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.asCallback">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>asCallback
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.bind">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>bind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.catch">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>catch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.connection">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>connection
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.debug">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>debug
            <span class="apidocSignatureSpan">(enabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.delay">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>delay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.ensure">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>ensure
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.finally">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>finally
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.get">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>get
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.map">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.mapSeries">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>mapSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.options">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>options
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.pipe">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>pipe
            <span class="apidocSignatureSpan">(writable, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.reduce">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>reduce
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.reflect">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>reflect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.return">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>return
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.set">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>set
            <span class="apidocSignatureSpan">(sql, bindings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.spread">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>spread
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.stream">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>stream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.tap">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>tap
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.then">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>then
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.thenReturn">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>thenReturn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.timeout">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.toQuery">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>toQuery
            <span class="apidocSignatureSpan">(tz)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.toSQL">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>toSQL
            <span class="apidocSignatureSpan">(method, tz)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.toString">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.transacting">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>transacting
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.wrap">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>wrap
            <span class="apidocSignatureSpan">(before, after)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.raw.prototype.yield">
            function <span class="apidocSignatureSpan">knex.raw.prototype.</span>yield
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.runner">module knex.runner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.runner">
            function <span class="apidocSignatureSpan">knex.</span>runner
            <span class="apidocSignatureSpan">(client, builder)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.runner.prototype">module knex.runner.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.prototype.ensureConnection">
            function <span class="apidocSignatureSpan">knex.runner.prototype.</span>ensureConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.prototype.pipe">
            function <span class="apidocSignatureSpan">knex.runner.prototype.</span>pipe
            <span class="apidocSignatureSpan">(writable, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.prototype.query">
            function <span class="apidocSignatureSpan">knex.runner.prototype.</span>query
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.prototype.queryArray">
            function <span class="apidocSignatureSpan">knex.runner.prototype.</span>queryArray
            <span class="apidocSignatureSpan">(queries)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.prototype.run">
            function <span class="apidocSignatureSpan">knex.runner.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.runner.prototype.stream">
            function <span class="apidocSignatureSpan">knex.runner.prototype.</span>stream
            <span class="apidocSignatureSpan">(options, handler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.seed_stub">module knex.seed_stub</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.seed_stub.seed_stub">
            function <span class="apidocSignatureSpan">knex.</span>seed_stub
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.seed_stub.prototype">module knex.seed_stub.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.seed_stub.prototype.make">
            function <span class="apidocSignatureSpan">knex.seed_stub.prototype.</span>make
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.seed_stub.prototype.run">
            function <span class="apidocSignatureSpan">knex.seed_stub.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.string">module knex.string</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">knex.string.</span>__esModule</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.string.arrayToList">
            function <span class="apidocSignatureSpan">knex.string.</span>arrayToList
            <span class="apidocSignatureSpan">(array, finalEscape, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.string.bufferToString">
            function <span class="apidocSignatureSpan">knex.string.</span>bufferToString
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.string.dateToString">
            function <span class="apidocSignatureSpan">knex.string.</span>dateToString
            <span class="apidocSignatureSpan">(date, finalEscape, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.string.escapeObject">
            function <span class="apidocSignatureSpan">knex.string.</span>escapeObject
            <span class="apidocSignatureSpan">(val, finalEscape, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.string.escapeString">
            function <span class="apidocSignatureSpan">knex.string.</span>escapeString
            <span class="apidocSignatureSpan">(val, finalEscape, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.string.makeEscape">
            function <span class="apidocSignatureSpan">knex.string.</span>makeEscape
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.string.</span>charsMap</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.string.</span>charsRegex</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.tablebuilder">module knex.tablebuilder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.tablebuilder">
            function <span class="apidocSignatureSpan">knex.</span>tablebuilder
            <span class="apidocSignatureSpan">(client, method, tableName, fn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.tablebuilder.prototype">module knex.tablebuilder.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.bigIncrements">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigIncrements
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.bigInteger">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigInteger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.bigincrements">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigincrements
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.bigint">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigint
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.biginteger">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>biginteger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.binary">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>binary
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.bit">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.blob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>blob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.bool">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bool
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.boolean">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>boolean
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.char">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>char
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.charset">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>charset
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.collate">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>collate
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.comment">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>comment
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.date">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>date
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.dateTime">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dateTime
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.datetime">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>datetime
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.decimal">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>decimal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.double">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>double
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.dropForeign">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropForeign
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.dropIndex">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropIndex
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.dropPrimary">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropPrimary
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.dropUnique">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropUnique
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.engine">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>engine
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.enu">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>enu
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.enum">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>enum
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.float">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>float
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.foreign">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>foreign
            <span class="apidocSignatureSpan">(column, keyName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.increments">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>increments
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.index">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>index
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.inherits">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>inherits
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.int">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>int
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.integer">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>integer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.json">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>json
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.jsonb">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>jsonb
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.longBlob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longBlob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.longText">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.longblob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longblob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.longtext">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longtext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.mediumBlob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumBlob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.mediumText">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.mediumblob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumblob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.mediumint">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumint
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.mediumtext">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumtext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.primary">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>primary
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.real">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>real
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.serial">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>serial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.set">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>set
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.setSchema">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>setSchema
            <span class="apidocSignatureSpan">(schemaName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.smallint">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>smallint
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.specificType">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>specificType
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.string">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>string
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.text">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>text
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.time">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>time
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.timestamp">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>timestamp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.timestamps">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>timestamps
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.tinyBlob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyBlob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.tinyText">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.tinyblob">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyblob
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.tinyint">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyint
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.tinytext">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinytext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.toSQL">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>toSQL
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.unique">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>unique
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.uuid">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>uuid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.varbinary">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>varbinary
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.varchar">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>varchar
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablebuilder.prototype.year">
            function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>year
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.tablecompiler">module knex.tablecompiler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.tablecompiler">
            function <span class="apidocSignatureSpan">knex.</span>tablecompiler
            <span class="apidocSignatureSpan">(client, tableBuilder)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.tablecompiler.prototype">module knex.tablecompiler.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>lowerCase</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype._indexCommand">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>_indexCommand
            <span class="apidocSignatureSpan">(type, tableName, columns)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.addColumns">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>addColumns
            <span class="apidocSignatureSpan">(columns, prefix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.alter">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.alterColumns">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterColumns
            <span class="apidocSignatureSpan">(columns, colBuilders)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.alterTable">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterTable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.alterTableForCreate">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterTableForCreate
            <span class="apidocSignatureSpan">(columnTypes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.columnQueries">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>columnQueries
            <span class="apidocSignatureSpan">(columns)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.create">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>create
            <span class="apidocSignatureSpan">(ifNot)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.createIfNot">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>createIfNot
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.dropColumn">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropColumn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.dropForeign">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropForeign
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.dropIndex">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropIndex
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.dropUnique">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropUnique
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.foreign">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>foreign
            <span class="apidocSignatureSpan">(foreignData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.getColumnTypes">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>getColumnTypes
            <span class="apidocSignatureSpan">(columns)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.getColumns">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>getColumns
            <span class="apidocSignatureSpan">(method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.pushAdditional">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>pushAdditional
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.pushQuery">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>pushQuery
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.tableName">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>tableName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.tablecompiler.prototype.toSQL">
            function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>toSQL
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>createAlterTableMethods</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>addColumnsPrefix</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterColumnsPrefix</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropColumnPrefix</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.transaction">module knex.transaction</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.transaction">
            function <span class="apidocSignatureSpan">knex.</span>transaction
            <span class="apidocSignatureSpan">(client, container, config, outerTx)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.transaction.prototype">module knex.transaction.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.acquireConnection">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>acquireConnection
            <span class="apidocSignatureSpan">(client, config, txid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.asCallback">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>asCallback
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.begin">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>begin
            <span class="apidocSignatureSpan">(conn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.bind">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>bind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.catch">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>catch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.commit">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>commit
            <span class="apidocSignatureSpan">(conn, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.debug">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>debug
            <span class="apidocSignatureSpan">(enabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.delay">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>delay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.ensure">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>ensure
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.exec">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>exec
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.finally">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>finally
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.get">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>get
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.isCompleted">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>isCompleted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.map">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.mapSeries">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>mapSeries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.query">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>query
            <span class="apidocSignatureSpan">(conn, sql, status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.reduce">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>reduce
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.reflect">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>reflect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.release">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>release
            <span class="apidocSignatureSpan">(conn, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.return">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>return
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.rollback">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>rollback
            <span class="apidocSignatureSpan">(conn, error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.rollbackTo">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>rollbackTo
            <span class="apidocSignatureSpan">(conn, error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.savepoint">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>savepoint
            <span class="apidocSignatureSpan">(conn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.spread">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>spread
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.tap">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>tap
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.then">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>then
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.thenReturn">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>thenReturn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.transaction.prototype.yield">
            function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>yield
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.knex.utils">module knex.utils</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">knex.utils.</span>__esModule</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.utils.BlobHelper">
            function <span class="apidocSignatureSpan">knex.utils.</span>BlobHelper
            <span class="apidocSignatureSpan">(columnName, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.utils.ReturningHelper">
            function <span class="apidocSignatureSpan">knex.utils.</span>ReturningHelper
            <span class="apidocSignatureSpan">(columnName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.utils.generateCombinedName">
            function <span class="apidocSignatureSpan">knex.utils.</span>generateCombinedName
            <span class="apidocSignatureSpan">(postfix, name, subNames)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.knex.utils.wrapSqlWithCatch">
            function <span class="apidocSignatureSpan">knex.utils.</span>wrapSqlWithCatch
            <span class="apidocSignatureSpan">(sql, errorNumberToCatch)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex" id="apidoc.module.knex">module knex</a></h1>


    <h2>
        <a href="#apidoc.element.knex.knex" id="apidoc.element.knex.knex">
        function <span class="apidocSignatureSpan"></span>knex
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Knex(config) {
  if (typeof config === 'string') {
    return new Knex((0, _assign3.default)((0, _parseConnection2.default)(config), arguments[2]));
  }
  var Dialect = void 0;
  if (arguments.length === 0 || !config.client &amp;&amp; !config.dialect) {
    Dialect = _client2.default;
  } else if (typeof config.client === 'function' &amp;&amp; config.client.prototype instanceof _client2.default) {
    Dialect = config.client;
  } else {
    var clientName = config.client || config.dialect;
    Dialect = require('./dialects/' + (aliases[clientName] || clientName) + '/index.js');
  }
  if (typeof config.connection === 'string') {
    config = (0, _assign3.default)({}, config, { connection: (0, _parseConnection2.default)(config.connection).connection });
  }
  return (0, _makeKnex2.default)(new Dialect(config));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
  });
};

Migrator.prototype.status = function status(config) {
  this.config = this.setConfig(config);

  return _bluebird2.default.all([this.<span class="apidocCodeKeywordSpan">knex</span>(this.config.tableName).select('*'
;), this._listAll()]).spread(function (db, code) {
    return db.length - code.length;
  });
};

// Retrieves and returns the current migration version we're on, as a promise.
// If no migrations have been run yet, return "none".
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client" id="apidoc.element.knex.Client">
        function <span class="apidocSignatureSpan">knex.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client() {
  var config = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

  this.config = config;

  //Client is a required field, so throw error if it's not supplied.
  //If 'this.dialect' is set, then this is a 'super()' call, in which case
  //'client' does not have to be set as it's already assigned on the client prototype.
  if (!this.config.client &amp;&amp; !this.dialect) {
    throw new Error('knex: Required configuration option \'client\' is missing.');
  }

  this.connectionSettings = (0, _cloneDeep3.default)(config.connection || {});
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.raw('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


// Get a raw connection, called by the `pool` whenever a new
// connection needs to be added to the pool.
acquireRawConnection: function acquireRawConnection() {
  var client = this;
  return new _bluebird2.default(function (resolver, rejecter) {
    var connection = new client.driver.<span class="apidocCodeKeywordSpan">Client</span>(client.connectionSettings);
    connection.connect(function (err, connection) {
      if (err) {
        return rejecter(err);
      }
      connection.on('error', function (err) {
        connection.__knex__disposed = err;
      });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder" id="apidoc.element.knex.builder">
        function <span class="apidocSignatureSpan">knex.</span>builder
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Builder(client) {
  this.client = client;
  this.and = this;
  this._single = {};
  this._statements = [];
  this._method = 'select';
  this._debug = client.config &amp;&amp; client.config.debug;

  // Internal flags used in the builder.
  this._joinFlag = 'inner';
  this._boolFlag = 'and';
  this._notFlag = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder" id="apidoc.element.knex.columnbuilder">
        function <span class="apidocSignatureSpan">knex.</span>columnbuilder
        <span class="apidocSignatureSpan">(client, tableBuilder, type, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ColumnBuilder(client, tableBuilder, type, args) {
  this.client = client;
  this._method = 'add';
  this._single = {};
  this._modifiers = {};
  this._statements = [];
  this._type = columnAlias[type] || type;
  this._args = args;
  this._tableBuilder = tableBuilder;

  // If we're altering the table, extend the object
  // with the available "alter" methods.
  if (tableBuilder._method === 'alter') {
    (0, _extend3.default)(this, AlterMethods);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler" id="apidoc.element.knex.columncompiler">
        function <span class="apidocSignatureSpan">knex.</span>columncompiler
        <span class="apidocSignatureSpan">(client, tableCompiler, columnBuilder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ColumnCompiler(client, tableCompiler, columnBuilder) {
  this.client = client;
  this.tableCompiler = tableCompiler;
  this.columnBuilder = columnBuilder;
  this.args = columnBuilder._args;
  this.type = columnBuilder._type.toLowerCase();
  this.grouped = (0, _groupBy3.default)(columnBuilder._statements, 'grouping');
  this.modified = columnBuilder._modifiers;
  this.isIncrements = this.type.indexOf('increments') !== -1;
  this.formatter = client.formatter();
  this.sequence = [];
  this.modifiers = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler" id="apidoc.element.knex.compiler">
        function <span class="apidocSignatureSpan">knex.</span>compiler
        <span class="apidocSignatureSpan">(client, builder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function QueryCompiler(client, builder) {
  this.client = client;
  this.method = builder._method || 'select';
  this.options = builder._options;
  this.single = builder._single;
  this.timeout = builder._timeout || false;
  this.cancelOnTimeout = builder._cancelOnTimeout || false;
  this.grouped = (0, _groupBy3.default)(builder._statements, 'grouping');
  this.formatter = client.formatter();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter" id="apidoc.element.knex.formatter">
        function <span class="apidocSignatureSpan">knex.</span>formatter
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Formatter(client) {
  (0, _classCallCheck3.default)(this, Formatter);

  this.client = client;
  this.bindings = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.toQuery();
  },


  // Returns the raw sql for the query.
  toSQL: function toSQL(method, tz) {
var obj = void 0;
var formatter = this.client.<span class="apidocCodeKeywordSpan">formatter</span>();

if (Array.isArray(this.bindings)) {
  obj = replaceRawArrBindings(this, formatter);
} else if (this.bindings &amp;&amp; (0, _isPlainObject3.default)(this.bindings)) {
  obj = replaceKeyBindings(this, formatter);
} else {
  obj = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.functionhelper" id="apidoc.element.knex.functionhelper">
        function <span class="apidocSignatureSpan">knex.</span>functionhelper
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FunctionHelper(client) {
  this.client = client;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index" id="apidoc.element.knex.index">
        function <span class="apidocSignatureSpan">knex.</span>index
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Knex(config) {
  if (typeof config === 'string') {
    return new Knex((0, _assign3.default)((0, _parseConnection2.default)(config), arguments[2]));
  }
  var Dialect = void 0;
  if (arguments.length === 0 || !config.client &amp;&amp; !config.dialect) {
    Dialect = _client2.default;
  } else if (typeof config.client === 'function' &amp;&amp; config.client.prototype instanceof _client2.default) {
    Dialect = config.client;
  } else {
    var clientName = config.client || config.dialect;
    Dialect = require('./dialects/' + (aliases[clientName] || clientName) + '/index.js');
  }
  if (typeof config.connection === 'string') {
    config = (0, _assign3.default)({}, config, { connection: (0, _parseConnection2.default)(config.connection).connection });
  }
  return (0, _makeKnex2.default)(new Dialect(config));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause" id="apidoc.element.knex.joinclause">
        function <span class="apidocSignatureSpan">knex.</span>joinclause
        <span class="apidocSignatureSpan">(table, type, schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JoinClause(table, type, schema) {
  this.schema = schema;
  this.table = table;
  this.joinType = type;
  this.and = this;
  this.clauses = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.migrate_stub" id="apidoc.element.knex.migrate_stub">
        function <span class="apidocSignatureSpan">knex.</span>migrate_stub
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">migrate_stub = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw" id="apidoc.element.knex.raw">
        function <span class="apidocSignatureSpan">knex.</span>raw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">raw = function (sql, bindings) {
  (0, _helpers.warn)('global Knex.raw is deprecated, use knex.raw (chain off an initialized knex object)');
  return new _raw2.default().set(sql, bindings);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.<span class="apidocCodeKeywordSpan">raw</span>('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}
(0, _inherits2.default)(Client, _events.EventEmitter);

(0, _assign3.default)(Client.prototype, {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.runner" id="apidoc.element.knex.runner">
        function <span class="apidocSignatureSpan">knex.</span>runner
        <span class="apidocSignatureSpan">(client, builder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runner(client, builder) {
  this.client = client;
  this.builder = builder;
  this.queries = [];

  // The "connection" object is set on the runner when
  // "run" is called.
  this.connection = void 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return (0, _map3.default)(data, function (statement) {
    return _this.client._formatQuery(statement.sql, statement.bindings, tz);
  }).join(';\n');
};

// Create a new instance of the `Runner`, passing in the current object.
Target.prototype.then = function () /* onFulfilled, onRejected */{
  var result = this.client.<span class="apidocCodeKeywordSpan">runner</span>(this).run();
  return result.then.apply(result, arguments);
};

// Add additional "options" to the builder. Typically used for client specific
// items, like the `mysql` and `sqlite3` drivers.
Target.prototype.options = function (opts) {
  this._options = this._options || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.seed_stub" id="apidoc.element.knex.seed_stub">
        function <span class="apidocSignatureSpan">knex.</span>seed_stub
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">seed_stub = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder" id="apidoc.element.knex.tablebuilder">
        function <span class="apidocSignatureSpan">knex.</span>tablebuilder
        <span class="apidocSignatureSpan">(client, method, tableName, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TableBuilder(client, method, tableName, fn) {
  this.client = client;
  this._fn = fn;
  this._method = method;
  this._schemaName = undefined;
  this._tableName = tableName;
  this._statements = [];
  this._single = {};

  if (!(0, _isFunction3.default)(this._fn)) {
    throw new TypeError('A callback function must be supplied to calls against `.createTable` ' + 'and `.table`');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler" id="apidoc.element.knex.tablecompiler">
        function <span class="apidocSignatureSpan">knex.</span>tablecompiler
        <span class="apidocSignatureSpan">(client, tableBuilder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TableCompiler(client, tableBuilder) {
  this.client = client;
  this.method = tableBuilder._method;
  this.schemaNameRaw = tableBuilder._schemaName;
  this.tableNameRaw = tableBuilder._tableName;
  this.single = tableBuilder._single;
  this.grouped = (0, _groupBy3.default)(tableBuilder._statements, 'grouping');
  this.formatter = client.formatter();
  this.sequence = [];
  this._formatting = client.config &amp;&amp; client.config.formatting;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction" id="apidoc.element.knex.transaction">
        function <span class="apidocSignatureSpan">knex.</span>transaction
        <span class="apidocSignatureSpan">(client, container, config, outerTx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transaction(client, container, config, outerTx) {
  (0, _classCallCheck3.default)(this, Transaction);

  var _this = (0, _possibleConstructorReturn3.default)(this, _EventEmitter.call(this));

  var txid = _this.txid = (0, _uniqueId3.default)('trx');

  _this.client = client;
  _this.outerTx = outerTx;
  _this.trxClient = undefined;
  _this._debug = client.config &amp;&amp; client.config.debug;

  debug('%s: Starting %s transaction', txid, outerTx ? 'nested' : 'top level');

  _this._promise = _bluebird2.default.using(_this.acquireConnection(client, config, txid), function (connection) {

    var trxClient = _this.trxClient = makeTxClient(_this, client, connection);
    var init = client.transacting ? _this.savepoint(connection) : _this.begin(connection);

    init.then(function () {
      return makeTransactor(_this, connection, trxClient);
    }).then(function (transactor) {
      // If we've returned a "thenable" from the transaction container, assume
      // the rollback and commit are chained to this object's success / failure.
      // Directly thrown errors are treated as automatic rollbacks.
      var result = void 0;
      try {
        result = container(transactor);
      } catch (err) {
        result = _bluebird2.default.reject(err);
      }
      if (result &amp;&amp; result.then &amp;&amp; typeof result.then === 'function') {
        result.then(function (val) {
          return transactor.commit(val);
        }).catch(function (err) {
          return transactor.rollback(err);
        });
      }
      return null;
    }).catch(function (e) {
      return _this._rejecter(e);
    });

    return new _bluebird2.default(function (resolver, rejecter) {
      _this._resolver = resolver;
      _this._rejecter = rejecter;
    });
  });

  _this._completed = false;

  // If there's a wrapping transaction, we need to wait for any older sibling
  // transactions to settle (commit or rollback) before we can start, and we
  // need to register ourselves with the parent transaction so any younger
  // siblings can wait for us to complete before they can start.
  _this._previousSibling = _bluebird2.default.resolve(true);
  if (outerTx) {
    if (outerTx._lastChild) _this._previousSibling = outerTx._lastChild;
    outerTx._lastChild = _this._promise;
  }
  return _this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.default = Transaction;
function makeTransactor(trx, connection, trxClient) {

var transactor = (0, _makeKnex2.default)(trxClient);

transactor.transaction = function (container, options) {
  return trxClient.<span class="apidocCodeKeywordSpan">transaction</span>(container, options, trx);
};
transactor.savepoint = function (container, options) {
  return transactor.transaction(container, options);
};

if (trx.client.transacting) {
  transactor.commit = function (value) {
...</pre></li>
    </ul>








































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.Client" id="apidoc.module.knex.Client">module knex.Client</a></h1>


    <h2>
        <a href="#apidoc.element.knex.Client.Client" id="apidoc.element.knex.Client.Client">
        function <span class="apidocSignatureSpan">knex.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client() {
  var config = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

  this.config = config;

  //Client is a required field, so throw error if it's not supplied.
  //If 'this.dialect' is set, then this is a 'super()' call, in which case
  //'client' does not have to be set as it's already assigned on the client prototype.
  if (!this.config.client &amp;&amp; !this.dialect) {
    throw new Error('knex: Required configuration option \'client\' is missing.');
  }

  this.connectionSettings = (0, _cloneDeep3.default)(config.connection || {});
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.raw('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


// Get a raw connection, called by the `pool` whenever a new
// connection needs to be added to the pool.
acquireRawConnection: function acquireRawConnection() {
  var client = this;
  return new _bluebird2.default(function (resolver, rejecter) {
    var connection = new client.driver.<span class="apidocCodeKeywordSpan">Client</span>(client.connectionSettings);
    connection.connect(function (err, connection) {
      if (err) {
        return rejecter(err);
      }
      connection.on('error', function (err) {
        connection.__knex__disposed = err;
      });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.super_" id="apidoc.element.knex.Client.super_">
        function <span class="apidocSignatureSpan">knex.Client.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.Client.prototype" id="apidoc.module.knex.Client.prototype">module knex.Client.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.knex.Client.prototype._escapeBinding" id="apidoc.element.knex.Client.prototype._escapeBinding">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>_escapeBinding
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function finalEscape(val) {
  var ctx = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  return escapeFn(val, finalEscape, ctx);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (match === '\\?') {
      return '?';
    }
    if (index === bindings.length) {
      return match;
    }
    var value = bindings[index++];
    return _this.<span class="apidocCodeKeywordSpan">_escapeBinding</span>(value, { timeZone: timeZone });
  });
},


_escapeBinding: (0, _string.makeEscape)({
  escapeString: function escapeString(str) {
    return '\'' + str.replace(/'/g, "''") + '\'';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype._formatQuery" id="apidoc.element.knex.Client.prototype._formatQuery">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>_formatQuery
        <span class="apidocSignatureSpan">(sql, bindings, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _formatQuery(sql, bindings, timeZone) {
  var _this = this;

  bindings = bindings == null ? [] : [].concat(bindings);
  var index = 0;
  return sql.replace(/\\?\?/g, function (match) {
    if (match === '\\?') {
      return '?';
    }
    if (index === bindings.length) {
      return match;
    }
    var value = bindings[index++];
    return _this._escapeBinding(value, { timeZone: timeZone });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  if (typeof obj === 'string') obj = { sql: obj };
  obj.bindings = this.prepBindings(obj.bindings);
  debugQuery(obj.sql);
  this.emit('query', (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
  debugBindings(obj.bindings);
  return this._query(connection, obj).catch(function (err) {
    err.message = _this2.<span class="apidocCodeKeywordSpan">_formatQuery</span>(obj.sql, obj.bindings) + ' - ' + err.
message;
    _this2.emit('query-error', err, (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
    throw err;
  });
},
stream: function stream(connection, obj, _stream, options) {
  if (typeof obj === 'string') obj = { sql: obj };
  this.emit('query', (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.acquireConnection" id="apidoc.element.knex.Client.prototype.acquireConnection">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>acquireConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function acquireConnection() {
  var _this4 = this;

  return new _bluebird2.default(function (resolver, rejecter) {
    if (!_this4.pool) {
      return rejecter(new Error('Unable to acquire a connection'));
    }
    var wasRejected = false;
    var t = setTimeout(function () {
      wasRejected = true;
      rejecter(new _bluebird2.default.TimeoutError('Knex: Timeout acquiring a connection. The pool is probably full. ' + 'Are you
 missing a .transacting(trx) call?'));
    }, _this4.config.acquireConnectionTimeout || 60000);
    _this4.pool.acquire(function (err, connection) {
      clearTimeout(t);
      if (err) {
        return rejecter(err);
      }
      if (wasRejected) {
        _this4.pool.release(connection);
      } else {
        debug('acquired connection from pool: %s', connection.__knexUid);
        resolver(connection);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Check whether there's a transaction flag, and that it has a connection.
  ensureConnection: function ensureConnection() {
var _this2 = this;

return _bluebird2.default.try(function () {
  return _this2.connection || new _bluebird2.default(function (resolver, rejecter) {
    // need to return promise or null from handler to prevent warning from bluebird
    return _this2.client.<span class="apidocCodeKeywordSpan">acquireConnection</span>().then(resolver).catch(_bluebird2.default.
TimeoutError, function (error) {
      if (_this2.builder) {
        error.sql = _this2.builder.sql;
        error.bindings = _this2.builder.bindings;
      }
      throw error;
    }).catch(rejecter);
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.assertCanCancelQuery" id="apidoc.element.knex.Client.prototype.assertCanCancelQuery">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>assertCanCancelQuery
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assertCanCancelQuery() {
  if (!this.canCancelQuery) {
    throw new Error("Query cancelling not supported for this dialect");
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var _ref = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  var cancel = _ref.cancel;

  if ((0, _isNumber3.default)(ms) &amp;&amp; ms &gt; 0) {
    this._timeout = ms;
    if (cancel) {
      this.client.<span class="apidocCodeKeywordSpan">assertCanCancelQuery</span>();
      this._cancelOnTimeout = true;
    }
  }
  return this;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.cancelQuery" id="apidoc.element.knex.Client.prototype.cancelQuery">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>cancelQuery
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function cancelQuery() {
  throw new Error("Query cancelling not supported for this dialect");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var timeout = obj.timeout;
var sql = obj.sql;
var bindings = obj.bindings;


var cancelQuery = void 0;
if (obj.cancelOnTimeout) {
  cancelQuery = _this.client.<span class="apidocCodeKeywordSpan">cancelQuery</span>(_this.connection);
} else {
  cancelQuery = _bluebird2.default.resolve();
}

return cancelQuery.catch(function (cancelError) {
  // cancellation failed
  throw (0, _assign3.default)(cancelError, {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.columnBuilder" id="apidoc.element.knex.Client.prototype.columnBuilder">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>columnBuilder
        <span class="apidocSignatureSpan">(tableBuilder, type, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columnBuilder(tableBuilder, type, args) {
  return new _columnbuilder2.default(this, tableBuilder, type, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// For each of the column methods, create a new "ColumnBuilder" interface,
// push it onto the "allStatements" stack, and then return the interface,
// with which we can add indexes, etc.
(0, _each3.default)(columnTypes, function (type) {
  TableBuilder.prototype[type] = function () {
    var args = (0, _toArray3.default)(arguments);
    var builder = this.client.<span class="apidocCodeKeywordSpan">columnBuilder</span>(this, type, args);
    this._statements.push({
      grouping: 'columns',
      builder: builder
    });
    return builder;
  };
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.columnCompiler" id="apidoc.element.knex.Client.prototype.columnCompiler">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>columnCompiler
        <span class="apidocSignatureSpan">(tableBuilder, columnBuilder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columnCompiler(tableBuilder, columnBuilder) {
  return new _columncompiler2.default(this, tableBuilder, columnBuilder);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var columns = this.grouped.columns || [];
method = method || 'add';

return columns.filter(function (column) {
  return column.builder._method === method;
}).map(function (column) {
  return _this.client.<span class="apidocCodeKeywordSpan">columnCompiler</span>(_this, column.builder);
});
};

TableCompiler.prototype.tableName = function () {
var name = this.schemaNameRaw ? this.schemaNameRaw + '.' + this.tableNameRaw : this.tableNameRaw;

return this.formatter.wrap(name);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.database" id="apidoc.element.knex.Client.prototype.database">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>database
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function database() {
  return this.connectionSettings.database;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.destroy" id="apidoc.element.knex.Client.prototype.destroy">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>destroy
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function destroy(callback) {
  var _this6 = this;

  var promise = new _bluebird2.default(function (resolver) {
    if (!_this6.pool) {
      return resolver();
    }
    _this6.pool.drain(function () {
      _this6.pool.destroyAllNow(function () {
        _this6.pool = undefined;
        resolver();
      });
    });
  });

  // Allow either a callback or promise interface for destruction.
  if (typeof callback === 'function') {
    promise.asCallback(callback);
  } else {
    return promise;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  initialize: function initialize(config) {
    return client.initialize(config);
  },


  // Convenience method for tearing down the pool.
  destroy: function destroy(callback) {
    return client.<span class="apidocCodeKeywordSpan">destroy</span>(callback);
  }
});

// Hook up the "knex" object as an EventEmitter.
var ee = new _events.EventEmitter();
for (var key in ee) {
  knex[key] = ee[key];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.formatter" id="apidoc.element.knex.Client.prototype.formatter">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>formatter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function formatter() {
  return new _formatter2.default(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.toQuery();
  },


  // Returns the raw sql for the query.
  toSQL: function toSQL(method, tz) {
var obj = void 0;
var formatter = this.client.<span class="apidocCodeKeywordSpan">formatter</span>();

if (Array.isArray(this.bindings)) {
  obj = replaceRawArrBindings(this, formatter);
} else if (this.bindings &amp;&amp; (0, _isPlainObject3.default)(this.bindings)) {
  obj = replaceKeyBindings(this, formatter);
} else {
  obj = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.initializeDriver" id="apidoc.element.knex.Client.prototype.initializeDriver">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>initializeDriver
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function initializeDriver() {
  try {
    this.driver = this._driver();
  } catch (e) {
    helpers.exit('Knex: run\n$ npm install ' + this.driverName + ' --save\n' + e.stack);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//'client' does not have to be set as it's already assigned on the client prototype.
if (!this.config.client &amp;&amp; !this.dialect) {
  throw new Error('knex: Required configuration option \'client\' is missing.');
}

this.connectionSettings = (0, _cloneDeep3.default)(config.connection || {});
if (this.driverName &amp;&amp; config.connection) {
  this.<span class="apidocCodeKeywordSpan">initializeDriver</span>();
  if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
    this.__cid = clientId();
    this.initializePool(config);
  }
}
this.valueForUndefined = this.raw('DEFAULT');
if (config.useNullAsDefault) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.initializePool" id="apidoc.element.knex.Client.prototype.initializePool">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>initializePool
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function initializePool(config) {
  if (this.pool) {
    helpers.warn('The pool has already been initialized');
    return;
  }
  this.pool = new _genericPool.Pool((0, _assign3.default)(this.poolDefaults(config.pool || {}), config.pool));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  this.connectionSettings = (0, _cloneDeep3.default)(config.connection || {});
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.<span class="apidocCodeKeywordSpan">initializePool</span>(config);
    }
  }
  this.valueForUndefined = this.raw('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.poolDefaults" id="apidoc.element.knex.Client.prototype.poolDefaults">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>poolDefaults
        <span class="apidocSignatureSpan">(poolConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function poolDefaults(poolConfig) {
  var _this3 = this;

  var name = this.dialect + ':' + this.driverName + ':' + this.__cid;
  return {
    min: 2,
    max: 10,
    name: name,
    log: function log(str, level) {
      if (level === 'info') {
        debugPool(level.toUpperCase() + ' pool ' + name + ' - ' + str);
      }
    },

    create: function create(callback) {
      _this3.acquireRawConnection().tap(function (connection) {
        connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
        if (poolConfig.afterCreate) {
          return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
        }
      }).asCallback(callback);
    },
    destroy: function destroy(connection) {
      if (poolConfig.beforeDestroy) {
        helpers.warn('\n            beforeDestroy is deprecated, please open an issue if you use this\n            to discuss alternative
 apis\n          ');
        poolConfig.beforeDestroy(connection, function () {});
      }
      if (connection !== void 0) {
        _this3.destroyRawConnection(connection);
      }
    },
    validate: function validate(connection) {
      if (connection.__knex__disposed) {
        helpers.warn('Connection Error: ' + connection.__knex__disposed);
        return false;
      }
      return _this3.validateConnection(connection);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
},
initializePool: function initializePool(config) {
  if (this.pool) {
    helpers.warn('The pool has already been initialized');
    return;
  }
  this.pool = new _genericPool.Pool((0, _assign3.default)(this.<span class="apidocCodeKeywordSpan">poolDefaults</span>(config.pool
 || {}), config.pool));
},
validateConnection: function validateConnection(connection) {
  return true;
},


// Acquire a connection from the pool.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.prepBindings" id="apidoc.element.knex.Client.prototype.prepBindings">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>prepBindings
        <span class="apidocSignatureSpan">(bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function prepBindings(bindings) {
  return bindings;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
  }),

  query: function query(connection, obj) {
var _this2 = this;

if (typeof obj === 'string') obj = { sql: obj };
obj.bindings = this.<span class="apidocCodeKeywordSpan">prepBindings</span>(obj.bindings);
debugQuery(obj.sql);
this.emit('query', (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
debugBindings(obj.bindings);
return this._query(connection, obj).catch(function (err) {
  err.message = _this2._formatQuery(obj.sql, obj.bindings) + ' - ' + err.message;
  _this2.emit('query-error', err, (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
  throw err;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.query" id="apidoc.element.knex.Client.prototype.query">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>query
        <span class="apidocSignatureSpan">(connection, obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(connection, obj) {
  var _this2 = this;

  if (typeof obj === 'string') obj = { sql: obj };
  obj.bindings = this.prepBindings(obj.bindings);
  debugQuery(obj.sql);
  this.emit('query', (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
  debugBindings(obj.bindings);
  return this._query(connection, obj).catch(function (err) {
    err.message = _this2._formatQuery(obj.sql, obj.bindings) + ' - ' + err.message;
    _this2.emit('query-error', err, (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
    throw err;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (runner.builder._debug) {
    helpers.debugLog(sql);
  }

  if ((0, _isArray3.default)(sql)) {
    return runner.queryArray(sql);
  }
  return runner.<span class="apidocCodeKeywordSpan">query</span>(sql);
})

// If there are any "error" listeners, we fire an error event
// and then re-throw the error to be eventually handled by
// the promise chain. Useful if you're wrapping in a custom `Promise`.
.catch(function (err) {
  if (runner.builder._events &amp;&amp; runner.builder._events.error) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.queryBuilder" id="apidoc.element.knex.Client.prototype.queryBuilder">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>queryBuilder
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function queryBuilder() {
  return new _builder2.default(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


  Formatter.prototype.compileCallback = function compileCallback(callback, method) {
var client = this.client;

// Build the callback

var builder = client.<span class="apidocCodeKeywordSpan">queryBuilder</span>();
callback.call(builder, builder);

// Compile the callback, using the current formatter (to track all bindings).
var compiler = client.queryCompiler(builder);
compiler.formatter = this;

// Return the compiled &amp; parameterized sql.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.queryCompiler" id="apidoc.element.knex.Client.prototype.queryCompiler">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>queryCompiler
        <span class="apidocSignatureSpan">(builder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function queryCompiler(builder) {
  return new _compiler2.default(this, builder);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.<span class="apidocCodeKeywordSpan">queryCompiler</span>(value).toSQL();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.raw" id="apidoc.element.knex.Client.prototype.raw">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>raw
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function raw() {
  var _ref;

  return (_ref = new _raw2.default(this)).set.apply(_ref, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.<span class="apidocCodeKeywordSpan">raw</span>('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}
(0, _inherits2.default)(Client, _events.EventEmitter);

(0, _assign3.default)(Client.prototype, {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.releaseConnection" id="apidoc.element.knex.Client.prototype.releaseConnection">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>releaseConnection
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function releaseConnection(connection) {
  var _this5 = this;

  return new _bluebird2.default(function (resolver) {
    debug('releasing connection to pool: %s', connection.__knexUid);
    _this5.pool.release(connection);
    resolver();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            error.bindings = _this2.builder.bindings;
          }
          throw error;
        }).catch(rejecter);
      });
    }).disposer(function () {
      // need to return promise or null from handler to prevent warning from bluebird
      return _this2.client.<span class="apidocCodeKeywordSpan">releaseConnection</span>(_this2.connection);
    });
  }
});

exports.default = Runner;
module.exports = exports['default'];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.runner" id="apidoc.element.knex.Client.prototype.runner">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>runner
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function runner(connection) {
  return new _runner2.default(this, connection);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return (0, _map3.default)(data, function (statement) {
    return _this.client._formatQuery(statement.sql, statement.bindings, tz);
  }).join(';\n');
};

// Create a new instance of the `Runner`, passing in the current object.
Target.prototype.then = function () /* onFulfilled, onRejected */{
  var result = this.client.<span class="apidocCodeKeywordSpan">runner</span>(this).run();
  return result.then.apply(result, arguments);
};

// Add additional "options" to the builder. Typically used for client specific
// items, like the `mysql` and `sqlite3` drivers.
Target.prototype.options = function (opts) {
  this._options = this._options || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.schemaBuilder" id="apidoc.element.knex.Client.prototype.schemaBuilder">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>schemaBuilder
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function schemaBuilder() {
  return new _builder4.default(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    helpers.warn('knex.VERSION is deprecated, you can get the module version' + "by running require('knex/package
').version");
    return VERSION;
  }
},

schema: {
  get: function get() {
    return client.<span class="apidocCodeKeywordSpan">schemaBuilder</span>();
  }
},

migrate: {
  get: function get() {
    return new _migrate2.default(knex);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.schemaCompiler" id="apidoc.element.knex.Client.prototype.schemaCompiler">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>schemaCompiler
        <span class="apidocSignatureSpan">(builder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function schemaCompiler(builder) {
  return new _compiler4.default(this, builder);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

SchemaBuilder.prototype.toString = function () {
  return this.toQuery();
};

SchemaBuilder.prototype.toSQL = function () {
  return this.client.<span class="apidocCodeKeywordSpan">schemaCompiler</span>(this).toSQL();
};

exports.default = SchemaBuilder;
module.exports = exports['default'];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.stream" id="apidoc.element.knex.Client.prototype.stream">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>stream
        <span class="apidocSignatureSpan">(connection, obj, _stream, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stream(connection, obj, _stream, options) {
  if (typeof obj === 'string') obj = { sql: obj };
  this.emit('query', (0, _assign3.default)({ __knexUid: connection.__knexUid }, obj));
  debugQuery(obj.sql);
  obj.bindings = this.prepBindings(obj.bindings);
  debugBindings(obj.bindings);
  return this._stream(connection, obj, _stream, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
  return this;
};

// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">stream</span>(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).pipe(writable, options);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.tableBuilder" id="apidoc.element.knex.Client.prototype.tableBuilder">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>tableBuilder
        <span class="apidocSignatureSpan">(type, tableName, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tableBuilder(type, tableName, fn) {
  return new _tablebuilder2.default(this, type, tableName, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
return this.sequence;
  }
});

function buildTable(type) {
  return function (tableName, fn) {
var builder = this.client.<span class="apidocCodeKeywordSpan">tableBuilder</span>(type, tableName, fn);

builder.setSchema(this.schema);
var sql = builder.toSQL();

for (var i = 0, l = sql.length; i &lt; l; i++) {
  this.sequence.push(sql[i]);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.tableCompiler" id="apidoc.element.knex.Client.prototype.tableCompiler">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>tableCompiler
        <span class="apidocSignatureSpan">(tableBuilder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tableCompiler(tableBuilder) {
  return new _tablecompiler2.default(this, tableBuilder);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// giving us additional methods if we're altering
// rather than creating the table.
TableBuilder.prototype.toSQL = function () {
  if (this._method === 'alter') {
    (0, _extend3.default)(this, AlterMethods);
  }
  this._fn.call(this, this);
  return this.client.<span class="apidocCodeKeywordSpan">tableCompiler</span>(this).toSQL();
};

(0, _each3.default)([

// Each of the index methods can be called individually, with the
// column name to be used, e.g. table.unique('column').
'index', 'primary', 'unique',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.toString" id="apidoc.element.knex.Client.prototype.toString">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() {
  return '[object KnexClient]';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var exec = function (cmd, args) {
  return new Promise(function(resolve, reject) {
// Execute command
var child = child_process.exec(cmd, {cwd: process.cwd(), env: process.env});

// Pass stdout and stderr
child.stdout.on('data', function(data) { process.stdout.write(data.<span class="apidocCodeKeywordSpan">toString</span>()); });
child.stderr.on('data', function(data) { process.stderr.write(data.toString()); });
// Handle result
child.on('exit', function (code) {
  if (code) reject(code);
  else resolve();
});
child.on('error', reject);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.transaction" id="apidoc.element.knex.Client.prototype.transaction">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>transaction
        <span class="apidocSignatureSpan">(container, config, outerTx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function transaction(container, config, outerTx) {
  return new _transaction2.default(this, container, config, outerTx);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.default = Transaction;
function makeTransactor(trx, connection, trxClient) {

var transactor = (0, _makeKnex2.default)(trxClient);

transactor.transaction = function (container, options) {
  return trxClient.<span class="apidocCodeKeywordSpan">transaction</span>(container, options, trx);
};
transactor.savepoint = function (container, options) {
  return transactor.transaction(container, options);
};

if (trx.client.transacting) {
  transactor.commit = function (value) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.validateConnection" id="apidoc.element.knex.Client.prototype.validateConnection">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>validateConnection
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function validateConnection(connection) {
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
    },
    validate: function validate(connection) {
      if (connection.__knex__disposed) {
        helpers.warn('Connection Error: ' + connection.__knex__disposed);
        return false;
      }
      return _this3.<span class="apidocCodeKeywordSpan">validateConnection</span>(connection);
    }
  };
},
initializePool: function initializePool(config) {
  if (this.pool) {
    helpers.warn('The pool has already been initialized');
    return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.Client.prototype.wrapIdentifier" id="apidoc.element.knex.Client.prototype.wrapIdentifier">
        function <span class="apidocSignatureSpan">knex.Client.prototype.</span>wrapIdentifier
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wrapIdentifier(value) {
  return value !== '*' ? '"' + value.replace(/"/g, '""') + '"' : '*';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var raw = this.unwrapRaw(value);
  if (raw) return raw;
  if (typeof value === 'number') return value;
  return this._wrapString(value + '');
};

Formatter.prototype.wrapAsIdentifier = function wrapAsIdentifier(value) {
  return this.client.<span class="apidocCodeKeywordSpan">wrapIdentifier</span>((value || '').trim());
};

Formatter.prototype.alias = function alias(first, second) {
  return first + ' as ' + second;
};

// The operator method takes a value and returns something or other.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.builder" id="apidoc.module.knex.builder">module knex.builder</a></h1>


    <h2>
        <a href="#apidoc.element.knex.builder.builder" id="apidoc.element.knex.builder.builder">
        function <span class="apidocSignatureSpan">knex.</span>builder
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Builder(client) {
  this.client = client;
  this.and = this;
  this._single = {};
  this._statements = [];
  this._method = 'select';
  this._debug = client.config &amp;&amp; client.config.debug;

  // Internal flags used in the builder.
  this._joinFlag = 'inner';
  this._boolFlag = 'and';
  this._notFlag = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.super_" id="apidoc.element.knex.builder.super_">
        function <span class="apidocSignatureSpan">knex.builder.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.builder.prototype" id="apidoc.module.knex.builder.prototype">module knex.builder.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.builder.prototype._aggregate" id="apidoc.element.knex.builder.prototype._aggregate">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_aggregate
        <span class="apidocSignatureSpan">(method, column, aggregateDistinct)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _aggregate(method, column, aggregateDistinct) {
  this._statements.push({
    grouping: 'columns',
    type: 'aggregate',
    method: method,
    value: column,
    aggregateDistinct: aggregateDistinct || false
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this;
},


// Retrieve the "count" result of the query.
count: function count(column) {
  return this.<span class="apidocCodeKeywordSpan">_aggregate</span>('count', column || '*');
},


// Retrieve the minimum value of a given column.
min: function min(column) {
  return this._aggregate('min', column);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype._bool" id="apidoc.element.knex.builder.prototype._bool">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_bool
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _bool(val) {
  if (arguments.length === 1) {
    this._boolFlag = val;
    return this;
  }
  var ret = this._boolFlag;
  this._boolFlag = 'and';
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._statements.push({
    grouping: 'where',
    type: 'whereBasic',
    column: column,
    operator: operator,
    value: value,
    not: this._not(),
    bool: this.<span class="apidocCodeKeywordSpan">_bool</span>()
  });
  return this;
},

// Adds an `or where` clause to the query.
orWhere: function orWhere() {
  this._bool('or');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype._clearGrouping" id="apidoc.element.knex.builder.prototype._clearGrouping">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_clearGrouping
        <span class="apidocSignatureSpan">(grouping)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _clearGrouping(grouping) {
  this._statements = (0, _reject3.default)(this._statements, { grouping: grouping });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  return this;
},


// Remove everything from select clause
clearSelect: function clearSelect() {
  this.<span class="apidocCodeKeywordSpan">_clearGrouping</span>('columns');
  return this;
},


// Remove everything from select clause
clearWhere: function clearWhere() {
  this._clearGrouping('where');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype._counter" id="apidoc.element.knex.builder.prototype._counter">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_counter
        <span class="apidocSignatureSpan">(column, amount, symbol)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _counter(column, amount, symbol) {
  var amt = parseInt(amount, 10);
  if (isNaN(amt)) amt = 1;
  this._method = 'counter';
  this._single.counter = {
    column: column,
    amount: amt,
    symbol: symbol || '+'
  };
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
avgDistinct: function avgDistinct(column) {
  return this._aggregate('avg', column, true);
},


// Increments a column's value by the specified amount.
increment: function increment(column, amount) {
  return this.<span class="apidocCodeKeywordSpan">_counter</span>(column, amount);
},


// Decrements a column's value by the specified amount.
decrement: function decrement(column, amount) {
  return this._counter(column, amount, '-');
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype._joinType" id="apidoc.element.knex.builder.prototype._joinType">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_joinType
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _joinType(val) {
  if (arguments.length === 1) {
    this._joinFlag = val;
    return this;
  }
  var ret = this._joinFlag || 'inner';
  this._joinFlag = 'inner';
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Adds a join clause to the query, allowing for advanced joins
  // with an anonymous function as the second argument.
  // function(table, first, operator, second)
  join: function join(table, first) {
var join = void 0;
var schema = this._single.schema;

var joinType = this.<span class="apidocCodeKeywordSpan">_joinType</span>();
if (typeof first === 'function') {
  join = new _joinclause2.default(table, joinType, schema);
  first.call(join, join);
} else if (joinType === 'raw') {
  join = new _joinclause2.default(this.client.raw(table, first), 'raw');
} else {
  join = new _joinclause2.default(table, joinType, schema);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype._not" id="apidoc.element.knex.builder.prototype._not">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_not
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _not(val) {
  if (arguments.length === 1) {
    this._notFlag = val;
    return this;
  }
  var ret = this._notFlag;
  this._notFlag = false;
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this.<span class="apidocCodeKeywordSpan">_not</span>(checkOperator === 'not in').whereIn(arguments[0], arguments
[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype._objectWhere" id="apidoc.element.knex.builder.prototype._objectWhere">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>_objectWhere
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _objectWhere(obj) {
  var boolVal = this._bool();
  var notVal = this._not() ? 'Not' : '';
  for (var key in obj) {
    this[boolVal + 'Where' + notVal](key, obj[key]);
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this.whereWrapped(column);
}

// Allow a raw statement to be passed along to the query.
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.whereRaw(column);

// Allows `where({id: 2})` syntax.
if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this.<span class="apidocCodeKeywordSpan
">_objectWhere</span>(column);

// Enable the where('key', value) syntax, only when there
// are explicitly two arguments passed, so it's not possible to
// do where('key', '!=') and have that turn into where key != null
if (arguments.length === 2) {
  value = operator;
  operator = '=';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHaving" id="apidoc.element.knex.builder.prototype.andHaving">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHaving
        <span class="apidocSignatureSpan">(column, operator, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function having(column, operator, value) {
  if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) {
    return this.havingRaw(column);
  }

  // Check if the column is a function, in which case it's
  // a having statement wrapped in parens.
  if (typeof column === 'function') {
    return this.havingWrapped(column);
  }

  this._statements.push({
    grouping: 'having',
    type: 'havingBasic',
    column: column,
    operator: operator,
    value: value,
    bool: this._bool(),
    not: this._not()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

orHaving: function orHaving() {
  this._bool('or');
  var obj = arguments[0];
  if ((0, _isObject3.default)(obj) &amp;&amp; !(0, _isFunction3.default)(obj) &amp;&amp; !(obj instanceof _raw2.default)) {
    return this.havingWrapped(function () {
      for (var key in obj) {
        this.<span class="apidocCodeKeywordSpan">andHaving</span>(key, obj[key]);
      }
    });
  }
  return this.having.apply(this, arguments);
},

// Helper for compiling any advanced `having` queries.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingBetween" id="apidoc.element.knex.builder.prototype.andHavingBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to havingBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the havingBetween clause');
  this._statements.push({
    grouping: 'having',
    type: 'havingBetween',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingExists" id="apidoc.element.knex.builder.prototype.andHavingExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingExists(callback) {
  this._statements.push({
    grouping: 'having',
    type: 'havingExists',
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingIn" id="apidoc.element.knex.builder.prototype.andHavingIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingIn(column, values) {
  if (Array.isArray(values) &amp;&amp; (0, _isEmpty3.default)(values)) return this.where(this._not());
  this._statements.push({
    grouping: 'having',
    type: 'havingIn',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingNotBetween" id="apidoc.element.knex.builder.prototype.andHavingNotBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotBetween(column, values) {
  return this._not(true).havingBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingNotExists" id="apidoc.element.knex.builder.prototype.andHavingNotExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotExists(callback) {
  return this._not(true).havingExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingNotIn" id="apidoc.element.knex.builder.prototype.andHavingNotIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotIn(column, values) {
  return this._not(true).havingIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingNotNull" id="apidoc.element.knex.builder.prototype.andHavingNotNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNotNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotNull(callback) {
  return this._not(true).havingNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andHavingNull" id="apidoc.element.knex.builder.prototype.andHavingNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andHavingNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNull(column) {
  this._statements.push({
    grouping: 'having',
    type: 'havingNull',
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andWhere" id="apidoc.element.knex.builder.prototype.andWhere">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhere
        <span class="apidocSignatureSpan">(column, operator, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function where(column, operator, value) {

  // Support "where true || where false"
  if (column === false || column === true) {
    return this.where(1, '=', column ? 1 : 0);
  }

  // Check if the column is a function, in which case it's
  // a where statement wrapped in parens.
  if (typeof column === 'function') {
    return this.whereWrapped(column);
  }

  // Allow a raw statement to be passed along to the query.
  if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.whereRaw(column);

  // Allows `where({id: 2})` syntax.
  if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this._objectWhere(column);

  // Enable the where('key', value) syntax, only when there
  // are explicitly two arguments passed, so it's not possible to
  // do where('key', '!=') and have that turn into where key != null
  if (arguments.length === 2) {
    value = operator;
    operator = '=';

    // If the value is null, and it's a two argument query,
    // we assume we're going for a `whereNull`.
    if (value === null) {
      return this.whereNull(column);
    }
  }

  // lower case the operator for comparison purposes
  var checkOperator = ('' + operator).toLowerCase().trim();

  // If there are 3 arguments, check whether 'in' is one of them.
  if (arguments.length === 3) {
    if (checkOperator === 'in' || checkOperator === 'not in') {
      return this._not(checkOperator === 'not in').whereIn(arguments[0], arguments[2]);
    }
    if (checkOperator === 'between' || checkOperator === 'not between') {
      return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
    }
  }

  // If the value is still null, check whether they're meaning
  // where value is null
  if (value === null) {

    // Check for .where(key, 'is', null) or .where(key, 'is not', 'null');
    if (checkOperator === 'is' || checkOperator === 'is not') {
      return this._not(checkOperator === 'is not').whereNull(column);
    }
  }

  // Push onto the where statement stack.
  this._statements.push({
    grouping: 'where',
    type: 'whereBasic',
    column: column,
    operator: operator,
    value: value,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Adds an `or where` clause to the query.
orWhere: function orWhere() {
  this._bool('or');
  var obj = arguments[0];
  if ((0, _isObject3.default)(obj) &amp;&amp; !(0, _isFunction3.default)(obj) &amp;&amp; !(obj instanceof _raw2.default)) {
    return this.whereWrapped(function () {
      for (var key in obj) {
        this.<span class="apidocCodeKeywordSpan">andWhere</span>(key, obj[key]);
      }
    });
  }
  return this.where.apply(this, arguments);
},

// Adds an `not where` clause to the query.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andWhereBetween" id="apidoc.element.knex.builder.prototype.andWhereBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to whereBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the whereBetween clause');
  this._statements.push({
    grouping: 'where',
    type: 'whereBetween',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andWhereNot" id="apidoc.element.knex.builder.prototype.andWhereNot">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereNot
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNot() {
  return this._not(true).where.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andWhereNotBetween" id="apidoc.element.knex.builder.prototype.andWhereNotBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNotBetween(column, values) {
  return this._not(true).whereBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.andWhereRaw" id="apidoc.element.knex.builder.prototype.andWhereRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>andWhereRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereRaw(sql, bindings) {
  var raw = sql instanceof _raw2.default ? sql : this.client.raw(sql, bindings);
  this._statements.push({
    grouping: 'where',
    type: 'whereRaw',
    value: raw,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.as" id="apidoc.element.knex.builder.prototype.as">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>as
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function as(column) {
  this._single.as = column;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.asCallback" id="apidoc.element.knex.builder.prototype.asCallback">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>asCallback
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asCallback = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

create: function create(callback) {
  _this3.acquireRawConnection().tap(function (connection) {
    connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).<span class="apidocCodeKeywordSpan">asCallback</span>(callback);
},
destroy: function destroy(connection) {
  if (poolConfig.beforeDestroy) {
    helpers.warn('\n            beforeDestroy is deprecated, please open an issue if you use this\n            to discuss alternative
 apis\n          ');
    poolConfig.beforeDestroy(connection, function () {});
  }
  if (connection !== void 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.avg" id="apidoc.element.knex.builder.prototype.avg">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>avg
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function avg(column) {
  return this._aggregate('avg', column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.avgDistinct" id="apidoc.element.knex.builder.prototype.avgDistinct">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>avgDistinct
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function avgDistinct(column) {
  return this._aggregate('avg', column, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.bind" id="apidoc.element.knex.builder.prototype.bind">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>bind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.<span class="apidocCodeKeywordSpan">bind</span>(this
).return(queries).reduce(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.catch" id="apidoc.element.knex.builder.prototype.catch">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>catch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// .map over the results
.map(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.<span class="apidocCodeKeywordSpan">catch</span>(function(e) {
  console.error(e);
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.clearSelect" id="apidoc.element.knex.builder.prototype.clearSelect">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>clearSelect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearSelect() {
  this._clearGrouping('columns');
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.clearWhere" id="apidoc.element.knex.builder.prototype.clearWhere">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>clearWhere
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearWhere() {
  this._clearGrouping('where');
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.clone" id="apidoc.element.knex.builder.prototype.clone">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clone() {
  var cloned = new this.constructor(this.client);
  cloned._method = this._method;
  cloned._single = (0, _clone3.default)(this._single);
  cloned._statements = (0, _clone3.default)(this._statements);
  cloned._debug = this._debug;

  // `_option` is assigned by the `Interface` mixin.
  if (!(0, _isUndefined3.default)(this._options)) {
    cloned._options = (0, _clone3.default)(this._options);
  }

  return cloned;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.column" id="apidoc.element.knex.builder.prototype.column">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>column
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columns(column) {
  if (!column) return this;
  this._statements.push({
    grouping: 'columns',
    value: helpers.normalizeArr.apply(null, arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};
return returnObj;
};

var AlterMethods = {

// Renames the current column `from` the current
// TODO: this.<span class="apidocCodeKeywordSpan">column</span>(from).rename(to)
renameColumn: function renameColumn(from, to) {
  this._statements.push({
    grouping: 'alterTable',
    method: 'renameColumn',
    args: [from, to]
  });
  return this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.columnInfo" id="apidoc.element.knex.builder.prototype.columnInfo">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>columnInfo
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columnInfo(column) {
  this._method = 'columnInfo';
  this._single.columnInfo = column;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.columns" id="apidoc.element.knex.builder.prototype.columns">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>columns
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columns(column) {
  if (!column) return this;
  this._statements.push({
    grouping: 'columns',
    value: helpers.normalizeArr.apply(null, arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.connection" id="apidoc.element.knex.builder.prototype.connection">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>connection
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connection = function (connection) {
  this._connection = connection;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.count" id="apidoc.element.knex.builder.prototype.count">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>count
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function count(column) {
  return this._aggregate('count', column || '*');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.countDistinct" id="apidoc.element.knex.builder.prototype.countDistinct">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>countDistinct
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function countDistinct(column) {
  return this._aggregate('count', column || '*', true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.crossJoin" id="apidoc.element.knex.builder.prototype.crossJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>crossJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function crossJoin() {
  return this._joinType('cross').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.debug" id="apidoc.element.knex.builder.prototype.debug">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>debug
        <span class="apidocSignatureSpan">(enabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (enabled) {
  this._debug = arguments.length ? enabled : true;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.decrement" id="apidoc.element.knex.builder.prototype.decrement">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>decrement
        <span class="apidocSignatureSpan">(column, amount)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function decrement(column, amount) {
  return this._counter(column, amount, '-');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.del" id="apidoc.element.knex.builder.prototype.del">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>del
        <span class="apidocSignatureSpan">(ret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _delete(ret) {
  this._method = 'del';
  if (!(0, _isEmpty3.default)(ret)) this.returning(ret);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return knex(tableName).insert({
          name: name,
          batch: batchNo,
          migration_time: new Date()
        });
      }
      if (direction === 'down') {
        return knex(tableName).where({ name: name }).<span class="apidocCodeKeywordSpan">del</span>();
      }
    });
  });

  return current.thenReturn([batchNo, log]);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.delay" id="apidoc.element.knex.builder.prototype.delay">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>delay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

if (!(0, _isArray3.default)(batch)) {
  return reject(new TypeError('Invalid batch: Expected array, got ' + (typeof batch === 'undefined' ? '
undefined' : (0, _typeof3.default)(batch))));
}

//Next tick to ensure wrapper functions are called if needed
return _bluebird2.default.<span class="apidocCodeKeywordSpan">delay</span>(1).then(getTransaction).then(function (tr) {
  return _bluebird2.default.mapSeries(chunks, function (items) {
    return tr(tableName).insert(items, _returning);
  }).then(function (result) {
    if (autoTransaction) {
      tr.commit();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.delete" id="apidoc.element.knex.builder.prototype.delete">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>delete
        <span class="apidocSignatureSpan">(ret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _delete(ret) {
  this._method = 'del';
  if (!(0, _isEmpty3.default)(ret)) this.returning(ret);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.distinct" id="apidoc.element.knex.builder.prototype.distinct">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>distinct
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function distinct() {
  this._statements.push({
    grouping: 'columns',
    value: helpers.normalizeArr.apply(null, arguments),
    distinct: true
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.ensure" id="apidoc.element.knex.builder.prototype.ensure">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>ensure
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensure = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.finally" id="apidoc.element.knex.builder.prototype.finally">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>finally
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">finally = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      helpers.warn('If you are sure migrations are not running you can release the ' + 'lock manually by deleting
 all the rows from migrations lock ' + 'table: ' + _this7._getLockTableName());
    } else {
      helpers.warn('migrations failed with error: ' + error.message);
      // If the error was not due to a locking issue, then remove the lock.
      cleanupReady = _this7._freeLock();
    }

    return cleanupReady.<span class="apidocCodeKeywordSpan">finally</span>(function () {
      throw error;
    });
  });
};

// Validates some migrations by requiring and checking for an `up` and `down`
// function.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.first" id="apidoc.element.knex.builder.prototype.first">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>first
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function first() {
  var args = new Array(arguments.length);
  for (var i = 0; i &lt; args.length; i++) {
    args[i] = arguments[i];
  }
  this.select.apply(this, args);
  this._method = 'first';
  this.limit(1);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.forShare" id="apidoc.element.knex.builder.prototype.forShare">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>forShare
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function forShare() {
  this._single.lock = 'forShare';
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.forUpdate" id="apidoc.element.knex.builder.prototype.forUpdate">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>forUpdate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function forUpdate() {
  this._single.lock = 'forUpdate';
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Migrator.prototype._getLockTableName = function _getLockTableName() {
  return this.config.tableName + '_lock';
};

Migrator.prototype._isLocked = function _isLocked(trx) {
  var tableName = this._getLockTableName();
  return this.knex(tableName).transacting(trx).<span class="apidocCodeKeywordSpan">forUpdate</span>().select('*').then
(function (data) {
    return data[0].is_locked;
  });
};

Migrator.prototype._lockMigrations = function _lockMigrations(trx) {
  var tableName = this._getLockTableName();
  return this.knex(tableName).transacting(trx).update({ is_locked: 1 });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.from" id="apidoc.element.knex.builder.prototype.from">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>from
        <span class="apidocSignatureSpan">(tableName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function table(tableName) {
  var options = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  this._single.table = tableName;
  this._single.only = options.only === true;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// order.


Migrator.prototype._getLastBatch = function _getLastBatch() {
  var tableName = this.config.tableName;

  return this.knex(tableName).where('batch', function (qb) {
    qb.max('batch').<span class="apidocCodeKeywordSpan">from</span>(tableName);
  }).orderBy('id', 'desc');
};

// Returns the latest batch number.


Migrator.prototype._latestBatchNumber = function _latestBatchNumber() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.fromJS" id="apidoc.element.knex.builder.prototype.fromJS">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>fromJS
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function fromJS(obj) {
  var _this = this;

  (0, _each3.default)(obj, function (val, key) {
    if (typeof _this[key] !== 'function') {
      helpers.warn('Knex Error: unknown key ' + key);
    }
    if (Array.isArray(val)) {
      _this[key].apply(_this, val);
    } else {
      _this[key](val);
    }
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.fullOuterJoin" id="apidoc.element.knex.builder.prototype.fullOuterJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>fullOuterJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function fullOuterJoin() {
  return this._joinType('full outer').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.get" id="apidoc.element.knex.builder.prototype.get">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>get
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.groupBy" id="apidoc.element.knex.builder.prototype.groupBy">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>groupBy
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function groupBy(item) {
  if (item instanceof _raw2.default) {
    return this.groupByRaw.apply(this, arguments);
  }
  this._statements.push({
    grouping: 'group',
    type: 'groupByBasic',
    value: helpers.normalizeArr.apply(null, arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.groupByRaw" id="apidoc.element.knex.builder.prototype.groupByRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>groupByRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function groupByRaw(sql, bindings) {
  var raw = sql instanceof _raw2.default ? sql : this.client.raw(sql, bindings);
  this._statements.push({
    grouping: 'group',
    type: 'groupByRaw',
    value: raw
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.having" id="apidoc.element.knex.builder.prototype.having">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>having
        <span class="apidocSignatureSpan">(column, operator, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function having(column, operator, value) {
  if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) {
    return this.havingRaw(column);
  }

  // Check if the column is a function, in which case it's
  // a having statement wrapped in parens.
  if (typeof column === 'function') {
    return this.havingWrapped(column);
  }

  this._statements.push({
    grouping: 'having',
    type: 'havingBasic',
    column: column,
    operator: operator,
    value: value,
    bool: this._bool(),
    not: this._not()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingBetween" id="apidoc.element.knex.builder.prototype.havingBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to havingBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the havingBetween clause');
  this._statements.push({
    grouping: 'having',
    type: 'havingBetween',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orHavingBetween: function orHavingBetween(column, values) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingBetween</span>(column, values);
},
havingNotBetween: function havingNotBetween(column, values) {
  return this._not(true).havingBetween(column, values);
},
orHavingNotBetween: function orHavingNotBetween(column, values) {
  return this._not(true)._bool('or').havingBetween(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingExists" id="apidoc.element.knex.builder.prototype.havingExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingExists(callback) {
  this._statements.push({
    grouping: 'having',
    type: 'havingExists',
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orHavingExists: function orHavingExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingExists</span>(callback);
},
havingNotExists: function havingNotExists(callback) {
  return this._not(true).havingExists(callback);
},
orHavingNotExists: function orHavingNotExists(callback) {
  return this._not(true)._bool('or').havingExists(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingIn" id="apidoc.element.knex.builder.prototype.havingIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingIn(column, values) {
  if (Array.isArray(values) &amp;&amp; (0, _isEmpty3.default)(values)) return this.where(this._not());
  this._statements.push({
    grouping: 'having',
    type: 'havingIn',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  return this;
},


// Adds a `or where in` clause to the query.
orHavingIn: function orHavingIn(column, values) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingIn</span>(column, values);
},


// Adds a `where not in` clause to the query.
havingNotIn: function havingNotIn(column, values) {
  return this._not(true).havingIn(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingNotBetween" id="apidoc.element.knex.builder.prototype.havingNotBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotBetween(column, values) {
  return this._not(true).havingBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingNotExists" id="apidoc.element.knex.builder.prototype.havingNotExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotExists(callback) {
  return this._not(true).havingExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingNotIn" id="apidoc.element.knex.builder.prototype.havingNotIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotIn(column, values) {
  return this._not(true).havingIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingNotNull" id="apidoc.element.knex.builder.prototype.havingNotNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNotNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNotNull(callback) {
  return this._not(true).havingNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingNull" id="apidoc.element.knex.builder.prototype.havingNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNull(column) {
  this._statements.push({
    grouping: 'having',
    type: 'havingNull',
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orHavingNull: function orHavingNull(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingNull</span>(callback);
},
havingNotNull: function havingNotNull(callback) {
  return this._not(true).havingNull(callback);
},
orHavingNotNull: function orHavingNotNull(callback) {
  return this._not(true)._bool('or').havingNull(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingRaw" id="apidoc.element.knex.builder.prototype.havingRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingRaw(sql, bindings) {
  var raw = sql instanceof _raw2.default ? sql : this.client.raw(sql, bindings);
  this._statements.push({
    grouping: 'having',
    type: 'havingRaw',
    value: raw,
    bool: this._bool(),
    not: this._not()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this;
  },


  // Adds a `having` clause to the query.
  having: function having(column, operator, value) {
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) {
  return this.<span class="apidocCodeKeywordSpan">havingRaw</span>(column);
}

// Check if the column is a function, in which case it's
// a having statement wrapped in parens.
if (typeof column === 'function') {
  return this.havingWrapped(column);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.havingWrapped" id="apidoc.element.knex.builder.prototype.havingWrapped">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>havingWrapped
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingWrapped(callback) {
  this._statements.push({
    grouping: 'having',
    type: 'havingWrapped',
    value: callback,
    bool: this._bool(),
    not: this._not()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) {
  return this.havingRaw(column);
}

// Check if the column is a function, in which case it's
// a having statement wrapped in parens.
if (typeof column === 'function') {
  return this.<span class="apidocCodeKeywordSpan">havingWrapped</span>(column);
}

this._statements.push({
  grouping: 'having',
  type: 'havingBasic',
  column: column,
  operator: operator,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.increment" id="apidoc.element.knex.builder.prototype.increment">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>increment
        <span class="apidocSignatureSpan">(column, amount)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function increment(column, amount) {
  return this._counter(column, amount);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.innerJoin" id="apidoc.element.knex.builder.prototype.innerJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>innerJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function innerJoin() {
  return this._joinType('inner').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.insert" id="apidoc.element.knex.builder.prototype.insert">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>insert
        <span class="apidocSignatureSpan">(values, returning)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function insert(values, returning) {
  this._method = 'insert';
  if (!(0, _isEmpty3.default)(returning)) this.returning(returning);
  this._single.insert = values;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  table.increments('id');
  table.string('account_name');
  table.integer('user_id').unsigned().references('users.id');
})

// Then query the table...
.then(function() {
  return knex.<span class="apidocCodeKeywordSpan">insert</span>({user_name: 'Tim'}).into('users');
})

// ...and using the insert id, insert into the other table.
.then(function(rows) {
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.into" id="apidoc.element.knex.builder.prototype.into">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>into
        <span class="apidocSignatureSpan">(tableName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function table(tableName) {
  var options = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  this._single.table = tableName;
  this._single.only = options.only === true;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- Fix potential sql injection vulnerability in orderBy, thanks to @sebgie

# 0.4.10 - Oct 14, 2013

- Added [forUpdate](#Builder-forUpdate) and [forShare](#Builder-forShare) for select modes in transactions. (#84)
- Fix bug where current query chain type is not copied on [clone](#Builder-clone). (#90)
- Charset and collate are now added as methods on the schema builder. (#89)
- Added `into` as an alias of [from](#Builder-from), for builder syntax of: `insert(value).<span class="apidocCodeKeywordSpan">into
</span>(tableName)`
- Internal pool fixes. (#90)

# 0.4.9 - Oct 7, 2013

- Fix for documentation of [hasColumn](#Schema-hasColumn), ensure that `hasColumn` works with MySQL (#87).
- More cleanup of error messages, showing the original error message concatenated with the sql and bindings
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.join" id="apidoc.element.knex.builder.prototype.join">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>join
        <span class="apidocSignatureSpan">(table, first)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join(table, first) {
  var join = void 0;
  var schema = this._single.schema;

  var joinType = this._joinType();
  if (typeof first === 'function') {
    join = new _joinclause2.default(table, joinType, schema);
    first.call(join, join);
  } else if (joinType === 'raw') {
    join = new _joinclause2.default(this.client.raw(table, first), 'raw');
  } else {
    join = new _joinclause2.default(table, joinType, schema);
    if (arguments.length &gt; 1) {
      join.on.apply(join, (0, _toArray3.default)(arguments).slice(1));
    }
  }
  this._statements.push(join);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- Deprecated 5 argument [join](#Builder-join) in favor of additional join methods.
- The wrapValue function to allow for array column operations in PostgreSQL (#287).
- An explicit connection can be passed for any query (#56).
- Drop column support for sqlite3
- All schema actions are run sequentially on the same connection if chained.
- Schema actions can now be wrapped in a transaction
- `.references(tableName.columnName)` as shorthand for `.references(columnName).inTable(tableName)`
- `.<span class="apidocCodeKeywordSpan">join</span>('table.column', 'otherTable.column')` as shorthand for .
join('table.column', '=', 'otherTable.column')
- Streams are supported for selects, passing through to the streaming capabilities of node-mysql and node-postgres
- For More information, see this [pull-request](https://github.com/tgriesser/knex/pull/252)


# 0.5.15 - June 4, 2014

- Dropped indexes feature now functions correctly, (#278)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.joinRaw" id="apidoc.element.knex.builder.prototype.joinRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>joinRaw
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function joinRaw() {
  return this._joinType('raw').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.leftJoin" id="apidoc.element.knex.builder.prototype.leftJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>leftJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function leftJoin() {
  return this._joinType('left').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.leftOuterJoin" id="apidoc.element.knex.builder.prototype.leftOuterJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>leftOuterJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function leftOuterJoin() {
  return this._joinType('left outer').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.limit" id="apidoc.element.knex.builder.prototype.limit">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>limit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function limit(value) {
  var val = parseInt(value, 10);
  if (isNaN(val)) {
    helpers.warn('A valid integer must be provided to limit');
  } else {
    this._single.limit = val;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
first: function first() {
  var args = new Array(arguments.length);
  for (var i = 0; i &lt; args.length; i++) {
    args[i] = arguments[i];
  }
  this.select.apply(this, args);
  this._method = 'first';
  this.<span class="apidocCodeKeywordSpan">limit</span>(1);
  return this;
},


// Pluck a column from a query.
pluck: function pluck(column) {
  this._method = 'pluck';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.map" id="apidoc.element.knex.builder.prototype.map">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.then(function() {
  return knex('users')
    .join('accounts', 'users.id', 'accounts.user_id')
    .select('users.user_name as user', 'accounts.account_name as account');
})

// .map over the results
.<span class="apidocCodeKeywordSpan">map</span>(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.catch(function(e) {
  console.error(e);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.mapSeries" id="apidoc.element.knex.builder.prototype.mapSeries">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>mapSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapSeries = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (!(0, _isArray3.default)(batch)) {
      return reject(new TypeError('Invalid batch: Expected array, got ' + (typeof batch === 'undefined' ? &amp;#
x27;undefined' : (0, _typeof3.default)(batch))));
    }

    //Next tick to ensure wrapper functions are called if needed
    return _bluebird2.default.delay(1).then(getTransaction).then(function (tr) {
      return _bluebird2.default.<span class="apidocCodeKeywordSpan">mapSeries</span>(chunks, function (items) {
return tr(tableName).insert(items, _returning);
      }).then(function (result) {
if (autoTransaction) {
  tr.commit();
}

return (0, _flatten3.default)(result);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.max" id="apidoc.element.knex.builder.prototype.max">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>max
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function max(column) {
  return this._aggregate('max', column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// order.


Migrator.prototype._getLastBatch = function _getLastBatch() {
  var tableName = this.config.tableName;

  return this.knex(tableName).where('batch', function (qb) {
    qb.<span class="apidocCodeKeywordSpan">max</span>('batch').from(tableName);
  }).orderBy('id', 'desc');
};

// Returns the latest batch number.


Migrator.prototype._latestBatchNumber = function _latestBatchNumber() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.min" id="apidoc.element.knex.builder.prototype.min">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>min
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function min(column) {
  return this._aggregate('min', column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.modify" id="apidoc.element.knex.builder.prototype.modify">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>modify
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function modify(callback) {
  callback.apply(this, [this].concat((0, _tail3.default)(arguments)));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.offset" id="apidoc.element.knex.builder.prototype.offset">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>offset
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function offset(value) {
  this._single.offset = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.options" id="apidoc.element.knex.builder.prototype.options">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>options
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (opts) {
  this._options = this._options || [];
  this._options.push((0, _clone3.default)(opts) || {});
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHaving" id="apidoc.element.knex.builder.prototype.orHaving">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHaving
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHaving() {
  this._bool('or');
  var obj = arguments[0];
  if ((0, _isObject3.default)(obj) &amp;&amp; !(0, _isFunction3.default)(obj) &amp;&amp; !(obj instanceof _raw2.default)) {
    return this.havingWrapped(function () {
      for (var key in obj) {
        this.andHaving(key, obj[key]);
      }
    });
  }
  return this.having.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingBetween" id="apidoc.element.knex.builder.prototype.orHavingBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingBetween(column, values) {
  return this._bool('or').havingBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingExists" id="apidoc.element.knex.builder.prototype.orHavingExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingExists(callback) {
  return this._bool('or').havingExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingIn" id="apidoc.element.knex.builder.prototype.orHavingIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingIn(column, values) {
  return this._bool('or').havingIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingNotBetween" id="apidoc.element.knex.builder.prototype.orHavingNotBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingNotBetween(column, values) {
  return this._not(true)._bool('or').havingBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingNotExists" id="apidoc.element.knex.builder.prototype.orHavingNotExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingNotExists(callback) {
  return this._not(true)._bool('or').havingExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingNotIn" id="apidoc.element.knex.builder.prototype.orHavingNotIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingNotIn(column, values) {
  return this._bool('or')._not(true).havingIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingNotNull" id="apidoc.element.knex.builder.prototype.orHavingNotNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNotNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingNotNull(callback) {
  return this._not(true)._bool('or').havingNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingNull" id="apidoc.element.knex.builder.prototype.orHavingNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingNull(callback) {
  return this._bool('or').havingNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orHavingRaw" id="apidoc.element.knex.builder.prototype.orHavingRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orHavingRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orHavingRaw(sql, bindings) {
  return this._bool('or').havingRaw(sql, bindings);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhere" id="apidoc.element.knex.builder.prototype.orWhere">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhere
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhere() {
  this._bool('or');
  var obj = arguments[0];
  if ((0, _isObject3.default)(obj) &amp;&amp; !(0, _isFunction3.default)(obj) &amp;&amp; !(obj instanceof _raw2.default)) {
    return this.whereWrapped(function () {
      for (var key in obj) {
        this.andWhere(key, obj[key]);
      }
    });
  }
  return this.where.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereBetween" id="apidoc.element.knex.builder.prototype.orWhereBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereBetween(column, values) {
  return this._bool('or').whereBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereExists" id="apidoc.element.knex.builder.prototype.orWhereExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereExists(callback) {
  return this._bool('or').whereExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereIn" id="apidoc.element.knex.builder.prototype.orWhereIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereIn(column, values) {
  return this._bool('or').whereIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereNot" id="apidoc.element.knex.builder.prototype.orWhereNot">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNot
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereNot() {
  return this._bool('or').whereNot.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereNotBetween" id="apidoc.element.knex.builder.prototype.orWhereNotBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereNotBetween(column, values) {
  return this._bool('or').whereNotBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereNotExists" id="apidoc.element.knex.builder.prototype.orWhereNotExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereNotExists(callback) {
  return this._bool('or').whereNotExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereNotIn" id="apidoc.element.knex.builder.prototype.orWhereNotIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereNotIn(column, values) {
  return this._bool('or')._not(true).whereIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereNotNull" id="apidoc.element.knex.builder.prototype.orWhereNotNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNotNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereNotNull(column) {
  return this._bool('or').whereNotNull(column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereNull" id="apidoc.element.knex.builder.prototype.orWhereNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereNull(column) {
  return this._bool('or').whereNull(column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orWhereRaw" id="apidoc.element.knex.builder.prototype.orWhereRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orWhereRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orWhereRaw(sql, bindings) {
  return this._bool('or').whereRaw(sql, bindings);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orderBy" id="apidoc.element.knex.builder.prototype.orderBy">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orderBy
        <span class="apidocSignatureSpan">(column, direction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orderBy(column, direction) {
  this._statements.push({
    grouping: 'order',
    type: 'orderByBasic',
    value: column,
    direction: direction
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Migrator.prototype._listCompleted = function _listCompleted() {
  var _this8 = this;

  var tableName = this.config.tableName;

  return this._ensureTable(tableName).then(function () {
    return _this8.knex(tableName).<span class="apidocCodeKeywordSpan">orderBy</span>('id').select('name');
  }).then(function (migrations) {
    return (0, _map3.default)(migrations, 'name');
  });
};

// Gets the migration list from the specified migration directory, as well as
// the list of completed migrations to check what should be run.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.orderByRaw" id="apidoc.element.knex.builder.prototype.orderByRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>orderByRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orderByRaw(sql, bindings) {
  var raw = sql instanceof _raw2.default ? sql : this.client.raw(sql, bindings);
  this._statements.push({
    grouping: 'order',
    type: 'orderByRaw',
    value: raw
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.outerJoin" id="apidoc.element.knex.builder.prototype.outerJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>outerJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function outerJoin() {
  return this._joinType('outer').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.pipe" id="apidoc.element.knex.builder.prototype.pipe">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>pipe
        <span class="apidocSignatureSpan">(writable, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipe = function (writable, options) {
  return this.client.runner(this).pipe(writable, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).stream(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">pipe</span>(writable, options);
};

// Creates a method which "coerces" to a promise, by calling a
// "then" method on the current `Target`
(0, _each3.default)(['bind', 'catch', 'finally', 'asCallback', 'spread', '
;map', 'reduce', 'tap', 'thenReturn', 'return', 'yield', 'ensure'
;, 'reflect', 'get', 'mapSeries', 'delay'], function (method) {
  Target.prototype[method] = function () {
    var promise = this.then();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.pluck" id="apidoc.element.knex.builder.prototype.pluck">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>pluck
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pluck(column) {
  this._method = 'pluck';
  this._single.pluck = column;
  this._statements.push({
    grouping: 'columns',
    type: 'pluck',
    value: column
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.reduce" id="apidoc.element.knex.builder.prototype.reduce">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>reduce
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).return(queries).<span class="apidocCodeKeywordSpan
">reduce</span>(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.reflect" id="apidoc.element.knex.builder.prototype.reflect">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>reflect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reflect = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.return" id="apidoc.element.knex.builder.prototype.return">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>return
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">return = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).<span class="apidocCodeKeywordSpan">return
</span>(queries).reduce(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.returning" id="apidoc.element.knex.builder.prototype.returning">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>returning
        <span class="apidocSignatureSpan">(_returning)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function returning(_returning) {
  this._single.returning = _returning;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Insert &amp; Update
// ------

// Sets the values for an `insert` query.
insert: function insert(values, returning) {
  this._method = 'insert';
  if (!(0, _isEmpty3.default)(returning)) this.<span class="apidocCodeKeywordSpan">returning</span>(returning);
  this._single.insert = values;
  return this;
},


// Sets the values for an `update`, allowing for both
// `.update(key, value, [returning])` and `.update(obj, [returning])` syntaxes.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.rightJoin" id="apidoc.element.knex.builder.prototype.rightJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>rightJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rightJoin() {
  return this._joinType('right').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.rightOuterJoin" id="apidoc.element.knex.builder.prototype.rightOuterJoin">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>rightOuterJoin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rightOuterJoin() {
  return this._joinType('right outer').join.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.select" id="apidoc.element.knex.builder.prototype.select">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>select
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columns(column) {
  if (!column) return this;
  this._statements.push({
    grouping: 'columns',
    value: helpers.normalizeArr.apply(null, arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})

// Query both of the rows.
.then(function() {
  return knex('users')
    .join('accounts', 'users.id', 'accounts.user_id')
    .<span class="apidocCodeKeywordSpan">select</span>('users.user_name as user', 'accounts.account_name as account
');
})

// .map over the results
.map(function(row) {
  console.log(row);
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.spread" id="apidoc.element.knex.builder.prototype.spread">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>spread
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
  .action(function() {
    pending = initKnex(env).migrate.latest().<span class="apidocCodeKeywordSpan">spread</span>(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already up to date'));
      }
      success(
        chalk.green(`Batch ${batchNo} run: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.stream" id="apidoc.element.knex.builder.prototype.stream">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>stream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function (options) {
  return this.client.runner(this).stream(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
  return this;
};

// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">stream</span>(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).pipe(writable, options);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.sum" id="apidoc.element.knex.builder.prototype.sum">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>sum
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sum(column) {
  return this._aggregate('sum', column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.sumDistinct" id="apidoc.element.knex.builder.prototype.sumDistinct">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>sumDistinct
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sumDistinct(column) {
  return this._aggregate('sum', column, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.table" id="apidoc.element.knex.builder.prototype.table">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>table
        <span class="apidocSignatureSpan">(tableName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function table(tableName) {
  var options = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  this._single.table = tableName;
  this._single.only = options.only === true;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Then query the table...
.then(function() {
return knex.insert({user_name: 'Tim'}).into('users');
})

// ...and using the insert id, insert into the other table.
.then(function(rows) {
return knex.<span class="apidocCodeKeywordSpan">table</span>('accounts').insert({account_name: 'knex', user_id
: rows[0]});
})

// Query both of the rows.
.then(function() {
return knex('users')
  .join('accounts', 'users.id', 'accounts.user_id')
  .select('users.user_name as user', 'accounts.account_name as account');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.tap" id="apidoc.element.knex.builder.prototype.tap">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>tap
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
log: function log(str, level) {
  if (level === 'info') {
    debugPool(level.toUpperCase() + ' pool ' + name + ' - ' + str);
  }
},

create: function create(callback) {
  _this3.acquireRawConnection().<span class="apidocCodeKeywordSpan">tap</span>(function (connection) {
    connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).asCallback(callback);
},
destroy: function destroy(connection) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.then" id="apidoc.element.knex.builder.prototype.then">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>then
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function () /* onFulfilled, onRejected */{
  var result = this.client.runner(this).run();
  return result.then.apply(result, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.createTable('accounts', function(table) {
  table.increments('id');
  table.string('account_name');
  table.integer('user_id').unsigned().references('users.id');
})

// Then query the table...
.<span class="apidocCodeKeywordSpan">then</span>(function() {
  return knex.insert({user_name: 'Tim'}).into('users');
})

// ...and using the insert id, insert into the other table.
.then(function(rows) {
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.thenReturn" id="apidoc.element.knex.builder.prototype.thenReturn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>thenReturn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenReturn = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
      if (direction === 'down') {
        return knex(tableName).where({ name: name }).del();
      }
    });
  });

  return current.<span class="apidocCodeKeywordSpan">thenReturn</span>([batchNo, log]);
};

Migrator.prototype._transaction = function _transaction(migration, direction, name) {
  return this.knex.transaction(function (trx) {
    return warnPromise(migration[direction](trx, _bluebird2.default), name, function () {
      trx.commit();
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.timeout" id="apidoc.element.knex.builder.prototype.timeout">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timeout(ms) {
  var _ref = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  var cancel = _ref.cancel;

  if ((0, _isNumber3.default)(ms) &amp;&amp; ms &gt; 0) {
    this._timeout = ms;
    if (cancel) {
      this.client.assertCanCancelQuery();
      this._cancelOnTimeout = true;
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var _this = this;

this.builder.emit('query', (0, _assign3.default)({ __knexUid: this.connection.__knexUid }, obj));
var runner = this;
var queryPromise = this.client.query(this.connection, obj);

if (obj.timeout) {
  queryPromise = queryPromise.<span class="apidocCodeKeywordSpan">timeout</span>(obj.timeout);
}

return queryPromise.then(function (resp) {
  var processedResponse = _this.client.processResponse(resp, runner);
  _this.builder.emit('query-response', processedResponse, (0, _assign3.default)({ __knexUid: _this.connection.__knexUid
 }, obj), _this.builder);
  _this.client.emit('query-response', processedResponse, (0, _assign3.default)({ __knexUid: _this.connection.__knexUid
 }, obj), _this.builder);
  return processedResponse;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.toQuery" id="apidoc.element.knex.builder.prototype.toQuery">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>toQuery
        <span class="apidocSignatureSpan">(tz)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toQuery = function (tz) {
  var _this = this;

  var data = this.toSQL(this._method, tz);
  if (!(0, _isArray3.default)(data)) data = [data];
  return (0, _map3.default)(data, function (statement) {
    return _this.client._formatQuery(statement.sql, statement.bindings, tz);
  }).join(';\n');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._wrappedAfter = after;
  return this;
},


// Calls `toString` on the Knex object.
toString: function toString() {
  return this.<span class="apidocCodeKeywordSpan">toQuery</span>();
},


// Returns the raw sql for the query.
toSQL: function toSQL(method, tz) {
  var obj = void 0;
  var formatter = this.client.formatter();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.toSQL" id="apidoc.element.knex.builder.prototype.toSQL">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>toSQL
        <span class="apidocSignatureSpan">(method, tz)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toSQL(method, tz) {
  return this.client.queryCompiler(this).toSQL(method || this._method, tz);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).<span class="apidocCodeKeywordSpan">toSQL</span>();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.toString" id="apidoc.element.knex.builder.prototype.toString">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() {
  return this.toQuery();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var exec = function (cmd, args) {
  return new Promise(function(resolve, reject) {
// Execute command
var child = child_process.exec(cmd, {cwd: process.cwd(), env: process.env});

// Pass stdout and stderr
child.stdout.on('data', function(data) { process.stdout.write(data.<span class="apidocCodeKeywordSpan">toString</span>()); });
child.stderr.on('data', function(data) { process.stderr.write(data.toString()); });
// Handle result
child.on('exit', function (code) {
  if (code) reject(code);
  else resolve();
});
child.on('error', reject);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.transacting" id="apidoc.element.knex.builder.prototype.transacting">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>transacting
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transacting = function (t) {
  if (t &amp;&amp; t.client) {
    if (!t.client.transacting) {
      helpers.warn('Invalid transaction value: ' + t.client);
    } else {
      this.client = t.client;
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return new _bluebird2.default(function (resolver, rejecter) {
if (!_this4.pool) {
  return rejecter(new Error('Unable to acquire a connection'));
}
var wasRejected = false;
var t = setTimeout(function () {
  wasRejected = true;
  rejecter(new _bluebird2.default.TimeoutError('Knex: Timeout acquiring a connection. The pool is probably full. ' + &amp;#
x27;Are you missing a .<span class="apidocCodeKeywordSpan">transacting</span>(trx) call?'));
}, _this4.config.acquireConnectionTimeout || 60000);
_this4.pool.acquire(function (err, connection) {
  clearTimeout(t);
  if (err) {
    return rejecter(err);
  }
  if (wasRejected) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.truncate" id="apidoc.element.knex.builder.prototype.truncate">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>truncate
        <span class="apidocSignatureSpan">(tableName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function truncate(tableName) {
  this._method = 'truncate';
  if (tableName) {
    this._single.table = tableName;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.union" id="apidoc.element.knex.builder.prototype.union">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>union
        <span class="apidocSignatureSpan">(callbacks, wrap)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function union(callbacks, wrap) {
  if (arguments.length === 1 || arguments.length === 2 &amp;&amp; (0, _isBoolean3.default)(wrap)) {
    if (!Array.isArray(callbacks)) {
      callbacks = [callbacks];
    }
    for (var i = 0, l = callbacks.length; i &lt; l; i++) {
      this._statements.push({
        grouping: 'union',
        clause: 'union',
        value: callbacks[i],
        wrap: wrap || false
      });
    }
  } else {
    callbacks = (0, _toArray3.default)(arguments).slice(0, arguments.length - 1);
    wrap = arguments[arguments.length - 1];
    if (!(0, _isBoolean3.default)(wrap)) {
      callbacks.push(wrap);
      wrap = false;
    }
    this.union(callbacks, wrap);
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    callbacks = (0, _toArray3.default)(arguments).slice(0, arguments.length - 1);
    wrap = arguments[arguments.length - 1];
    if (!(0, _isBoolean3.default)(wrap)) {
      callbacks.push(wrap);
      wrap = false;
    }
    this.<span class="apidocCodeKeywordSpan">union</span>(callbacks, wrap);
  }
  return this;
},


// Adds a union all statement to the query.
unionAll: function unionAll(callback, wrap) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.unionAll" id="apidoc.element.knex.builder.prototype.unionAll">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>unionAll
        <span class="apidocSignatureSpan">(callback, wrap)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unionAll(callback, wrap) {
  this._statements.push({
    grouping: 'union',
    clause: 'union all',
    value: callback,
    wrap: wrap || false
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.update" id="apidoc.element.knex.builder.prototype.update">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>update
        <span class="apidocSignatureSpan">(values, returning)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function update(values, returning) {
  var ret = void 0;
  var obj = this._single.update || {};
  this._method = 'update';
  if ((0, _isString3.default)(values)) {
    obj[values] = returning;
    if (arguments.length &gt; 2) {
      ret = arguments[2];
    }
  } else {
    var keys = (0, _keys2.default)(values);
    if (this._single.update) {
      helpers.warn('Update called multiple times with objects.');
    }
    var i = -1;
    while (++i &lt; keys.length) {
      obj[keys[i]] = values[keys[i]];
    }
    ret = arguments[1];
  }
  if (!(0, _isEmpty3.default)(ret)) this.returning(ret);
  this._single.update = obj;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.knex(tableName).transacting(trx).forUpdate().select('*').then(function (data) {
  return data[0].is_locked;
});
  };

  Migrator.prototype._lockMigrations = function _lockMigrations(trx) {
var tableName = this._getLockTableName();
return this.knex(tableName).transacting(trx).<span class="apidocCodeKeywordSpan">update</span>({ is_locked: 1 });
  };

  Migrator.prototype._getLock = function _getLock() {
var _this6 = this;

return this.knex.transaction(function (trx) {
  return _this6._isLocked(trx).then(function (isLocked) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.where" id="apidoc.element.knex.builder.prototype.where">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>where
        <span class="apidocSignatureSpan">(column, operator, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function where(column, operator, value) {

  // Support "where true || where false"
  if (column === false || column === true) {
    return this.where(1, '=', column ? 1 : 0);
  }

  // Check if the column is a function, in which case it's
  // a where statement wrapped in parens.
  if (typeof column === 'function') {
    return this.whereWrapped(column);
  }

  // Allow a raw statement to be passed along to the query.
  if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.whereRaw(column);

  // Allows `where({id: 2})` syntax.
  if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this._objectWhere(column);

  // Enable the where('key', value) syntax, only when there
  // are explicitly two arguments passed, so it's not possible to
  // do where('key', '!=') and have that turn into where key != null
  if (arguments.length === 2) {
    value = operator;
    operator = '=';

    // If the value is null, and it's a two argument query,
    // we assume we're going for a `whereNull`.
    if (value === null) {
      return this.whereNull(column);
    }
  }

  // lower case the operator for comparison purposes
  var checkOperator = ('' + operator).toLowerCase().trim();

  // If there are 3 arguments, check whether 'in' is one of them.
  if (arguments.length === 3) {
    if (checkOperator === 'in' || checkOperator === 'not in') {
      return this._not(checkOperator === 'not in').whereIn(arguments[0], arguments[2]);
    }
    if (checkOperator === 'between' || checkOperator === 'not between') {
      return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
    }
  }

  // If the value is still null, check whether they're meaning
  // where value is null
  if (value === null) {

    // Check for .where(key, 'is', null) or .where(key, 'is not', 'null');
    if (checkOperator === 'is' || checkOperator === 'is not') {
      return this._not(checkOperator === 'is not').whereNull(column);
    }
  }

  // Push onto the where statement stack.
  this._statements.push({
    grouping: 'where',
    type: 'whereBasic',
    column: column,
    operator: operator,
    value: value,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

# 0.5.12 - Mar 31, 2014

- Add more operators for where clauses, including &amp;&amp; (#226)

# 0.5.11 - Mar 25, 2014

- `.<span class="apidocCodeKeywordSpan">where</span>(col, 'is', null)` or `.where(col, 'is not', null)` are
not supported (#221).
- Case insensitive `where` operators now allowed (#212).
- Fix bug in increment/decrement truncating to an integer (#210).
- Disconnected connections are now properly handled &amp; removed from the pool (#206).
- Internal tweaks to binding concatenations for performance (#207)

# 0.5.10 - Mar 19, 2014
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereBetween" id="apidoc.element.knex.builder.prototype.whereBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to whereBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the whereBetween clause');
  this._statements.push({
    grouping: 'where',
    type: 'whereBetween',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this._not(checkOperator === 'not in').whereIn(arguments[0], arguments[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').<span class="apidocCodeKeywordSpan">whereBetween</span>(arguments
[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
// where value is null
if (value === null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereExists" id="apidoc.element.knex.builder.prototype.whereExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereExists(callback) {
  this._statements.push({
    grouping: 'where',
    type: 'whereExists',
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  return this;
},


// Adds an `or where exists` clause to the query.
orWhereExists: function orWhereExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">whereExists</span>(callback);
},


// Adds a `where not exists` clause to the query.
whereNotExists: function whereNotExists(callback) {
  return this._not(true).whereExists(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereIn" id="apidoc.element.knex.builder.prototype.whereIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereIn(column, values) {
  if (Array.isArray(values) &amp;&amp; (0, _isEmpty3.default)(values)) return this.where(this._not());
  this._statements.push({
    grouping: 'where',
    type: 'whereIn',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this._not(checkOperator === 'not in').<span class="apidocCodeKeywordSpan">whereIn</span>(arguments[0], arguments
[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereNot" id="apidoc.element.knex.builder.prototype.whereNot">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNot
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNot() {
  return this._not(true).where.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereNotBetween" id="apidoc.element.knex.builder.prototype.whereNotBetween">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNotBetween(column, values) {
  return this._not(true).whereBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
orWhereBetween: function orWhereBetween(column, values) {
  return this._bool('or').whereBetween(column, values);
},


// Adds a `or where not between` clause to the query.
orWhereNotBetween: function orWhereNotBetween(column, values) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">whereNotBetween</span>(column, values);
},


// Adds a `group by` clause to the query.
groupBy: function groupBy(item) {
  if (item instanceof _raw2.default) {
    return this.groupByRaw.apply(this, arguments);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereNotExists" id="apidoc.element.knex.builder.prototype.whereNotExists">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNotExists(callback) {
  return this._not(true).whereExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
whereNotExists: function whereNotExists(callback) {
  return this._not(true).whereExists(callback);
},


// Adds a `or where not exists` clause to the query.
orWhereNotExists: function orWhereNotExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">whereNotExists</span>(callback);
},


// Adds a `where in` clause to the query.
whereIn: function whereIn(column, values) {
  if (Array.isArray(values) &amp;&amp; (0, _isEmpty3.default)(values)) return this.where(this._not());
  this._statements.push({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereNotIn" id="apidoc.element.knex.builder.prototype.whereNotIn">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNotIn(column, values) {
  return this._not(true).whereIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereNotNull" id="apidoc.element.knex.builder.prototype.whereNotNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNotNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNotNull(column) {
  return this._not(true).whereNull(column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
whereNotNull: function whereNotNull(column) {
  return this._not(true).whereNull(column);
},


// Adds a `or where not null` clause to the query.
orWhereNotNull: function orWhereNotNull(column) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">whereNotNull</span>(column);
},


// Adds a `where between` clause to the query.
whereBetween: function whereBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to whereBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the whereBetween clause');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereNull" id="apidoc.element.knex.builder.prototype.whereNull">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNull(column) {
  this._statements.push({
    grouping: 'where',
    type: 'whereNull',
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (arguments.length === 2) {
  value = operator;
  operator = '=';

  // If the value is null, and it's a two argument query,
  // we assume we're going for a `whereNull`.
  if (value === null) {
    return this.<span class="apidocCodeKeywordSpan">whereNull</span>(column);
  }
}

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereRaw" id="apidoc.element.knex.builder.prototype.whereRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereRaw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereRaw(sql, bindings) {
  var raw = sql instanceof _raw2.default ? sql : this.client.raw(sql, bindings);
  this._statements.push({
    grouping: 'where',
    type: 'whereRaw',
    value: raw,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Check if the column is a function, in which case it's
// a where statement wrapped in parens.
if (typeof column === 'function') {
  return this.whereWrapped(column);
}

// Allow a raw statement to be passed along to the query.
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.<span class="apidocCodeKeywordSpan">whereRaw
</span>(column);

// Allows `where({id: 2})` syntax.
if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this._objectWhere(column);

// Enable the where('key', value) syntax, only when there
// are explicitly two arguments passed, so it's not possible to
// do where('key', '!=') and have that turn into where key != null
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.whereWrapped" id="apidoc.element.knex.builder.prototype.whereWrapped">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>whereWrapped
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereWrapped(callback) {
  this._statements.push({
    grouping: 'where',
    type: 'whereWrapped',
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (column === false || column === true) {
  return this.where(1, '=', column ? 1 : 0);
}

// Check if the column is a function, in which case it's
// a where statement wrapped in parens.
if (typeof column === 'function') {
  return this.<span class="apidocCodeKeywordSpan">whereWrapped</span>(column);
}

// Allow a raw statement to be passed along to the query.
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.whereRaw(column);

// Allows `where({id: 2})` syntax.
if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this._objectWhere(column);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.with" id="apidoc.element.knex.builder.prototype.with">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>with
        <span class="apidocSignatureSpan">(alias, statement, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _with(alias, statement, bindings) {
  if (typeof alias !== 'string') {
    throw new Error('with() first argument must be a string');
  }
  if (typeof statement === 'function') {
    return this.withWrapped(alias, statement);
  }
  // Allow a raw statement to be passed along to the query.
  if (statement instanceof _raw2.default &amp;&amp; arguments.length &gt;= 2) {
    return this.withRaw(alias, statement, bindings);
  }
  throw new Error('with() second argument must be a function or a raw');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Compiles the `select` statement, or nested sub-selects by calling each of
// the component compilers, trimming out the empties, and returning a
// generated query string.
select: function select() {
  var _this = this;

  var sql = this.<span class="apidocCodeKeywordSpan">with</span>();

  var statements = components.map(function (component) {
    return _this[component](_this);
  });
  sql += (0, _compact3.default)(statements).join(' ');
  return sql;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.withRaw" id="apidoc.element.knex.builder.prototype.withRaw">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>withRaw
        <span class="apidocSignatureSpan">(alias, sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function withRaw(alias, sql, bindings) {
  var raw = sql instanceof _raw2.default ? sql : this.client.raw(sql, bindings);
  this._statements.push({
    grouping: 'with',
    type: 'withRaw',
    alias: alias,
    value: raw
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw new Error('with() first argument must be a string');
  }
  if (typeof statement === 'function') {
    return this.withWrapped(alias, statement);
  }
  // Allow a raw statement to be passed along to the query.
  if (statement instanceof _raw2.default &amp;&amp; arguments.length &gt;= 2) {
    return this.<span class="apidocCodeKeywordSpan">withRaw</span>(alias, statement, bindings);
  }
  throw new Error('with() second argument must be a function or a raw');
},


// Adds a raw `with` clause to the query.
withRaw: function withRaw(alias, sql, bindings) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.withSchema" id="apidoc.element.knex.builder.prototype.withSchema">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>withSchema
        <span class="apidocSignatureSpan">(schemaName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function withSchema(schemaName) {
  this._single.schema = schemaName;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.withWrapped" id="apidoc.element.knex.builder.prototype.withWrapped">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>withWrapped
        <span class="apidocSignatureSpan">(alias, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function withWrapped(alias, callback) {
  this._statements.push({
    grouping: 'with',
    type: 'withWrapped',
    alias: alias,
    value: callback
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ------

with: function _with(alias, statement, bindings) {
  if (typeof alias !== 'string') {
    throw new Error('with() first argument must be a string');
  }
  if (typeof statement === 'function') {
    return this.<span class="apidocCodeKeywordSpan">withWrapped</span>(alias, statement);
  }
  // Allow a raw statement to be passed along to the query.
  if (statement instanceof _raw2.default &amp;&amp; arguments.length &gt;= 2) {
    return this.withRaw(alias, statement, bindings);
  }
  throw new Error('with() second argument must be a function or a raw');
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.builder.prototype.yield" id="apidoc.element.knex.builder.prototype.yield">
        function <span class="apidocSignatureSpan">knex.builder.prototype.</span>yield
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.columnbuilder" id="apidoc.module.knex.columnbuilder">module knex.columnbuilder</a></h1>


    <h2>
        <a href="#apidoc.element.knex.columnbuilder.columnbuilder" id="apidoc.element.knex.columnbuilder.columnbuilder">
        function <span class="apidocSignatureSpan">knex.</span>columnbuilder
        <span class="apidocSignatureSpan">(client, tableBuilder, type, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ColumnBuilder(client, tableBuilder, type, args) {
  this.client = client;
  this._method = 'add';
  this._single = {};
  this._modifiers = {};
  this._statements = [];
  this._type = columnAlias[type] || type;
  this._args = args;
  this._tableBuilder = tableBuilder;

  // If we're altering the table, extend the object
  // with the available "alter" methods.
  if (tableBuilder._method === 'alter') {
    (0, _extend3.default)(this, AlterMethods);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.columnbuilder.prototype" id="apidoc.module.knex.columnbuilder.prototype">module knex.columnbuilder.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.after" id="apidoc.element.knex.columnbuilder.prototype.after">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>after
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">after = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.collate" id="apidoc.element.knex.columnbuilder.prototype.collate">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>collate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collate = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.comment" id="apidoc.element.knex.columnbuilder.prototype.comment">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>comment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">comment = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.default" id="apidoc.element.knex.columnbuilder.prototype.default">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>default
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.valueForUndefined = null;
}
}
(0, _inherits2.default)(Client, _events.EventEmitter);

(0, _assign3.default)(Client.prototype, {
formatter: function formatter() {
  return new _formatter2.<span class="apidocCodeKeywordSpan">default</span>(this);
},
queryBuilder: function queryBuilder() {
  return new _builder2.default(this);
},
queryCompiler: function queryCompiler(builder) {
  return new _compiler2.default(this, builder);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.defaultTo" id="apidoc.element.knex.columnbuilder.prototype.defaultTo">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>defaultTo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultTo = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// The "timestamps" call is really just sets the `created_at` and `updated_at` columns.
TableBuilder.prototype.timestamps = function timestamps() {
  var method = arguments[0] === true ? 'timestamp' : 'datetime';
  var createdAt = this[method]('created_at');
  var updatedAt = this[method]('updated_at');
  if (arguments[1] === true) {
    var now = this.client.raw('CURRENT_TIMESTAMP');
    createdAt.notNullable().<span class="apidocCodeKeywordSpan">defaultTo</span>(now);
    updatedAt.notNullable().defaultTo(now);
  }
  return;
};

// Set the comment value for a table, they're only allowed to be called
// once per table.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.defaultsTo" id="apidoc.element.knex.columnbuilder.prototype.defaultsTo">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>defaultsTo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultsTo = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.first" id="apidoc.element.knex.columnbuilder.prototype.first">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>first
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">first = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.index" id="apidoc.element.knex.columnbuilder.prototype.index">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>index
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function () {
  if (this._type.toLowerCase().indexOf('increments') === -1) {
    this._tableBuilder[method].apply(this._tableBuilder, [this._args[0]].concat((0, _toArray3.default)(arguments)));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.notNull" id="apidoc.element.knex.columnbuilder.prototype.notNull">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>notNull
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notNullable() {
  return this.nullable(false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.notNullable" id="apidoc.element.knex.columnbuilder.prototype.notNullable">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>notNullable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notNullable() {
  return this.nullable(false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// The "timestamps" call is really just sets the `created_at` and `updated_at` columns.
TableBuilder.prototype.timestamps = function timestamps() {
  var method = arguments[0] === true ? 'timestamp' : 'datetime';
  var createdAt = this[method]('created_at');
  var updatedAt = this[method]('updated_at');
  if (arguments[1] === true) {
    var now = this.client.raw('CURRENT_TIMESTAMP');
    createdAt.<span class="apidocCodeKeywordSpan">notNullable</span>().defaultTo(now);
    updatedAt.notNullable().defaultTo(now);
  }
  return;
};

// Set the comment value for a table, they're only allowed to be called
// once per table.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.nullable" id="apidoc.element.knex.columnbuilder.prototype.nullable">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>nullable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nullable = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ColumnBuilder.prototype[method] = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
};
});

ColumnBuilder.prototype.notNull = ColumnBuilder.prototype.notNullable = function notNullable() {
return this.<span class="apidocCodeKeywordSpan">nullable</span>(false);
};

(0, _each3.default)(['index', 'primary', 'unique'], function (method) {
ColumnBuilder.prototype[method] = function () {
  if (this._type.toLowerCase().indexOf('increments') === -1) {
    this._tableBuilder[method].apply(this._tableBuilder, [this._args[0]].concat((0, _toArray3.default)(arguments)));
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.primary" id="apidoc.element.knex.columnbuilder.prototype.primary">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>primary
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">primary = function () {
  if (this._type.toLowerCase().indexOf('increments') === -1) {
    this._tableBuilder[method].apply(this._tableBuilder, [this._args[0]].concat((0, _toArray3.default)(arguments)));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

# 0.11.5 - 26 May, 2016

- Bugfix: Using `Raw` or `QueryBuilder` as a binding to `Raw` now works as intended

# 0.11.4 - 22 May, 2016

- Bugfix: Inconsistency of `.<span class="apidocCodeKeywordSpan">primary</span>()` and `.dropPrimary()` between dialects #1430
- Feature: Allow using custom Client/Dialect (you can pass your own client in knex config) #1428
- Docs: Add documentation for .dropTimestamps #1432
- Bugfix: Fixed passing undefined fields for insert/update inside transaction #1423
- Feature: `batchInsert` with existing transaction #1354
- Build: eslint instead of jshint #1416
- Bugfix: Pooled connections not releasing #1382
- Bugfix: Support passing `knex.raw` to `.whereNot` #1402
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.references" id="apidoc.element.knex.columnbuilder.prototype.references">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>references
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">references = function (value) {
  return this._tableBuilder.foreign.call(this._tableBuilder, this._args[0], undefined, this)._columnBuilder(this).references(value
);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- Added [streaming](#Interfaces-Streams) interface
- Deprecated 5 argument [join](#Builder-join) in favor of additional join methods.
- The wrapValue function to allow for array column operations in PostgreSQL (#287).
- An explicit connection can be passed for any query (#56).
- Drop column support for sqlite3
- All schema actions are run sequentially on the same connection if chained.
- Schema actions can now be wrapped in a transaction
- `.<span class="apidocCodeKeywordSpan">references</span>(tableName.columnName)` as shorthand for `.references(columnName).inTable
(tableName)`
- `.join('table.column', 'otherTable.column')` as shorthand for .join('table.column', '='
;, 'otherTable.column')
- Streams are supported for selects, passing through to the streaming capabilities of node-mysql and node-postgres
- For More information, see this [pull-request](https://github.com/tgriesser/knex/pull/252)


# 0.5.15 - June 4, 2014
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.unique" id="apidoc.element.knex.columnbuilder.prototype.unique">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>unique
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unique = function () {
  if (this._type.toLowerCase().indexOf('increments') === -1) {
    this._tableBuilder[method].apply(this._tableBuilder, [this._args[0]].concat((0, _toArray3.default)(arguments)));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._fn.call(this, this);
return this.client.tableCompiler(this).toSQL();
};

(0, _each3.default)([

// Each of the index methods can be called individually, with the
// column name to be used, e.g. table.<span class="apidocCodeKeywordSpan">unique</span>('column').
'index', 'primary', 'unique',

// Key specific
'dropPrimary', 'dropUnique', 'dropIndex', 'dropForeign'], function (method) {
TableBuilder.prototype[method] = function () {
  this._statements.push({
    grouping: 'alterTable',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columnbuilder.prototype.unsigned" id="apidoc.element.knex.columnbuilder.prototype.unsigned">
        function <span class="apidocSignatureSpan">knex.columnbuilder.prototype.</span>unsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsigned = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  table.string('user_name');
})

// ...and another
.createTable('accounts', function(table) {
  table.increments('id');
  table.string('account_name');
  table.integer('user_id').<span class="apidocCodeKeywordSpan">unsigned</span>().references('users.id');
})

// Then query the table...
.then(function() {
  return knex.insert({user_name: 'Tim'}).into('users');
})
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.columncompiler" id="apidoc.module.knex.columncompiler">module knex.columncompiler</a></h1>


    <h2>
        <a href="#apidoc.element.knex.columncompiler.columncompiler" id="apidoc.element.knex.columncompiler.columncompiler">
        function <span class="apidocSignatureSpan">knex.</span>columncompiler
        <span class="apidocSignatureSpan">(client, tableCompiler, columnBuilder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ColumnCompiler(client, tableCompiler, columnBuilder) {
  this.client = client;
  this.tableCompiler = tableCompiler;
  this.columnBuilder = columnBuilder;
  this.args = columnBuilder._args;
  this.type = columnBuilder._type.toLowerCase();
  this.grouped = (0, _groupBy3.default)(columnBuilder._statements, 'grouping');
  this.modified = columnBuilder._modifiers;
  this.isIncrements = this.type.indexOf('increments') !== -1;
  this.formatter = client.formatter();
  this.sequence = [];
  this.modifiers = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.columncompiler.prototype" id="apidoc.module.knex.columncompiler.prototype">module knex.columncompiler.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype._num" id="apidoc.element.knex.columncompiler.prototype._num">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>_num
        <span class="apidocSignatureSpan">(val, fallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_num = function (val, fallback) {
  if (val === undefined || val === null) return fallback;
  var number = parseInt(val, 10);
  return isNaN(number) ? fallback : number;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ------

ColumnCompiler.prototype.increments = 'integer not null primary key autoincrement';
ColumnCompiler.prototype.bigincrements = 'integer not null primary key autoincrement';
ColumnCompiler.prototype.integer = ColumnCompiler.prototype.smallint = ColumnCompiler.prototype.mediumint = 'integer';
ColumnCompiler.prototype.biginteger = 'bigint';
ColumnCompiler.prototype.varchar = function (length) {
  return 'varchar(' + this.<span class="apidocCodeKeywordSpan">_num</span>(length, 255) + ')';
};
ColumnCompiler.prototype.text = 'text';
ColumnCompiler.prototype.tinyint = 'tinyint';
ColumnCompiler.prototype.floating = function (precision, scale) {
  return 'float(' + this._num(precision, 8) + ', ' + this._num(scale, 2) + ')';
};
ColumnCompiler.prototype.decimal = function (precision, scale) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.compileColumn" id="apidoc.element.knex.columncompiler.prototype.compileColumn">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>compileColumn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compileColumn = function () {
  return this.formatter.wrap(this.getColumnName()) + ' ' + this.getColumnType() + this.getModifiers();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ColumnCompiler.prototype.pushQuery = helpers.pushQuery;

ColumnCompiler.prototype.pushAdditional = helpers.pushAdditional;

// To convert to sql, we first go through and build the
// column as it would be in the insert statement
ColumnCompiler.prototype.toSQL = function () {
  this.pushQuery(this.<span class="apidocCodeKeywordSpan">compileColumn</span>());
  if (this.sequence.additional) {
    this.sequence = this.sequence.concat(this.sequence.additional);
  }
  return this.sequence;
};

// Compiles a column.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.decimal" id="apidoc.element.knex.columncompiler.prototype.decimal">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>decimal
        <span class="apidocSignatureSpan">(precision, scale)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">decimal = function (precision, scale) {
  return 'decimal(' + this._num(precision, 8) + ', ' + this._num(scale, 2) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.defaultTo" id="apidoc.element.knex.columncompiler.prototype.defaultTo">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>defaultTo
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultTo = function (value) {
  if (value === void 0) {
    return '';
  } else if (value === null) {
    value = "null";
  } else if (value instanceof _raw2.default) {
    value = value.toQuery();
  } else if (this.type === 'bool') {
    if (value === 'false') value = 0;
    value = '\'' + (value ? 1 : 0) + '\'';
  } else if (this.type === 'json' &amp;&amp; (0, _isObject3.default)(value)) {
    return (0, _stringify2.default)(value);
  } else {
    value = '\'' + value + '\'';
  }
  return 'default ' + value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// The "timestamps" call is really just sets the `created_at` and `updated_at` columns.
TableBuilder.prototype.timestamps = function timestamps() {
  var method = arguments[0] === true ? 'timestamp' : 'datetime';
  var createdAt = this[method]('created_at');
  var updatedAt = this[method]('updated_at');
  if (arguments[1] === true) {
    var now = this.client.raw('CURRENT_TIMESTAMP');
    createdAt.notNullable().<span class="apidocCodeKeywordSpan">defaultTo</span>(now);
    updatedAt.notNullable().defaultTo(now);
  }
  return;
};

// Set the comment value for a table, they're only allowed to be called
// once per table.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.floating" id="apidoc.element.knex.columncompiler.prototype.floating">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>floating
        <span class="apidocSignatureSpan">(precision, scale)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">floating = function (precision, scale) {
  return 'float(' + this._num(precision, 8) + ', ' + this._num(scale, 2) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.getColumnName" id="apidoc.element.knex.columncompiler.prototype.getColumnName">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>getColumnName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getColumnName = function () {
  var value = (0, _first3.default)(this.args);
  if (value) return value;
  if (this.isIncrements) {
    return 'id';
  } else {
    throw new Error('You did not specify a column name for the ' + this.type + 'column.');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.sequence = this.sequence.concat(this.sequence.additional);
}
return this.sequence;
};

// Compiles a column.
ColumnCompiler.prototype.compileColumn = function () {
return this.formatter.wrap(this.<span class="apidocCodeKeywordSpan">getColumnName</span>()) + ' ' + this.getColumnType
() + this.getModifiers();
};

// Assumes the autoincrementing key is named `id` if not otherwise specified.
ColumnCompiler.prototype.getColumnName = function () {
var value = (0, _first3.default)(this.args);
if (value) return value;
if (this.isIncrements) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.getColumnType" id="apidoc.element.knex.columncompiler.prototype.getColumnType">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>getColumnType
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getColumnType = function () {
  var type = this[this.type];
  return typeof type === 'function' ? type.apply(this, (0, _tail3.default)(this.args)) : type;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.sequence = this.sequence.concat(this.sequence.additional);
}
return this.sequence;
};

// Compiles a column.
ColumnCompiler.prototype.compileColumn = function () {
return this.formatter.wrap(this.getColumnName()) + ' ' + this.<span class="apidocCodeKeywordSpan">getColumnType</span>() +
this.getModifiers();
};

// Assumes the autoincrementing key is named `id` if not otherwise specified.
ColumnCompiler.prototype.getColumnName = function () {
var value = (0, _first3.default)(this.args);
if (value) return value;
if (this.isIncrements) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.getModifiers" id="apidoc.element.knex.columncompiler.prototype.getModifiers">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>getModifiers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getModifiers = function () {
  var modifiers = [];
  if (this.type.indexOf('increments') === -1) {
    for (var i = 0, l = this.modifiers.length; i &lt; l; i++) {
      var modifier = this.modifiers[i];
      if ((0, _has3.default)(this.modified, modifier)) {
        var val = this[modifier].apply(this, this.modified[modifier]);
        if (val) modifiers.push(val);
      }
    }
  }
  return modifiers.length &gt; 0 ? ' ' + modifiers.join(' ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.sequence = this.sequence.concat(this.sequence.additional);
}
return this.sequence;
};

// Compiles a column.
ColumnCompiler.prototype.compileColumn = function () {
return this.formatter.wrap(this.getColumnName()) + ' ' + this.getColumnType() + this.<span class="apidocCodeKeywordSpan
">getModifiers</span>();
};

// Assumes the autoincrementing key is named `id` if not otherwise specified.
ColumnCompiler.prototype.getColumnName = function () {
var value = (0, _first3.default)(this.args);
if (value) return value;
if (this.isIncrements) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.notNullable" id="apidoc.element.knex.columncompiler.prototype.notNullable">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>notNullable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notNullable = function () {
  return this.nullable(false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// The "timestamps" call is really just sets the `created_at` and `updated_at` columns.
TableBuilder.prototype.timestamps = function timestamps() {
  var method = arguments[0] === true ? 'timestamp' : 'datetime';
  var createdAt = this[method]('created_at');
  var updatedAt = this[method]('updated_at');
  if (arguments[1] === true) {
    var now = this.client.raw('CURRENT_TIMESTAMP');
    createdAt.<span class="apidocCodeKeywordSpan">notNullable</span>().defaultTo(now);
    updatedAt.notNullable().defaultTo(now);
  }
  return;
};

// Set the comment value for a table, they're only allowed to be called
// once per table.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.nullable" id="apidoc.element.knex.columncompiler.prototype.nullable">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>nullable
        <span class="apidocSignatureSpan">(nullable)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nullable = function (nullable) {
  return nullable === false ? 'not null' : 'null';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ColumnBuilder.prototype[method] = function () {
  this._modifiers[key] = (0, _toArray3.default)(arguments);
  return this;
};
});

ColumnBuilder.prototype.notNull = ColumnBuilder.prototype.notNullable = function notNullable() {
return this.<span class="apidocCodeKeywordSpan">nullable</span>(false);
};

(0, _each3.default)(['index', 'primary', 'unique'], function (method) {
ColumnBuilder.prototype[method] = function () {
  if (this._type.toLowerCase().indexOf('increments') === -1) {
    this._tableBuilder[method].apply(this._tableBuilder, [this._args[0]].concat((0, _toArray3.default)(arguments)));
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.pushAdditional" id="apidoc.element.knex.columncompiler.prototype.pushAdditional">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>pushAdditional
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pushAdditional(fn) {
  var child = new this.constructor(this.client, this.tableCompiler, this.columnBuilder);
  fn.call(child, (0, _tail3.default)(arguments));
  this.sequence.additional = (this.sequence.additional || []).concat(child.sequence);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.pushQuery" id="apidoc.element.knex.columncompiler.prototype.pushQuery">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>pushQuery
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pushQuery(query) {
  if (!query) return;
  if ((0, _isString3.default)(query)) {
    query = { sql: query };
  }
  if (!query.bindings) {
    query.bindings = this.formatter.bindings;
  }
  this.sequence.push(query);
  this.formatter = this.client.formatter();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ColumnCompiler.prototype.pushQuery = helpers.pushQuery;

ColumnCompiler.prototype.pushAdditional = helpers.pushAdditional;

// To convert to sql, we first go through and build the
// column as it would be in the insert statement
ColumnCompiler.prototype.toSQL = function () {
  this.<span class="apidocCodeKeywordSpan">pushQuery</span>(this.compileColumn());
  if (this.sequence.additional) {
    this.sequence = this.sequence.concat(this.sequence.additional);
  }
  return this.sequence;
};

// Compiles a column.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.specifictype" id="apidoc.element.knex.columncompiler.prototype.specifictype">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>specifictype
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">specifictype = function (type) {
  return type;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.toSQL" id="apidoc.element.knex.columncompiler.prototype.toSQL">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>toSQL
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toSQL = function () {
  this.pushQuery(this.compileColumn());
  if (this.sequence.additional) {
    this.sequence = this.sequence.concat(this.sequence.additional);
  }
  return this.sequence;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).<span class="apidocCodeKeywordSpan">toSQL</span>();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.columncompiler.prototype.varchar" id="apidoc.element.knex.columncompiler.prototype.varchar">
        function <span class="apidocSignatureSpan">knex.columncompiler.prototype.</span>varchar
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">varchar = function (length) {
  return 'varchar(' + this._num(length, 255) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.compiler" id="apidoc.module.knex.compiler">module knex.compiler</a></h1>


    <h2>
        <a href="#apidoc.element.knex.compiler.compiler" id="apidoc.element.knex.compiler.compiler">
        function <span class="apidocSignatureSpan">knex.</span>compiler
        <span class="apidocSignatureSpan">(client, builder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function QueryCompiler(client, builder) {
  this.client = client;
  this.method = builder._method || 'select';
  this.options = builder._options;
  this.single = builder._single;
  this.timeout = builder._timeout || false;
  this.cancelOnTimeout = builder._cancelOnTimeout || false;
  this.grouped = (0, _groupBy3.default)(builder._statements, 'grouping');
  this.formatter = client.formatter();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.compiler.prototype" id="apidoc.module.knex.compiler.prototype">module knex.compiler.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.compiler.prototype._groupsOrders" id="apidoc.element.knex.compiler.prototype._groupsOrders">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_groupsOrders
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _groupsOrders(type) {
  var items = this.grouped[type];
  if (!items) return '';
  var formatter = this.formatter;

  var sql = items.map(function (item) {
    var column = item.value instanceof _raw2.default ? formatter.unwrapRaw(item.value) : formatter.columnize(item.value);
    var direction = type === 'order' &amp;&amp; item.type !== 'orderByRaw' ? ' ' + formatter.direction(item.direction) : '';
    return column + direction;
  });
  return sql.length ? type + ' by ' + sql.join(', ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
      sql.push(val);
    }
  }
  return sql.length &gt; 1 ? sql.join(' ') : '';
},
group: function group() {
  return this.<span class="apidocCodeKeywordSpan">_groupsOrders</span>('group');
},
order: function order() {
  return this._groupsOrders('order');
},


// Compiles the `having` statements.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype._not" id="apidoc.element.knex.compiler.prototype._not">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_not
        <span class="apidocSignatureSpan">(statement, str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _not(statement, str) {
  if (statement.not) return 'not ' + str;
  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this.<span class="apidocCodeKeywordSpan">_not</span>(checkOperator === 'not in').whereIn(arguments[0], arguments
[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype._prepInsert" id="apidoc.element.knex.compiler.prototype._prepInsert">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_prepInsert
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _prepInsert(data) {
  var isRaw = this.formatter.rawOrFn(data);
  if (isRaw) return isRaw;
  var columns = [];
  var values = [];
  if (!Array.isArray(data)) data = data ? [data] : [];
  var i = -1;
  while (++i &lt; data.length) {
    if (data[i] == null) break;
    if (i === 0) columns = (0, _keys2.default)(data[i]).sort();
    var row = new Array(columns.length);
    var keys = (0, _keys2.default)(data[i]);
    var j = -1;
    while (++j &lt; keys.length) {
      var key = keys[j];
      var idx = columns.indexOf(key);
      if (idx === -1) {
        columns = columns.concat(key).sort();
        idx = columns.indexOf(key);
        var k = -1;
        while (++k &lt; values.length) {
          values[k].splice(idx, 0, undefined);
        }
        row.splice(idx, 0, undefined);
      }
      row[idx] = data[i][key];
    }
    values.push(row);
  }
  return {
    columns: columns,
    values: values
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (insertValues.length === 0) {
    return '';
  }
} else if ((typeof insertValues === 'undefined' ? 'undefined' : (0, _typeof3.default)(insertValues)) === '
;object' &amp;&amp; (0, _isEmpty3.default)(insertValues)) {
  return sql + this._emptyInsertValue;
}

var insertData = this.<span class="apidocCodeKeywordSpan">_prepInsert</span>(insertValues);
if (typeof insertData === 'string') {
  sql += insertData;
} else {
  if (insertData.columns.length) {
    sql += '(' + this.formatter.columnize(insertData.columns);
    sql += ') values (';
    var i = -1;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype._prepUpdate" id="apidoc.element.knex.compiler.prototype._prepUpdate">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>_prepUpdate
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _prepUpdate(data) {
  data = (0, _omitBy3.default)(data, _isUndefined3.default);
  var vals = [];
  var sorted = (0, _keys2.default)(data).sort();
  var i = -1;
  while (++i &lt; sorted.length) {
    vals.push(this.formatter.wrap(sorted[i]) + ' = ' + this.formatter.parameter(data[sorted[i]]));
  }
  return vals;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


// Compiles the "update" query.
update: function update() {
  // Make sure tableName is processed by the formatter first.
  var tableName = this.tableName;

  var updateData = this.<span class="apidocCodeKeywordSpan">_prepUpdate</span>(this.single.update);
  var wheres = this.where();
  return this.with() + ('update ' + (this.single.only ? 'only ' : '') + tableName) + ' set &amp;#
x27; + updateData.join(', ') + (wheres ? ' ' + wheres : '');
},


// Compiles the columns in the query, specifying if an item was distinct.
columns: function columns() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.aggregate" id="apidoc.element.knex.compiler.prototype.aggregate">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>aggregate
        <span class="apidocSignatureSpan">(stmt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function aggregate(stmt) {
  var val = stmt.value;
  var splitOn = val.toLowerCase().indexOf(' as ');
  var distinct = stmt.aggregateDistinct ? 'distinct ' : '';
  // Allows us to speciy an alias for the aggregate types.
  if (splitOn !== -1) {
    var col = val.slice(0, splitOn);
    var alias = val.slice(splitOn + 4);
    return stmt.method + '(' + (distinct + this.formatter.wrap(col)) + ') ' + ('as ' + this.formatter.wrap(alias));
  }
  return stmt.method + '(' + (distinct + this.formatter.wrap(val)) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var i = -1,
    sql = [];
if (columns) {
  while (++i &lt; columns.length) {
    var stmt = columns[i];
    if (stmt.distinct) distinct = true;
    if (stmt.type === 'aggregate') {
      sql.push(this.<span class="apidocCodeKeywordSpan">aggregate</span>(stmt));
    } else if (stmt.value &amp;&amp; stmt.value.length &gt; 0) {
      sql.push(this.formatter.columnize(stmt.value));
    }
  }
}
if (sql.length === 0) sql = ['*'];
return 'select ' + (distinct ? 'distinct ' : '') + sql.join(', ') + (this.tableName ? &amp;#
x27; from ' + (this.single.only ? 'only ' : '') + this.tableName : '');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.columns" id="apidoc.element.knex.compiler.prototype.columns">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>columns
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columns() {
  var distinct = false;
  if (this.onlyUnions()) return '';
  var columns = this.grouped.columns || [];
  var i = -1,
      sql = [];
  if (columns) {
    while (++i &lt; columns.length) {
      var stmt = columns[i];
      if (stmt.distinct) distinct = true;
      if (stmt.type === 'aggregate') {
        sql.push(this.aggregate(stmt));
      } else if (stmt.value &amp;&amp; stmt.value.length &gt; 0) {
        sql.push(this.formatter.columnize(stmt.value));
      }
    }
  }
  if (sql.length === 0) sql = ['*'];
  return 'select ' + (distinct ? 'distinct ' : '') + sql.join(', ') + (this.tableName ? ' from ' + (this.single.only ? 'only ' : '') +
this.tableName : '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.counter" id="apidoc.element.knex.compiler.prototype.counter">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>counter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function counter() {
  var counter = this.single.counter;

  var toUpdate = {};
  toUpdate[counter.column] = this.client.raw(this.formatter.wrap(counter.column) + ' ' + (counter.symbol || '+') + ' ' + counter
.amount);
  this.single.update = toUpdate;
  return this.update();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.del" id="apidoc.element.knex.compiler.prototype.del">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>del
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function del() {
  // Make sure tableName is processed by the formatter first.
  var tableName = this.tableName;

  var wheres = this.where();
  return this.with() + ('delete from ' + (this.single.only ? 'only ' : '') + tableName) + (wheres ? ' ' + wheres : '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return knex(tableName).insert({
          name: name,
          batch: batchNo,
          migration_time: new Date()
        });
      }
      if (direction === 'down') {
        return knex(tableName).where({ name: name }).<span class="apidocCodeKeywordSpan">del</span>();
      }
    });
  });

  return current.thenReturn([batchNo, log]);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.first" id="apidoc.element.knex.compiler.prototype.first">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>first
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function select() {
  var _this = this;

  var sql = this.with();

  var statements = components.map(function (component) {
    return _this[component](_this);
  });
  sql += (0, _compact3.default)(statements).join(' ');
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.group" id="apidoc.element.knex.compiler.prototype.group">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>group
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function group() {
  return this._groupsOrders('group');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.having" id="apidoc.element.knex.compiler.prototype.having">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>having
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function having() {
  var havings = this.grouped.having;
  if (!havings) return '';
  var sql = ['having'];
  for (var i = 0, l = havings.length; i &lt; l; i++) {
    var s = havings[i];
    var val = this[s.type](s);
    if (val) {
      if (sql.length === 0) {
        sql[0] = 'where';
      }
      if (sql.length &gt; 1 || sql.length === 1 &amp;&amp; sql[0] !== 'having') {
        sql.push(s.bool);
      }
      sql.push(val);
    }
  }
  return sql.length &gt; 1 ? sql.join(' ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingBasic" id="apidoc.element.knex.compiler.prototype.havingBasic">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingBasic
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingBasic(statement) {
  return this._not(statement, '') + this.formatter.wrap(statement.column) + ' ' + this.formatter.operator(statement.operator) + ' ' +
this.formatter.parameter(statement.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingBetween" id="apidoc.element.knex.compiler.prototype.havingBetween">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingBetween
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingBetween(statement) {
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'between') + ' ' + (0, _map3.default)(statement.value
, (0, _bind3.default)(this.formatter.parameter, this.formatter)).join(' and ');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orHavingBetween: function orHavingBetween(column, values) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingBetween</span>(column, values);
},
havingNotBetween: function havingNotBetween(column, values) {
  return this._not(true).havingBetween(column, values);
},
orHavingNotBetween: function orHavingNotBetween(column, values) {
  return this._not(true)._bool('or').havingBetween(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingExists" id="apidoc.element.knex.compiler.prototype.havingExists">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingExists
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.rawOrFn(statement.value) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orHavingExists: function orHavingExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingExists</span>(callback);
},
havingNotExists: function havingNotExists(callback) {
  return this._not(true).havingExists(callback);
},
orHavingNotExists: function orHavingNotExists(callback) {
  return this._not(true)._bool('or').havingExists(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingIn" id="apidoc.element.knex.compiler.prototype.havingIn">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingIn
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingIn(statement) {
  if (Array.isArray(statement.column)) return this.multiHavingIn(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter.parameterize(statement
.value));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  return this;
},


// Adds a `or where in` clause to the query.
orHavingIn: function orHavingIn(column, values) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingIn</span>(column, values);
},


// Adds a `where not in` clause to the query.
havingNotIn: function havingNotIn(column, values) {
  return this._not(true).havingIn(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingNull" id="apidoc.element.knex.compiler.prototype.havingNull">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingNull
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingNull(statement) {
  return this.formatter.wrap(statement.column) + ' is ' + this._not(statement, 'null');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orHavingNull: function orHavingNull(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">havingNull</span>(callback);
},
havingNotNull: function havingNotNull(callback) {
  return this._not(true).havingNull(callback);
},
orHavingNotNull: function orHavingNotNull(callback) {
  return this._not(true)._bool('or').havingNull(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingRaw" id="apidoc.element.knex.compiler.prototype.havingRaw">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingRaw
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingRaw(statement) {
  return this._not(statement, '') + this.formatter.unwrapRaw(statement.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this;
  },


  // Adds a `having` clause to the query.
  having: function having(column, operator, value) {
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) {
  return this.<span class="apidocCodeKeywordSpan">havingRaw</span>(column);
}

// Check if the column is a function, in which case it's
// a having statement wrapped in parens.
if (typeof column === 'function') {
  return this.havingWrapped(column);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.havingWrapped" id="apidoc.element.knex.compiler.prototype.havingWrapped">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>havingWrapped
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function havingWrapped(statement) {
  var val = this.formatter.rawOrFn(statement.value, 'where');
  return val &amp;&amp; this._not(statement, '') + '(' + val.slice(6) + ')' || '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) {
  return this.havingRaw(column);
}

// Check if the column is a function, in which case it's
// a having statement wrapped in parens.
if (typeof column === 'function') {
  return this.<span class="apidocCodeKeywordSpan">havingWrapped</span>(column);
}

this._statements.push({
  grouping: 'having',
  type: 'havingBasic',
  column: column,
  operator: operator,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.insert" id="apidoc.element.knex.compiler.prototype.insert">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>insert
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function insert() {
  var insertValues = this.single.insert || [];
  var sql = this.with() + ('insert into ' + this.tableName + ' ');
  if (Array.isArray(insertValues)) {
    if (insertValues.length === 0) {
      return '';
    }
  } else if ((typeof insertValues === 'undefined' ? 'undefined' : (0, _typeof3.default)(insertValues)) === 'object' &amp;&amp; (0, _isEmpty3
.default)(insertValues)) {
    return sql + this._emptyInsertValue;
  }

  var insertData = this._prepInsert(insertValues);
  if (typeof insertData === 'string') {
    sql += insertData;
  } else {
    if (insertData.columns.length) {
      sql += '(' + this.formatter.columnize(insertData.columns);
      sql += ') values (';
      var i = -1;
      while (++i &lt; insertData.values.length) {
        if (i !== 0) sql += '), (';
        sql += this.formatter.parameterize(insertData.values[i], this.client.valueForUndefined);
      }
      sql += ')';
    } else if (insertValues.length === 1 &amp;&amp; insertValues[0]) {
      sql += this._emptyInsertValue;
    } else {
      sql = '';
    }
  }
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  table.increments('id');
  table.string('account_name');
  table.integer('user_id').unsigned().references('users.id');
})

// Then query the table...
.then(function() {
  return knex.<span class="apidocCodeKeywordSpan">insert</span>({user_name: 'Tim'}).into('users');
})

// ...and using the insert id, insert into the other table.
.then(function(rows) {
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.join" id="apidoc.element.knex.compiler.prototype.join">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join() {
  var sql = '';
  var i = -1;
  var joins = this.grouped.join;
  if (!joins) return '';
  while (++i &lt; joins.length) {
    var join = joins[i];
    var table = join.schema ? join.schema + '.' + join.table : join.table;
    if (i &gt; 0) sql += ' ';
    if (join.joinType === 'raw') {
      sql += this.formatter.unwrapRaw(join.table);
    } else {
      sql += join.joinType + ' join ' + this.formatter.wrap(table);
      var ii = -1;
      while (++ii &lt; join.clauses.length) {
        var clause = join.clauses[ii];
        if (ii &gt; 0) {
          sql += ' ' + clause.bool + ' ';
        } else {
          sql += ' ' + (clause.type === 'onUsing' ? 'using' : 'on') + ' ';
        }
        var val = this[clause.type].call(this, clause);
        if (val) {
          sql += val;
        }
      }
    }
  }
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- Deprecated 5 argument [join](#Builder-join) in favor of additional join methods.
- The wrapValue function to allow for array column operations in PostgreSQL (#287).
- An explicit connection can be passed for any query (#56).
- Drop column support for sqlite3
- All schema actions are run sequentially on the same connection if chained.
- Schema actions can now be wrapped in a transaction
- `.references(tableName.columnName)` as shorthand for `.references(columnName).inTable(tableName)`
- `.<span class="apidocCodeKeywordSpan">join</span>('table.column', 'otherTable.column')` as shorthand for .
join('table.column', '=', 'otherTable.column')
- Streams are supported for selects, passing through to the streaming capabilities of node-mysql and node-postgres
- For More information, see this [pull-request](https://github.com/tgriesser/knex/pull/252)


# 0.5.15 - June 4, 2014

- Dropped indexes feature now functions correctly, (#278)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.limit" id="apidoc.element.knex.compiler.prototype.limit">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>limit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function limit() {
  var noLimit = !this.single.limit &amp;&amp; this.single.limit !== 0;
  if (noLimit) return '';
  return 'limit ' + this.formatter.parameter(this.single.limit);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
first: function first() {
  var args = new Array(arguments.length);
  for (var i = 0; i &lt; args.length; i++) {
    args[i] = arguments[i];
  }
  this.select.apply(this, args);
  this._method = 'first';
  this.<span class="apidocCodeKeywordSpan">limit</span>(1);
  return this;
},


// Pluck a column from a query.
pluck: function pluck(column) {
  this._method = 'pluck';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.lock" id="apidoc.element.knex.compiler.prototype.lock">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>lock
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lock() {
  if (this.single.lock) {
    if (!this.client.transacting) {
      helpers.warn('You are attempting to perform a "lock" command outside of a transaction.');
    } else {
      return this[this.single.lock]();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.multiHavingIn" id="apidoc.element.knex.compiler.prototype.multiHavingIn">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>multiHavingIn
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function multiHavingIn(statement) {
  var i = -1,
      sql = '(' + this.formatter.columnize(statement.column) + ') ';
  sql += this._not(statement, 'in ') + '((';
  while (++i &lt; statement.value.length) {
    if (i !== 0) sql += '),(';
    sql += this.formatter.parameterize(statement.value[i]);
  }
  return sql + '))';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
havingExists: function havingExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.rawOrFn(statement.value) + ')';
},
havingBetween: function havingBetween(statement) {
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'between') + ' ' + (0,
_map3.default)(statement.value, (0, _bind3.default)(this.formatter.parameter, this.formatter)).join(' and ');
},
havingIn: function havingIn(statement) {
  if (Array.isArray(statement.column)) return this.<span class="apidocCodeKeywordSpan">multiHavingIn</span>(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter
.parameterize(statement.value));
},
multiHavingIn: function multiHavingIn(statement) {
  var i = -1,
      sql = '(' + this.formatter.columnize(statement.column) + ') ';
  sql += this._not(statement, 'in ') + '((';
  while (++i &lt; statement.value.length) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.multiOnIn" id="apidoc.element.knex.compiler.prototype.multiOnIn">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>multiOnIn
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function multiOnIn(statement) {
  var i = -1,
      sql = '(' + this.formatter.columnize(statement.column) + ') ';
  sql += this._not(statement, 'in ') + '((';
  while (++i &lt; statement.value.length) {
    if (i !== 0) sql += '),(';
    sql += this.formatter.parameterize(statement.value[i]);
  }
  return sql + '))';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
onNull: function onNull(statement) {
  return this.formatter.wrap(statement.column) + ' is ' + this._not(statement, 'null');
},
onExists: function onExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.rawOrFn(statement.value) + ')';
},
onIn: function onIn(statement) {
  if (Array.isArray(statement.column)) return this.<span class="apidocCodeKeywordSpan">multiOnIn</span>(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter
.parameterize(statement.value));
},
multiOnIn: function multiOnIn(statement) {
  var i = -1,
      sql = '(' + this.formatter.columnize(statement.column) + ') ';
  sql += this._not(statement, 'in ') + '((';
  while (++i &lt; statement.value.length) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.multiWhereIn" id="apidoc.element.knex.compiler.prototype.multiWhereIn">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>multiWhereIn
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function multiWhereIn(statement) {
  var i = -1,
      sql = '(' + this.formatter.columnize(statement.column) + ') ';
  sql += this._not(statement, 'in ') + '((';
  while (++i &lt; statement.value.length) {
    if (i !== 0) sql += '),(';
    sql += this.formatter.parameterize(statement.value[i]);
  }
  return sql + '))';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},


// Where Clause
// ------

whereIn: function whereIn(statement) {
  if (Array.isArray(statement.column)) return this.<span class="apidocCodeKeywordSpan">multiWhereIn</span>(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter
.parameterize(statement.value));
},
multiWhereIn: function multiWhereIn(statement) {
  var i = -1,
      sql = '(' + this.formatter.columnize(statement.column) + ') ';
  sql += this._not(statement, 'in ') + '((';
  while (++i &lt; statement.value.length) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.offset" id="apidoc.element.knex.compiler.prototype.offset">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>offset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function offset() {
  if (!this.single.offset) return '';
  return 'offset ' + this.formatter.parameter(this.single.offset);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onBasic" id="apidoc.element.knex.compiler.prototype.onBasic">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onBasic
        <span class="apidocSignatureSpan">(clause)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onBasic(clause) {
  return this.formatter.wrap(clause.column) + ' ' + this.formatter.operator(clause.operator) + ' ' + this.formatter.wrap(clause.
value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onBetween" id="apidoc.element.knex.compiler.prototype.onBetween">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onBetween
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onBetween(statement) {
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'between') + ' ' + (0, _map3.default)(statement.value
, (0, _bind3.default)(this.formatter.parameter, this.formatter)).join(' and ');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: values,
    bool: this._bool(),
    not: this._not()
  });
  return this;
},
onNotBetween: function onNotBetween(column, values) {
  return this._not(true).<span class="apidocCodeKeywordSpan">onBetween</span>(column, values);
},
orOnBetween: function orOnBetween(column, values) {
  return this._bool('or').onBetween(column, values);
},
orOnNotBetween: function orOnNotBetween(column, values) {
  return this._bool('or')._not(true).onBetween(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onExists" id="apidoc.element.knex.compiler.prototype.onExists">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onExists
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.rawOrFn(statement.value) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orOnExists: function orOnExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">onExists</span>(callback);
},
onNotExists: function onNotExists(callback) {
  return this._not(true).onExists(callback);
},
orOnNotExists: function orOnNotExists(callback) {
  return this._not(true)._bool('or').onExists(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onIn" id="apidoc.element.knex.compiler.prototype.onIn">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onIn
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onIn(statement) {
  if (Array.isArray(statement.column)) return this.multiOnIn(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter.parameterize(statement
.value));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
onNotIn: function onNotIn(column, values) {
  return this._not(true).<span class="apidocCodeKeywordSpan">onIn</span>(column, values);
},
orOnIn: function orOnIn(column, values) {
  return this._bool('or').onIn(column, values);
},
orOnNotIn: function orOnNotIn(column, values) {
  return this._bool('or')._not(true).onIn(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onNull" id="apidoc.element.knex.compiler.prototype.onNull">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onNull
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNull(statement) {
  return this.formatter.wrap(statement.column) + ' is ' + this._not(statement, 'null');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orOnNull: function orOnNull(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">onNull</span>(callback);
},
onNotNull: function onNotNull(callback) {
  return this._not(true).onNull(callback);
},
orOnNotNull: function orOnNotNull(callback) {
  return this._not(true)._bool('or').onNull(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onRaw" id="apidoc.element.knex.compiler.prototype.onRaw">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onRaw
        <span class="apidocSignatureSpan">(clause)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onRaw(clause) {
  return this.formatter.unwrapRaw(clause.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onUsing" id="apidoc.element.knex.compiler.prototype.onUsing">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onUsing
        <span class="apidocSignatureSpan">(clause)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onUsing(clause) {
  return this.formatter.wrap(clause.column);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onWrapped" id="apidoc.element.knex.compiler.prototype.onWrapped">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onWrapped
        <span class="apidocSignatureSpan">(clause)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onWrapped(clause) {
  var self = this;

  var wrapJoin = new _joinclause2.default();
  clause.value.call(wrapJoin, wrapJoin);

  var sql = '';
  wrapJoin.clauses.forEach(function (wrapClause, ii) {
    if (ii &gt; 0) {
      sql += ' ' + wrapClause.bool + ' ';
    }
    var val = self[wrapClause.type](wrapClause);
    if (val) {
      sql += val;
    }
  });

  if (sql.length) {
    return '(' + sql + ')';
  }
  return '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.onlyUnions" id="apidoc.element.knex.compiler.prototype.onlyUnions">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>onlyUnions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onlyUnions() {
  return !this.grouped.columns &amp;&amp; this.grouped.union &amp;&amp; !this.tableName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this.with() + ('update ' + (this.single.only ? 'only ' : '') + tableName) + ' set &amp;#
x27; + updateData.join(', ') + (wheres ? ' ' + wheres : '');
},


// Compiles the columns in the query, specifying if an item was distinct.
columns: function columns() {
  var distinct = false;
  if (this.<span class="apidocCodeKeywordSpan">onlyUnions</span>()) return '';
  var columns = this.grouped.columns || [];
  var i = -1,
      sql = [];
  if (columns) {
    while (++i &lt; columns.length) {
      var stmt = columns[i];
      if (stmt.distinct) distinct = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.order" id="apidoc.element.knex.compiler.prototype.order">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>order
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function order() {
  return this._groupsOrders('order');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.pluck" id="apidoc.element.knex.compiler.prototype.pluck">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>pluck
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pluck() {
  var toPluck = this.single.pluck;
  if (toPluck.indexOf('.') !== -1) {
    toPluck = toPluck.split('.').slice(-1)[0];
  }
  return {
    sql: this.select(),
    pluck: toPluck
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.select" id="apidoc.element.knex.compiler.prototype.select">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>select
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function select() {
  var _this = this;

  var sql = this.with();

  var statements = components.map(function (component) {
    return _this[component](_this);
  });
  sql += (0, _compact3.default)(statements).join(' ');
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})

// Query both of the rows.
.then(function() {
  return knex('users')
    .join('accounts', 'users.id', 'accounts.user_id')
    .<span class="apidocCodeKeywordSpan">select</span>('users.user_name as user', 'accounts.account_name as account
');
})

// .map over the results
.map(function(row) {
  console.log(row);
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.toSQL" id="apidoc.element.knex.compiler.prototype.toSQL">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>toSQL
        <span class="apidocSignatureSpan">(method, tz)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toSQL(method, tz) {
  this._undefinedInWhereClause = false;

  method = method || this.method;
  var val = this[method]();
  var defaults = {
    method: method,
    options: (0, _reduce3.default)(this.options, _assign3.default, {}),
    timeout: this.timeout,
    cancelOnTimeout: this.cancelOnTimeout,
    bindings: this.formatter.bindings,
    __knexQueryUid: _uuid2.default.v4()
  };
  if ((0, _isString3.default)(val)) {
    val = { sql: val };
  }

  defaults.bindings = defaults.bindings || [];

  if (method === 'select' || method === 'first') {
    if (this.single.as) {
      defaults.as = this.single.as;
    }
  }

  if (this._undefinedInWhereClause) {
    debugBindings(defaults.bindings);
    throw new Error('Undefined binding(s) detected when compiling ' + (method.toUpperCase() + ' query: ' + val.sql));
  }

  return (0, _assign3.default)(defaults, val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).<span class="apidocCodeKeywordSpan">toSQL</span>();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.truncate" id="apidoc.element.knex.compiler.prototype.truncate">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>truncate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function truncate() {
  return 'truncate ' + this.tableName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.union" id="apidoc.element.knex.compiler.prototype.union">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>union
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function union() {
  var onlyUnions = this.onlyUnions();
  var unions = this.grouped.union;
  if (!unions) return '';
  var sql = '';
  for (var i = 0, l = unions.length; i &lt; l; i++) {
    var union = unions[i];
    if (i &gt; 0) sql += ' ';
    if (i &gt; 0 || !onlyUnions) sql += union.clause + ' ';
    var statement = this.formatter.rawOrFn(union.value);
    if (statement) {
      if (union.wrap) sql += '(';
      sql += statement;
      if (union.wrap) sql += ')';
    }
  }
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    callbacks = (0, _toArray3.default)(arguments).slice(0, arguments.length - 1);
    wrap = arguments[arguments.length - 1];
    if (!(0, _isBoolean3.default)(wrap)) {
      callbacks.push(wrap);
      wrap = false;
    }
    this.<span class="apidocCodeKeywordSpan">union</span>(callbacks, wrap);
  }
  return this;
},


// Adds a union all statement to the query.
unionAll: function unionAll(callback, wrap) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.update" id="apidoc.element.knex.compiler.prototype.update">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>update
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function update() {
  // Make sure tableName is processed by the formatter first.
  var tableName = this.tableName;

  var updateData = this._prepUpdate(this.single.update);
  var wheres = this.where();
  return this.with() + ('update ' + (this.single.only ? 'only ' : '') + tableName) + ' set ' + updateData.join(', ') + (wheres ? ' ' +
wheres : '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.knex(tableName).transacting(trx).forUpdate().select('*').then(function (data) {
  return data[0].is_locked;
});
  };

  Migrator.prototype._lockMigrations = function _lockMigrations(trx) {
var tableName = this._getLockTableName();
return this.knex(tableName).transacting(trx).<span class="apidocCodeKeywordSpan">update</span>({ is_locked: 1 });
  };

  Migrator.prototype._getLock = function _getLock() {
var _this6 = this;

return this.knex.transaction(function (trx) {
  return _this6._isLocked(trx).then(function (isLocked) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.where" id="apidoc.element.knex.compiler.prototype.where">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>where
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function where() {
  var wheres = this.grouped.where;
  if (!wheres) return;
  var sql = [];
  var i = -1;
  while (++i &lt; wheres.length) {
    var stmt = wheres[i];
    if (stmt.hasOwnProperty('value') &amp;&amp; helpers.containsUndefined(stmt.value)) {
      this._undefinedInWhereClause = true;
    }
    var val = this[stmt.type](stmt);
    if (val) {
      if (sql.length === 0) {
        sql[0] = 'where';
      } else {
        sql.push(stmt.bool);
      }
      sql.push(val);
    }
  }
  return sql.length &gt; 1 ? sql.join(' ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

# 0.5.12 - Mar 31, 2014

- Add more operators for where clauses, including &amp;&amp; (#226)

# 0.5.11 - Mar 25, 2014

- `.<span class="apidocCodeKeywordSpan">where</span>(col, 'is', null)` or `.where(col, 'is not', null)` are
not supported (#221).
- Case insensitive `where` operators now allowed (#212).
- Fix bug in increment/decrement truncating to an integer (#210).
- Disconnected connections are now properly handled &amp; removed from the pool (#206).
- Internal tweaks to binding concatenations for performance (#207)

# 0.5.10 - Mar 19, 2014
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereBasic" id="apidoc.element.knex.compiler.prototype.whereBasic">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereBasic
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereBasic(statement) {
  return this._not(statement, '') + this.formatter.wrap(statement.column) + ' ' + this.formatter.operator(statement.operator) + ' ' +
this.formatter.parameter(statement.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereBetween" id="apidoc.element.knex.compiler.prototype.whereBetween">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereBetween
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereBetween(statement) {
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'between') + ' ' + (0, _map3.default)(statement.value
, (0, _bind3.default)(this.formatter.parameter, this.formatter)).join(' and ');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this._not(checkOperator === 'not in').whereIn(arguments[0], arguments[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').<span class="apidocCodeKeywordSpan">whereBetween</span>(arguments
[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
// where value is null
if (value === null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereExists" id="apidoc.element.knex.compiler.prototype.whereExists">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereExists
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.rawOrFn(statement.value) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  return this;
},


// Adds an `or where exists` clause to the query.
orWhereExists: function orWhereExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">whereExists</span>(callback);
},


// Adds a `where not exists` clause to the query.
whereNotExists: function whereNotExists(callback) {
  return this._not(true).whereExists(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereIn" id="apidoc.element.knex.compiler.prototype.whereIn">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereIn
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereIn(statement) {
  if (Array.isArray(statement.column)) return this.multiWhereIn(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter.parameterize(statement
.value));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this._not(checkOperator === 'not in').<span class="apidocCodeKeywordSpan">whereIn</span>(arguments[0], arguments
[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereNull" id="apidoc.element.knex.compiler.prototype.whereNull">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereNull
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereNull(statement) {
  return this.formatter.wrap(statement.column) + ' is ' + this._not(statement, 'null');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (arguments.length === 2) {
  value = operator;
  operator = '=';

  // If the value is null, and it's a two argument query,
  // we assume we're going for a `whereNull`.
  if (value === null) {
    return this.<span class="apidocCodeKeywordSpan">whereNull</span>(column);
  }
}

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereRaw" id="apidoc.element.knex.compiler.prototype.whereRaw">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereRaw
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereRaw(statement) {
  return this._not(statement, '') + this.formatter.unwrapRaw(statement.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Check if the column is a function, in which case it's
// a where statement wrapped in parens.
if (typeof column === 'function') {
  return this.whereWrapped(column);
}

// Allow a raw statement to be passed along to the query.
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.<span class="apidocCodeKeywordSpan">whereRaw
</span>(column);

// Allows `where({id: 2})` syntax.
if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this._objectWhere(column);

// Enable the where('key', value) syntax, only when there
// are explicitly two arguments passed, so it's not possible to
// do where('key', '!=') and have that turn into where key != null
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.whereWrapped" id="apidoc.element.knex.compiler.prototype.whereWrapped">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>whereWrapped
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whereWrapped(statement) {
  var val = this.formatter.rawOrFn(statement.value, 'where');
  return val &amp;&amp; this._not(statement, '') + '(' + val.slice(6) + ')' || '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (column === false || column === true) {
  return this.where(1, '=', column ? 1 : 0);
}

// Check if the column is a function, in which case it's
// a where statement wrapped in parens.
if (typeof column === 'function') {
  return this.<span class="apidocCodeKeywordSpan">whereWrapped</span>(column);
}

// Allow a raw statement to be passed along to the query.
if (column instanceof _raw2.default &amp;&amp; arguments.length === 1) return this.whereRaw(column);

// Allows `where({id: 2})` syntax.
if ((0, _isObject3.default)(column) &amp;&amp; !(column instanceof _raw2.default)) return this._objectWhere(column);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.with" id="apidoc.element.knex.compiler.prototype.with">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>with
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _with() {
  if (!this.grouped.with || !this.grouped.with.length) {
    return '';
  }
  var withs = this.grouped.with;
  if (!withs) return;
  var sql = [];
  var i = -1;
  while (++i &lt; withs.length) {
    var stmt = withs[i];
    var val = this[stmt.type](stmt);
    sql.push(val);
  }
  return 'with ' + sql.join(', ') + ' ';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Compiles the `select` statement, or nested sub-selects by calling each of
// the component compilers, trimming out the empties, and returning a
// generated query string.
select: function select() {
  var _this = this;

  var sql = this.<span class="apidocCodeKeywordSpan">with</span>();

  var statements = components.map(function (component) {
    return _this[component](_this);
  });
  sql += (0, _compact3.default)(statements).join(' ');
  return sql;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.withRaw" id="apidoc.element.knex.compiler.prototype.withRaw">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>withRaw
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function withRaw(statement) {
  return this.formatter.columnize(statement.alias) + ' as (' + this.formatter.unwrapRaw(statement.value) + ')';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw new Error('with() first argument must be a string');
  }
  if (typeof statement === 'function') {
    return this.withWrapped(alias, statement);
  }
  // Allow a raw statement to be passed along to the query.
  if (statement instanceof _raw2.default &amp;&amp; arguments.length &gt;= 2) {
    return this.<span class="apidocCodeKeywordSpan">withRaw</span>(alias, statement, bindings);
  }
  throw new Error('with() second argument must be a function or a raw');
},


// Adds a raw `with` clause to the query.
withRaw: function withRaw(alias, sql, bindings) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.withWrapped" id="apidoc.element.knex.compiler.prototype.withWrapped">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>withWrapped
        <span class="apidocSignatureSpan">(statement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function withWrapped(statement) {
  var val = this.formatter.rawOrFn(statement.value);
  return val &amp;&amp; this.formatter.columnize(statement.alias) + ' as (' + val + ')' || '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ------

with: function _with(alias, statement, bindings) {
  if (typeof alias !== 'string') {
    throw new Error('with() first argument must be a string');
  }
  if (typeof statement === 'function') {
    return this.<span class="apidocCodeKeywordSpan">withWrapped</span>(alias, statement);
  }
  // Allow a raw statement to be passed along to the query.
  if (statement instanceof _raw2.default &amp;&amp; arguments.length &gt;= 2) {
    return this.withRaw(alias, statement, bindings);
  }
  throw new Error('with() second argument must be a function or a raw');
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.compiler.prototype.wrap" id="apidoc.element.knex.compiler.prototype.wrap">
        function <span class="apidocSignatureSpan">knex.compiler.prototype.</span>wrap
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wrap(str) {
  if (str.charAt(0) !== '(') return '(' + str + ')';
  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Formatter.prototype.columnize = function columnize(target) {
  var columns = typeof target === 'string' ? [target] : target;
  var str = '',
      i = -1;
  while (++i &lt; columns.length) {
    if (i &gt; 0) str += ', ';
    str += this.<span class="apidocCodeKeywordSpan">wrap</span>(columns[i]);
  }
  return str;
};

// Turns a list of values into a list of ?'s, joining them with commas unless
// a "joining" value is specified (e.g. ' and ')
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.formatter" id="apidoc.module.knex.formatter">module knex.formatter</a></h1>


    <h2>
        <a href="#apidoc.element.knex.formatter.formatter" id="apidoc.element.knex.formatter.formatter">
        function <span class="apidocSignatureSpan">knex.</span>formatter
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Formatter(client) {
  (0, _classCallCheck3.default)(this, Formatter);

  this.client = client;
  this.bindings = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.toQuery();
  },


  // Returns the raw sql for the query.
  toSQL: function toSQL(method, tz) {
var obj = void 0;
var formatter = this.client.<span class="apidocCodeKeywordSpan">formatter</span>();

if (Array.isArray(this.bindings)) {
  obj = replaceRawArrBindings(this, formatter);
} else if (this.bindings &amp;&amp; (0, _isPlainObject3.default)(this.bindings)) {
  obj = replaceKeyBindings(this, formatter);
} else {
  obj = {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.formatter.prototype" id="apidoc.module.knex.formatter.prototype">module knex.formatter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.formatter.prototype._wrapString" id="apidoc.element.knex.formatter.prototype._wrapString">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>_wrapString
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _wrapString(value) {
  var asIndex = value.toLowerCase().indexOf(' as ');
  if (asIndex !== -1) {
    var first = value.slice(0, asIndex);
    var second = value.slice(asIndex + 4);
    return this.alias(this.wrap(first), this.wrapAsIdentifier(second));
  }
  var wrapped = [];
  var i = -1;
  var segments = value.split('.');
  while (++i &lt; segments.length) {
    value = segments[i];
    if (i === 0 &amp;&amp; segments.length &gt; 1) {
      wrapped.push(this.wrap((value || '').trim()));
    } else {
      wrapped.push(this.client.wrapIdentifier((value || '').trim()));
    }
  }
  return wrapped.join('.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Formatter.prototype.wrap = function wrap(value) {
  if (typeof value === 'function') {
    return this.outputQuery(this.compileCallback(value), true);
  }
  var raw = this.unwrapRaw(value);
  if (raw) return raw;
  if (typeof value === 'number') return value;
  return this.<span class="apidocCodeKeywordSpan">_wrapString</span>(value + '');
};

Formatter.prototype.wrapAsIdentifier = function wrapAsIdentifier(value) {
  return this.client.wrapIdentifier((value || '').trim());
};

Formatter.prototype.alias = function alias(first, second) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.alias" id="apidoc.element.knex.formatter.prototype.alias">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>alias
        <span class="apidocSignatureSpan">(first, second)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function alias(first, second) {
  return first + ' as ' + second;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


Formatter.prototype.outputQuery = function outputQuery(compiled, isParameter) {
  var sql = compiled.sql || '';
  if (sql) {
    if ((compiled.method === 'select' || compiled.method === 'first') &amp;&amp; (isParameter || compiled.
as)) {
      sql = '(' + sql + ')';
      if (compiled.as) return this.<span class="apidocCodeKeywordSpan">alias</span>(sql, this.wrap(compiled.as));
    }
  }
  return sql;
};

// Coerce to string to prevent strange errors when it's not a string.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.columnize" id="apidoc.element.knex.formatter.prototype.columnize">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>columnize
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function columnize(target) {
  var columns = typeof target === 'string' ? [target] : target;
  var str = '',
      i = -1;
  while (++i &lt; columns.length) {
    if (i &gt; 0) str += ', ';
    str += this.wrap(columns[i]);
  }
  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (match === '\\?') {
    return match;
  }

  var value = values[index++];

  if (match === '??') {
    return formatter.<span class="apidocCodeKeywordSpan">columnize</span>(value);
  }
  return formatter.parameter(value);
});

if (expectedBindings !== index) {
  throw new Error('Expected ' + expectedBindings + ' bindings, saw ' + index);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.compileCallback" id="apidoc.element.knex.formatter.prototype.compileCallback">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>compileCallback
        <span class="apidocSignatureSpan">(callback, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function compileCallback(callback, method) {
  var client = this.client;

  // Build the callback

  var builder = client.queryBuilder();
  callback.call(builder, builder);

  // Compile the callback, using the current formatter (to track all bindings).
  var compiler = client.queryCompiler(builder);
  compiler.formatter = this;

  // Return the compiled &amp; parameterized sql.
  return compiler.toSQL(method || 'select');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Checks whether a value is a function... if it is, we compile it
// otherwise we check whether it's a raw


Formatter.prototype.parameter = function parameter(value) {
  if (typeof value === 'function') {
    return this.outputQuery(this.<span class="apidocCodeKeywordSpan">compileCallback</span>(value), true);
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.direction" id="apidoc.element.knex.formatter.prototype.direction">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>direction
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function direction(value) {
  var raw = this.unwrapRaw(value);
  if (raw) return raw;
  return orderBys.indexOf((value || '').toLowerCase()) !== -1 ? value : 'asc';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  _groupsOrders: function _groupsOrders(type) {
    var items = this.grouped[type];
    if (!items) return '';
    var formatter = this.formatter;

    var sql = items.map(function (item) {
      var column = item.value instanceof _raw2.default ? formatter.unwrapRaw(item.value) : formatter.columnize(item.value);
      var direction = type === 'order' &amp;&amp; item.type !== 'orderByRaw' ? ' ' + formatter.&lt;
span class="apidocCodeKeywordSpan"&gt;direction(item.direction) : '';
      return column + direction;
    });
    return sql.length ? type + ' by ' + sql.join(', ') : '';
  }
});

QueryCompiler.prototype.first = QueryCompiler.prototype.select;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.operator" id="apidoc.element.knex.formatter.prototype.operator">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>operator
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function operator(value) {
  var raw = this.unwrapRaw(value);
  if (raw) return raw;
  if (operators[(value || '').toLowerCase()] !== true) {
    throw new TypeError('The operator "' + value + '" is not permitted');
  }
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this._not(statement, '') + this.formatter.unwrapRaw(statement.value);
},
havingWrapped: function havingWrapped(statement) {
  var val = this.formatter.rawOrFn(statement.value, 'where');
  return val &amp;&amp; this._not(statement, '') + '(' + val.slice(6) + ')' || '';
},
havingBasic: function havingBasic(statement) {
  return this._not(statement, '') + this.formatter.wrap(statement.column) + ' ' + this.formatter.<span class="apidocCodeKeywordSpan">operator</span>(statement.operator) + ' ' + this.formatter.parameter(statement.value);
},
havingNull: function havingNull(statement) {
  return this.formatter.wrap(statement.column) + ' is ' + this._not(statement, 'null');
},
havingExists: function havingExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.rawOrFn(statement.value) + ')';
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.outputQuery" id="apidoc.element.knex.formatter.prototype.outputQuery">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>outputQuery
        <span class="apidocSignatureSpan">(compiled, isParameter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function outputQuery(compiled, isParameter) {
  var sql = compiled.sql || '';
  if (sql) {
    if ((compiled.method === 'select' || compiled.method === 'first') &amp;&amp; (isParameter || compiled.as)) {
      sql = '(' + sql + ')';
      if (compiled.as) return this.alias(sql, this.wrap(compiled.as));
    }
  }
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Checks whether a value is a function... if it is, we compile it
// otherwise we check whether it's a raw


Formatter.prototype.parameter = function parameter(value) {
  if (typeof value === 'function') {
    return this.<span class="apidocCodeKeywordSpan">outputQuery</span>(this.compileCallback(value), true);
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.parameter" id="apidoc.element.knex.formatter.prototype.parameter">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>parameter
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parameter(value) {
  if (typeof value === 'function') {
    return this.outputQuery(this.compileCallback(value), true);
  }
  return this.unwrapRaw(value, true) || '?';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

// Turns a list of values into a list of ?'s, joining them with commas unless
// a "joining" value is specified (e.g. ' and ')


Formatter.prototype.parameterize = function parameterize(values, notSetValue) {
  if (typeof values === 'function') return this.<span class="apidocCodeKeywordSpan">parameter</span>(values);
  values = Array.isArray(values) ? values : [values];
  var str = '',
      i = -1;
  while (++i &lt; values.length) {
    if (i &gt; 0) str += ', ';
    str += this.parameter(values[i] === undefined ? notSetValue : values[i]);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.parameterize" id="apidoc.element.knex.formatter.prototype.parameterize">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>parameterize
        <span class="apidocSignatureSpan">(values, notSetValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parameterize(values, notSetValue) {
  if (typeof values === 'function') return this.parameter(values);
  values = Array.isArray(values) ? values : [values];
  var str = '',
      i = -1;
  while (++i &lt; values.length) {
    if (i &gt; 0) str += ', ';
    str += this.parameter(values[i] === undefined ? notSetValue : values[i]);
  }
  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
if (insertData.columns.length) {
  sql += '(' + this.formatter.columnize(insertData.columns);
  sql += ') values (';
  var i = -1;
  while (++i &lt; insertData.values.length) {
    if (i !== 0) sql += '), (';
    sql += this.formatter.<span class="apidocCodeKeywordSpan">parameterize</span>(insertData.values[i], this.client.valueForUndefined
);
  }
  sql += ')';
} else if (insertValues.length === 1 &amp;&amp; insertValues[0]) {
  sql += this._emptyInsertValue;
} else {
  sql = '';
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.rawOrFn" id="apidoc.element.knex.formatter.prototype.rawOrFn">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>rawOrFn
        <span class="apidocSignatureSpan">(value, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rawOrFn(value, method) {
  if (typeof value === 'function') {
    return this.outputQuery(this.compileCallback(value, method));
  }
  return this.unwrapRaw(value) || '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
onBetween: function onBetween(statement) {
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'between') + ' ' + (0,
_map3.default)(statement.value, (0, _bind3.default)(this.formatter.parameter, this.formatter)).join(' and ');
},
onNull: function onNull(statement) {
  return this.formatter.wrap(statement.column) + ' is ' + this._not(statement, 'null');
},
onExists: function onExists(statement) {
  return this._not(statement, 'exists') + ' (' + this.formatter.<span class="apidocCodeKeywordSpan">rawOrFn<!--
span-->(statement.value) + ')';
},
onIn: function onIn(statement) {
  if (Array.isArray(statement.column)) return this.multiOnIn(statement);
  return this.formatter.wrap(statement.column) + ' ' + this._not(statement, 'in ') + this.wrap(this.formatter
.parameterize(statement.value));
},
multiOnIn: function multiOnIn(statement) {
  var i = -1,
...</span></pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.unwrapRaw" id="apidoc.element.knex.formatter.prototype.unwrapRaw">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>unwrapRaw
        <span class="apidocSignatureSpan">(value, isParameter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).toSQL();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
    query = value.toSQL();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return query.sql;
  }
  if (isParameter) {
    this.bindings.push(value);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// otherwise we check whether it's a raw


Formatter.prototype.parameter = function parameter(value) {
  if (typeof value === 'function') {
    return this.outputQuery(this.compileCallback(value), true);
  }
  return this.<span class="apidocCodeKeywordSpan">unwrapRaw</span>(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).toSQL();
    if (query.bindings) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.wrap" id="apidoc.element.knex.formatter.prototype.wrap">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>wrap
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wrap(value) {
  if (typeof value === 'function') {
    return this.outputQuery(this.compileCallback(value), true);
  }
  var raw = this.unwrapRaw(value);
  if (raw) return raw;
  if (typeof value === 'number') return value;
  return this._wrapString(value + '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Formatter.prototype.columnize = function columnize(target) {
  var columns = typeof target === 'string' ? [target] : target;
  var str = '',
      i = -1;
  while (++i &lt; columns.length) {
    if (i &gt; 0) str += ', ';
    str += this.<span class="apidocCodeKeywordSpan">wrap</span>(columns[i]);
  }
  return str;
};

// Turns a list of values into a list of ?'s, joining them with commas unless
// a "joining" value is specified (e.g. ' and ')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.formatter.prototype.wrapAsIdentifier" id="apidoc.element.knex.formatter.prototype.wrapAsIdentifier">
        function <span class="apidocSignatureSpan">knex.formatter.prototype.</span>wrapAsIdentifier
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wrapAsIdentifier(value) {
  return this.client.wrapIdentifier((value || '').trim());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


  Formatter.prototype._wrapString = function _wrapString(value) {
var asIndex = value.toLowerCase().indexOf(' as ');
if (asIndex !== -1) {
  var first = value.slice(0, asIndex);
  var second = value.slice(asIndex + 4);
  return this.alias(this.wrap(first), this.<span class="apidocCodeKeywordSpan">wrapAsIdentifier</span>(second));
}
var wrapped = [];
var i = -1;
var segments = value.split('.');
while (++i &lt; segments.length) {
  value = segments[i];
  if (i === 0 &amp;&amp; segments.length &gt; 1) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.functionhelper" id="apidoc.module.knex.functionhelper">module knex.functionhelper</a></h1>


    <h2>
        <a href="#apidoc.element.knex.functionhelper.functionhelper" id="apidoc.element.knex.functionhelper.functionhelper">
        function <span class="apidocSignatureSpan">knex.</span>functionhelper
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FunctionHelper(client) {
  this.client = client;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.functionhelper.prototype" id="apidoc.module.knex.functionhelper.prototype">module knex.functionhelper.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.functionhelper.prototype.now" id="apidoc.element.knex.functionhelper.prototype.now">
        function <span class="apidocSignatureSpan">knex.functionhelper.prototype.</span>now
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">now = function () {
  return this.client.raw('CURRENT_TIMESTAMP');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.helpers" id="apidoc.module.knex.helpers">module knex.helpers</a></h1>




    <h2>
        <a href="#apidoc.element.knex.helpers.containsUndefined" id="apidoc.element.knex.helpers.containsUndefined">
        function <span class="apidocSignatureSpan">knex.helpers.</span>containsUndefined
        <span class="apidocSignatureSpan">(mixed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function containsUndefined(mixed) {
  var argContainsUndefined = false;

  if ((0, _isTypedArray3.default)(mixed)) return false;

  if (mixed &amp;&amp; (0, _isFunction3.default)(mixed.toSQL)) {
    //Any QueryBuilder or Raw will automatically be validated during compile.
    return argContainsUndefined;
  }

  if ((0, _isArray3.default)(mixed)) {
    for (var i = 0; i &lt; mixed.length; i++) {
      if (argContainsUndefined) break;
      argContainsUndefined = this.containsUndefined(mixed[i]);
    }
  } else if ((0, _isObject3.default)(mixed)) {
    for (var key in mixed) {
      if (argContainsUndefined) break;
      argContainsUndefined = this.containsUndefined(mixed[key]);
    }
  } else {
    argContainsUndefined = (0, _isUndefined3.default)(mixed);
  }

  return argContainsUndefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //Any QueryBuilder or Raw will automatically be validated during compile.
  return argContainsUndefined;
}

if ((0, _isArray3.default)(mixed)) {
  for (var i = 0; i &lt; mixed.length; i++) {
    if (argContainsUndefined) break;
    argContainsUndefined = this.<span class="apidocCodeKeywordSpan">containsUndefined</span>(mixed[i]);
  }
} else if ((0, _isObject3.default)(mixed)) {
  for (var key in mixed) {
    if (argContainsUndefined) break;
    argContainsUndefined = this.containsUndefined(mixed[key]);
  }
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.debugLog" id="apidoc.element.knex.helpers.debugLog">
        function <span class="apidocSignatureSpan">knex.helpers.</span>debugLog
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function debugLog(msg) {
  console.log(msg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  runner.connection = connection;

  runner.client.emit('start', runner.builder);
  runner.builder.emit('start', runner.builder);
  var sql = runner.builder.toSQL();

  if (runner.builder._debug) {
    helpers.<span class="apidocCodeKeywordSpan">debugLog</span>(sql);
  }

  if ((0, _isArray3.default)(sql)) {
    return runner.queryArray(sql);
  }
  return runner.query(sql);
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.deprecate" id="apidoc.element.knex.helpers.deprecate">
        function <span class="apidocSignatureSpan">knex.helpers.</span>deprecate
        <span class="apidocSignatureSpan">(method, alternate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deprecate(method, alternate) {
  warn(method + ' is deprecated, please use ' + alternate);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.error" id="apidoc.element.knex.helpers.error">
        function <span class="apidocSignatureSpan">knex.helpers.</span>error
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function error(msg) {
  console.log(_chalk2.default.red('Knex:Error ' + msg));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// .map over the results
.map(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.catch(function(e) {
  console.<span class="apidocCodeKeywordSpan">error</span>(e);
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.exit" id="apidoc.element.knex.helpers.exit">
        function <span class="apidocSignatureSpan">knex.helpers.</span>exit
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function exit(msg) {
  console.log(_chalk2.default.red(msg));
  process.exit(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function exit(text) {
  if (text instanceof Error) {
    chalk.red(console.error(text.stack));
  } else {
    chalk.red(console.error(text));
  }
  process.<span class="apidocCodeKeywordSpan">exit</span>(1);
}

function success(text) {
  console.log(text);
  process.exit(0);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.normalizeArr" id="apidoc.element.knex.helpers.normalizeArr">
        function <span class="apidocSignatureSpan">knex.helpers.</span>normalizeArr
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function normalizeArr() {
  var args = new Array(arguments.length);
  for (var i = 0; i &lt; args.length; i++) {
    args[i] = arguments[i];
  }
  if (Array.isArray(args[0])) {
    return args[0];
  }
  return args;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.skim" id="apidoc.element.knex.helpers.skim">
        function <span class="apidocSignatureSpan">knex.helpers.</span>skim
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function skim(data) {
  return (0, _map3.default)(data, function (obj) {
    return (0, _pick3.default)(obj, (0, _keys3.default)(obj));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var data = response[1];
if (obj.output) return obj.output.call(runner, rows /*, fields*/);
switch (method) {
  case 'select':
  case 'pluck':
  case 'first':
    {
      var resp = helpers.<span class="apidocCodeKeywordSpan">skim</span>(rows);
      if (method === 'pluck') return (0, _map3.default)(resp, obj.pluck);
      return method === 'first' ? resp[0] : resp;
    }
  case 'insert':
    return [data.insertId];
  case 'del':
  case 'update':
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.helpers.warn" id="apidoc.element.knex.helpers.warn">
        function <span class="apidocSignatureSpan">knex.helpers.</span>warn
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function warn(msg) {
  console.log(_chalk2.default.yellow('Knex:warning - ' + msg));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).asCallback(callback);
},
destroy: function destroy(connection) {
  if (poolConfig.beforeDestroy) {
    helpers.<span class="apidocCodeKeywordSpan">warn</span>('\n            beforeDestroy is deprecated, please open an issue
 if you use this\n            to discuss alternative apis\n          ');
    poolConfig.beforeDestroy(connection, function () {});
  }
  if (connection !== void 0) {
    _this3.destroyRawConnection(connection);
  }
},
validate: function validate(connection) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.index" id="apidoc.module.knex.index">module knex.index</a></h1>


    <h2>
        <a href="#apidoc.element.knex.index.index" id="apidoc.element.knex.index.index">
        function <span class="apidocSignatureSpan">knex.</span>index
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Knex(config) {
  if (typeof config === 'string') {
    return new Knex((0, _assign3.default)((0, _parseConnection2.default)(config), arguments[2]));
  }
  var Dialect = void 0;
  if (arguments.length === 0 || !config.client &amp;&amp; !config.dialect) {
    Dialect = _client2.default;
  } else if (typeof config.client === 'function' &amp;&amp; config.client.prototype instanceof _client2.default) {
    Dialect = config.client;
  } else {
    var clientName = config.client || config.dialect;
    Dialect = require('./dialects/' + (aliases[clientName] || clientName) + '/index.js');
  }
  if (typeof config.connection === 'string') {
    config = (0, _assign3.default)({}, config, { connection: (0, _parseConnection2.default)(config.connection).connection });
  }
  return (0, _makeKnex2.default)(new Dialect(config));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.Client" id="apidoc.element.knex.index.Client">
        function <span class="apidocSignatureSpan">knex.index.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client() {
  var config = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

  this.config = config;

  //Client is a required field, so throw error if it's not supplied.
  //If 'this.dialect' is set, then this is a 'super()' call, in which case
  //'client' does not have to be set as it's already assigned on the client prototype.
  if (!this.config.client &amp;&amp; !this.dialect) {
    throw new Error('knex: Required configuration option \'client\' is missing.');
  }

  this.connectionSettings = (0, _cloneDeep3.default)(config.connection || {});
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.raw('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


// Get a raw connection, called by the `pool` whenever a new
// connection needs to be added to the pool.
acquireRawConnection: function acquireRawConnection() {
  var client = this;
  return new _bluebird2.default(function (resolver, rejecter) {
    var connection = new client.driver.<span class="apidocCodeKeywordSpan">Client</span>(client.connectionSettings);
    connection.connect(function (err, connection) {
      if (err) {
        return rejecter(err);
      }
      connection.on('error', function (err) {
        connection.__knex__disposed = err;
      });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.raw" id="apidoc.element.knex.index.raw">
        function <span class="apidocSignatureSpan">knex.index.</span>raw
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">raw = function (sql, bindings) {
  (0, _helpers.warn)('global Knex.raw is deprecated, use knex.raw (chain off an initialized knex object)');
  return new _raw2.default().set(sql, bindings);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.<span class="apidocCodeKeywordSpan">raw</span>('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}
(0, _inherits2.default)(Client, _events.EventEmitter);

(0, _assign3.default)(Client.prototype, {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.index.prototype" id="apidoc.module.knex.index.prototype">module knex.index.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.index.prototype._absoluteConfigDir" id="apidoc.element.knex.index.prototype._absoluteConfigDir">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_absoluteConfigDir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _absoluteConfigDir() {
  return _path2.default.resolve(process.cwd(), this.config.directory);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

// Lists all available migration versions, as a sorted array.


Migrator.prototype._listAll = function _listAll(config) {
  this.config = this.setConfig(config);
  return _bluebird2.default.promisify(_fs2.default.readdir, { context: _fs2.default })(this.<span class="apidocCodeKeywordSpan">
_absoluteConfigDir</span>()).then(function (migrations) {
    return (0, _filter3.default)(migrations, function (value) {
      var extension = _path2.default.extname(value);
      return (0, _includes3.default)(SUPPORTED_EXTENSIONS, extension);
    }).sort();
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._createMigrationLockTable" id="apidoc.element.knex.index.prototype._createMigrationLockTable">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_createMigrationLockTable
        <span class="apidocSignatureSpan">(tableName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _createMigrationLockTable(tableName) {
  return this.knex.schema.createTableIfNotExists(tableName, function (t) {
    t.integer('is_locked');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var table = this.config.tableName;
  var lockTable = this._getLockTableName();
  return this.knex.schema.hasTable(table).then(function (exists) {
    return !exists &amp;&amp; _this5._createMigrationTable(table);
  }).then(function () {
    return _this5.knex.schema.hasTable(lockTable);
  }).then(function (exists) {
    return !exists &amp;&amp; _this5.<span class="apidocCodeKeywordSpan">_createMigrationLockTable</span>(lockTable);
  }).then(function () {
    return _this5.knex(lockTable).select('*');
  }).then(function (data) {
    return !data.length &amp;&amp; _this5.knex(lockTable).insert({ is_locked: 0 });
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._createMigrationTable" id="apidoc.element.knex.index.prototype._createMigrationTable">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_createMigrationTable
        <span class="apidocSignatureSpan">(tableName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _createMigrationTable(tableName) {
  return this.knex.schema.createTableIfNotExists(tableName, function (t) {
    t.increments();
    t.string('name');
    t.integer('batch');
    t.timestamp('migration_time');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  Migrator.prototype._ensureTable = function _ensureTable() {
var _this5 = this;

var table = this.config.tableName;
var lockTable = this._getLockTableName();
return this.knex.schema.hasTable(table).then(function (exists) {
  return !exists &amp;&amp; _this5.<span class="apidocCodeKeywordSpan">_createMigrationTable</span>(table);
}).then(function () {
  return _this5.knex.schema.hasTable(lockTable);
}).then(function (exists) {
  return !exists &amp;&amp; _this5._createMigrationLockTable(lockTable);
}).then(function () {
  return _this5.knex(lockTable).select('*');
}).then(function (data) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._ensureFolder" id="apidoc.element.knex.index.prototype._ensureFolder">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_ensureFolder
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _ensureFolder() {
  var dir = this._absoluteConfigDir();
  return _bluebird2.default.promisify(_fs2.default.stat, { context: _fs2.default })(dir).catch(function () {
    return _bluebird2.default.promisify(_mkdirp2.default)(dir);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var _this4 = this;

  this.config = this.setConfig(config);
  if (!name) {
    return _bluebird2.default.reject(new Error('A name must be specified for the generated migration'));
  }

  return this.<span class="apidocCodeKeywordSpan">_ensureFolder</span>(config).then(function (val) {
    return _this4._generateStubTemplate(val);
  }).then(function (val) {
    return _this4._writeNewMigration(name, val);
  });
};

// Lists all available migration versions, as a sorted array.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._ensureTable" id="apidoc.element.knex.index.prototype._ensureTable">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_ensureTable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _ensureTable() {
  var _this5 = this;

  var table = this.config.tableName;
  var lockTable = this._getLockTableName();
  return this.knex.schema.hasTable(table).then(function (exists) {
    return !exists &amp;&amp; _this5._createMigrationTable(table);
  }).then(function () {
    return _this5.knex.schema.hasTable(lockTable);
  }).then(function (exists) {
    return !exists &amp;&amp; _this5._createMigrationLockTable(lockTable);
  }).then(function () {
    return _this5.knex(lockTable).select('*');
  }).then(function (data) {
    return !data.length &amp;&amp; _this5.knex(lockTable).insert({ is_locked: 0 });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


Migrator.prototype._listCompleted = function _listCompleted() {
  var _this8 = this;

  var tableName = this.config.tableName;

  return this.<span class="apidocCodeKeywordSpan">_ensureTable</span>(tableName).then(function () {
    return _this8.knex(tableName).orderBy('id').select('name');
  }).then(function (migrations) {
    return (0, _map3.default)(migrations, 'name');
  });
};

// Gets the migration list from the specified migration directory, as well as
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._freeLock" id="apidoc.element.knex.index.prototype._freeLock">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_freeLock
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _freeLock() {
  var tableName = this._getLockTableName();
  return this.knex(tableName).update({ is_locked: 0 });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Migrator.prototype.forceFreeMigrationsLock = function forceFreeMigrationsLock(config) {
  var _this3 = this;

  this.config = this.setConfig(config);
  var lockTable = this._getLockTableName();
  return this.knex.schema.hasTable(lockTable).then(function (exist) {
    return exist &amp;&amp; _this3.<span class="apidocCodeKeywordSpan">_freeLock</span>();
  });
};

// Creates a new migration, with a given name.


Migrator.prototype.make = function make(name, config) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._generateStubTemplate" id="apidoc.element.knex.index.prototype._generateStubTemplate">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_generateStubTemplate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _generateStubTemplate() {
  var stubPath = this.config.stub || _path2.default.join(__dirname, 'stub', this.config.extension + '.stub');
  return _bluebird2.default.promisify(_fs2.default.readFile, { context: _fs2.default })(stubPath).then(function (stub) {
    return (0, _template3.default)(stub.toString(), { variable: 'd' });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this.config = this.setConfig(config);
  if (!name) {
    return _bluebird2.default.reject(new Error('A name must be specified for the generated migration'));
  }

  return this._ensureFolder(config).then(function (val) {
    return _this4.<span class="apidocCodeKeywordSpan">_generateStubTemplate</span>(val);
  }).then(function (val) {
    return _this4._writeNewMigration(name, val);
  });
};

// Lists all available migration versions, as a sorted array.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._getLastBatch" id="apidoc.element.knex.index.prototype._getLastBatch">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_getLastBatch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _getLastBatch() {
  var tableName = this.config.tableName;

  return this.knex(tableName).where('batch', function (qb) {
    qb.max('batch').from(tableName);
  }).orderBy('id', 'desc');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Migrator.prototype.rollback = function rollback(config) {
  var _this2 = this;

  return _bluebird2.default.try(function () {
    _this2.config = _this2.setConfig(config);
    return _this2._migrationData().tap(validateMigrationList).then(function (val) {
      return _this2.<span class="apidocCodeKeywordSpan">_getLastBatch</span>(val);
    }).then(function (migrations) {
      return _this2._runBatch((0, _map3.default)(migrations, 'name'), 'down');
    });
  });
};

Migrator.prototype.status = function status(config) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._getLock" id="apidoc.element.knex.index.prototype._getLock">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_getLock
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _getLock() {
  var _this6 = this;

  return this.knex.transaction(function (trx) {
    return _this6._isLocked(trx).then(function (isLocked) {
      if (isLocked) {
        throw new Error("Migration table is already locked");
      }
    }).then(function () {
      return _this6._lockMigrations(trx);
    });
  }).catch(function (err) {
    throw new LockError(err.message);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // Run a batch of current migrations, in sequence.


  Migrator.prototype._runBatch = function _runBatch(migrations, direction) {
var _this7 = this;

return this.<span class="apidocCodeKeywordSpan">_getLock</span>().then(function () {
  return _bluebird2.default.all((0, _map3.default)(migrations, (0, _bind3.default)(_this7._validateMigrationStructure, _this7)));
}).then(function () {
  return _this7._latestBatchNumber();
}).then(function (batchNo) {
  if (direction === 'up') batchNo++;
  return batchNo;
}).then(function (batchNo) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._getLockTableName" id="apidoc.element.knex.index.prototype._getLockTableName">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_getLockTableName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _getLockTableName() {
  return this.config.tableName + '_lock';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
};

Migrator.prototype.forceFreeMigrationsLock = function forceFreeMigrationsLock(config) {
  var _this3 = this;

  this.config = this.setConfig(config);
  var lockTable = this.<span class="apidocCodeKeywordSpan">_getLockTableName</span>();
  return this.knex.schema.hasTable(lockTable).then(function (exist) {
    return exist &amp;&amp; _this3._freeLock();
  });
};

// Creates a new migration, with a given name.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._isLocked" id="apidoc.element.knex.index.prototype._isLocked">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_isLocked
        <span class="apidocSignatureSpan">(trx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _isLocked(trx) {
  var tableName = this._getLockTableName();
  return this.knex(tableName).transacting(trx).forUpdate().select('*').then(function (data) {
    return data[0].is_locked;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.knex(tableName).transacting(trx).update({ is_locked: 1 });
  };

  Migrator.prototype._getLock = function _getLock() {
var _this6 = this;

return this.knex.transaction(function (trx) {
  return _this6.<span class="apidocCodeKeywordSpan">_isLocked</span>(trx).then(function (isLocked) {
    if (isLocked) {
      throw new Error("Migration table is already locked");
    }
  }).then(function () {
    return _this6._lockMigrations(trx);
  });
}).catch(function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._latestBatchNumber" id="apidoc.element.knex.index.prototype._latestBatchNumber">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_latestBatchNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _latestBatchNumber() {
  return this.knex(this.config.tableName).max('batch as max_batch').then(function (obj) {
    return obj[0].max_batch || 0;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  Migrator.prototype._runBatch = function _runBatch(migrations, direction) {
var _this7 = this;

return this._getLock().then(function () {
  return _bluebird2.default.all((0, _map3.default)(migrations, (0, _bind3.default)(_this7._validateMigrationStructure, _this7)));
}).then(function () {
  return _this7.<span class="apidocCodeKeywordSpan">_latestBatchNumber</span>();
}).then(function (batchNo) {
  if (direction === 'up') batchNo++;
  return batchNo;
}).then(function (batchNo) {
  return _this7._waterfallBatch(batchNo, migrations, direction);
}).tap(function () {
  return _this7._freeLock();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._listAll" id="apidoc.element.knex.index.prototype._listAll">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_listAll
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _listAll(config) {
  this.config = this.setConfig(config);
  return _bluebird2.default.promisify(_fs2.default.readdir, { context: _fs2.default })(this._absoluteConfigDir()).then(function (
migrations) {
    return (0, _filter3.default)(migrations, function (value) {
      var extension = _path2.default.extname(value);
      return (0, _includes3.default)(SUPPORTED_EXTENSIONS, extension);
    }).sort();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
  });
};

Migrator.prototype.status = function status(config) {
  this.config = this.setConfig(config);

  return _bluebird2.default.all([this.knex(this.config.tableName).select('*'), this.<span class="apidocCodeKeywordSpan
">_listAll</span>()]).spread(function (db, code) {
    return db.length - code.length;
  });
};

// Retrieves and returns the current migration version we're on, as a promise.
// If no migrations have been run yet, return "none".
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._listCompleted" id="apidoc.element.knex.index.prototype._listCompleted">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_listCompleted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _listCompleted() {
  var _this8 = this;

  var tableName = this.config.tableName;

  return this._ensureTable(tableName).then(function () {
    return _this8.knex(tableName).orderBy('id').select('name');
  }).then(function (migrations) {
    return (0, _map3.default)(migrations, 'name');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Retrieves and returns the current migration version we're on, as a promise.
// If no migrations have been run yet, return "none".


Migrator.prototype.currentVersion = function currentVersion(config) {
  this.config = this.setConfig(config);
  return this.<span class="apidocCodeKeywordSpan">_listCompleted</span>(config).then(function (completed) {
    var val = (0, _max3.default)((0, _map3.default)(completed, function (value) {
      return value.split('_')[0];
    }));
    return (0, _isUndefined3.default)(val) ? 'none' : val;
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._lockMigrations" id="apidoc.element.knex.index.prototype._lockMigrations">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_lockMigrations
        <span class="apidocSignatureSpan">(trx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _lockMigrations(trx) {
  var tableName = this._getLockTableName();
  return this.knex(tableName).transacting(trx).update({ is_locked: 1 });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  return this.knex.transaction(function (trx) {
    return _this6._isLocked(trx).then(function (isLocked) {
      if (isLocked) {
        throw new Error("Migration table is already locked");
      }
    }).then(function () {
      return _this6.<span class="apidocCodeKeywordSpan">_lockMigrations</span>(trx);
    });
  }).catch(function (err) {
    throw new LockError(err.message);
  });
};

Migrator.prototype._freeLock = function _freeLock() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._migrationData" id="apidoc.element.knex.index.prototype._migrationData">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_migrationData
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _migrationData() {
  return _bluebird2.default.all([this._listAll(), this._listCompleted()]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Migrators to the latest configuration.


Migrator.prototype.latest = function latest(config) {
  var _this = this;

  this.config = this.setConfig(config);
  return this.<span class="apidocCodeKeywordSpan">_migrationData</span>().tap(validateMigrationList).spread(function (all, completed
) {
    return _this._runBatch((0, _difference3.default)(all, completed), 'up');
  });
};

// Rollback the last "batch" of migrations that were run.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._runBatch" id="apidoc.element.knex.index.prototype._runBatch">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_runBatch
        <span class="apidocSignatureSpan">(migrations, direction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _runBatch(migrations, direction) {
  var _this7 = this;

  return this._getLock().then(function () {
    return _bluebird2.default.all((0, _map3.default)(migrations, (0, _bind3.default)(_this7._validateMigrationStructure, _this7)));
  }).then(function () {
    return _this7._latestBatchNumber();
  }).then(function (batchNo) {
    if (direction === 'up') batchNo++;
    return batchNo;
  }).then(function (batchNo) {
    return _this7._waterfallBatch(batchNo, migrations, direction);
  }).tap(function () {
    return _this7._freeLock();
  }).catch(function (error) {
    var cleanupReady = _bluebird2.default.resolve();

    if (error instanceof LockError) {
      // If locking error do not free the lock.
      helpers.warn('Can\'t take lock to run migrations: ' + error.message);
      helpers.warn('If you are sure migrations are not running you can release the ' + 'lock manually by deleting all the rows from
 migrations lock ' + 'table: ' + _this7._getLockTableName());
    } else {
      helpers.warn('migrations failed with error: ' + error.message);
      // If the error was not due to a locking issue, then remove the lock.
      cleanupReady = _this7._freeLock();
    }

    return cleanupReady.finally(function () {
      throw error;
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


Migrator.prototype.latest = function latest(config) {
  var _this = this;

  this.config = this.setConfig(config);
  return this._migrationData().tap(validateMigrationList).spread(function (all, completed) {
    return _this.<span class="apidocCodeKeywordSpan">_runBatch</span>((0, _difference3.default)(all, completed), 'up');
  });
};

// Rollback the last "batch" of migrations that were run.


Migrator.prototype.rollback = function rollback(config) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._transaction" id="apidoc.element.knex.index.prototype._transaction">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_transaction
        <span class="apidocSignatureSpan">(migration, direction, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _transaction(migration, direction, name) {
  return this.knex.transaction(function (trx) {
    return warnPromise(migration[direction](trx, _bluebird2.default), name, function () {
      trx.commit();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    (0, _each3.default)(migrations, function (migration) {
var name = migration;
migration = require(directory + '/' + name);

// We're going to run each of the migrations in the current "up".
current = current.then(function () {
  if (_this9._useTransaction(migration, disableTransactions)) {
    return _this9.<span class="apidocCodeKeywordSpan">_transaction</span>(migration, direction, name);
  }
  return warnPromise(migration[direction](knex, _bluebird2.default), name);
}).then(function () {
  log.push(_path2.default.join(directory, name));
  if (direction === 'up') {
    return knex(tableName).insert({
      name: name,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._useTransaction" id="apidoc.element.knex.index.prototype._useTransaction">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_useTransaction
        <span class="apidocSignatureSpan">(migration, allTransactionsDisabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _useTransaction(migration, allTransactionsDisabled) {
  var singleTransactionValue = (0, _get3.default)(migration, 'config.transaction');

  return (0, _isBoolean3.default)(singleTransactionValue) ? singleTransactionValue : !allTransactionsDisabled;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var log = [];
    (0, _each3.default)(migrations, function (migration) {
var name = migration;
migration = require(directory + '/' + name);

// We're going to run each of the migrations in the current "up".
current = current.then(function () {
  if (_this9.<span class="apidocCodeKeywordSpan">_useTransaction</span>(migration, disableTransactions)) {
    return _this9._transaction(migration, direction, name);
  }
  return warnPromise(migration[direction](knex, _bluebird2.default), name);
}).then(function () {
  log.push(_path2.default.join(directory, name));
  if (direction === 'up') {
    return knex(tableName).insert({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._validateMigrationStructure" id="apidoc.element.knex.index.prototype._validateMigrationStructure">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_validateMigrationStructure
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _validateMigrationStructure(name) {
  var migration = require(_path2.default.join(this._absoluteConfigDir(), name));
  if (typeof migration.up !== 'function' || typeof migration.down !== 'function') {
    throw new Error('Invalid migration: ' + name + ' must have both an up and down function');
  }
  return name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._waterfallBatch" id="apidoc.element.knex.index.prototype._waterfallBatch">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_waterfallBatch
        <span class="apidocSignatureSpan">(batchNo, migrations, direction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _waterfallBatch(batchNo, migrations, direction) {
  var _this9 = this;

  var knex = this.knex;
  var _config = this.config;
  var tableName = _config.tableName;
  var disableTransactions = _config.disableTransactions;

  var directory = this._absoluteConfigDir();
  var current = _bluebird2.default.bind({ failed: false, failedOn: 0 });
  var log = [];
  (0, _each3.default)(migrations, function (migration) {
    var name = migration;
    migration = require(directory + '/' + name);

    // We're going to run each of the migrations in the current "up".
    current = current.then(function () {
      if (_this9._useTransaction(migration, disableTransactions)) {
        return _this9._transaction(migration, direction, name);
      }
      return warnPromise(migration[direction](knex, _bluebird2.default), name);
    }).then(function () {
      log.push(_path2.default.join(directory, name));
      if (direction === 'up') {
        return knex(tableName).insert({
          name: name,
          batch: batchNo,
          migration_time: new Date()
        });
      }
      if (direction === 'down') {
        return knex(tableName).where({ name: name }).del();
      }
    });
  });

  return current.thenReturn([batchNo, log]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return _bluebird2.default.all((0, _map3.default)(migrations, (0, _bind3.default)(_this7._validateMigrationStructure, _this7)));
    }).then(function () {
return _this7._latestBatchNumber();
    }).then(function (batchNo) {
if (direction === 'up') batchNo++;
return batchNo;
    }).then(function (batchNo) {
return _this7.<span class="apidocCodeKeywordSpan">_waterfallBatch</span>(batchNo, migrations, direction);
    }).tap(function () {
return _this7._freeLock();
    }).catch(function (error) {
var cleanupReady = _bluebird2.default.resolve();

if (error instanceof LockError) {
  // If locking error do not free the lock.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype._writeNewMigration" id="apidoc.element.knex.index.prototype._writeNewMigration">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>_writeNewMigration
        <span class="apidocSignatureSpan">(name, tmpl)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _writeNewMigration(name, tmpl) {
  var config = this.config;

  var dir = this._absoluteConfigDir();
  if (name[0] === '-') name = name.slice(1);
  var filename = yyyymmddhhmmss() + '_' + name + '.' + config.extension;
  return _bluebird2.default.promisify(_fs2.default.writeFile, { context: _fs2.default })(_path2.default.join(dir, filename), tmpl
(config.variables || {})).return(_path2.default.join(dir, filename));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!name) {
    return _bluebird2.default.reject(new Error('A name must be specified for the generated migration'));
  }

  return this._ensureFolder(config).then(function (val) {
    return _this4._generateStubTemplate(val);
  }).then(function (val) {
    return _this4.<span class="apidocCodeKeywordSpan">_writeNewMigration</span>(name, val);
  });
};

// Lists all available migration versions, as a sorted array.


Migrator.prototype._listAll = function _listAll(config) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.currentVersion" id="apidoc.element.knex.index.prototype.currentVersion">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>currentVersion
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function currentVersion(config) {
  this.config = this.setConfig(config);
  return this._listCompleted(config).then(function (completed) {
    var val = (0, _max3.default)((0, _map3.default)(completed, function (value) {
      return value.split('_')[0];
    }));
    return (0, _isUndefined3.default)(val) ? 'none' : val;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:currentVersion')
  .description('        View the current version for the migration.')
  .action(function () {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">currentVersion</span>().then(function(version) {
      success(chalk.green('Current Version: ') + chalk.blue(version));
    }).catch(exit);
  });

commander
  .command('seed:make &lt;name&gt;')
  .description('        Create a named seed file.')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.forceFreeMigrationsLock" id="apidoc.element.knex.index.prototype.forceFreeMigrationsLock">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>forceFreeMigrationsLock
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function forceFreeMigrationsLock(config) {
  var _this3 = this;

  this.config = this.setConfig(config);
  var lockTable = this._getLockTableName();
  return this.knex.schema.hasTable(lockTable).then(function (exist) {
    return exist &amp;&amp; _this3._freeLock();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.latest" id="apidoc.element.knex.index.prototype.latest">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>latest
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function latest(config) {
  var _this = this;

  this.config = this.setConfig(config);
  return this._migrationData().tap(validateMigrationList).spread(function (all, completed) {
    return _this._runBatch((0, _difference3.default)(all, completed), 'up');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
  .action(function() {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">latest</span>().spread(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already up to date'));
      }
      success(
        chalk.green(`Batch ${batchNo} run: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.make" id="apidoc.element.knex.index.prototype.make">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>make
        <span class="apidocSignatureSpan">(name, config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function make(name, config) {
  var _this4 = this;

  this.config = this.setConfig(config);
  if (!name) {
    return _bluebird2.default.reject(new Error('A name must be specified for the generated migration'));
  }

  return this._ensureFolder(config).then(function (val) {
    return _this4._generateStubTemplate(val);
  }).then(function (val) {
    return _this4._writeNewMigration(name, val);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
commander
  .command('migrate:make &lt;name&gt;')
  .description('        Create a named migration file.')
  .option(`-x [${filetypes.join('|')}]`, 'Specify the stub extension (default js)')
  .action(function(name) {
    var instance = initKnex(env);
    var ext = (argv.x || env.configPath.split('.').pop()).toLowerCase();
    pending = instance.migrate.<span class="apidocCodeKeywordSpan">make</span>(name, {extension: ext}).then(function(name) {
      success(chalk.green(`Created Migration: ${name}`));
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.rollback" id="apidoc.element.knex.index.prototype.rollback">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>rollback
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rollback(config) {
  var _this2 = this;

  return _bluebird2.default.try(function () {
    _this2.config = _this2.setConfig(config);
    return _this2._migrationData().tap(validateMigrationList).then(function (val) {
      return _this2._getLastBatch(val);
    }).then(function (migrations) {
      return _this2._runBatch((0, _map3.default)(migrations, 'name'), 'down');
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:rollback')
  .description('        Rollback the last set of migrations performed.')
  .action(function() {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">rollback</span>().spread(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already at the base migration'));
      }
      success(
        chalk.green(`Batch ${batchNo} rolled back: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.setConfig" id="apidoc.element.knex.index.prototype.setConfig">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>setConfig
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setConfig(config) {
  return (0, _assign3.default)({}, CONFIG_DEFAULT, this.config || {}, config);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// the migration.

var Migrator = function () {
function Migrator(knex) {
  (0, _classCallCheck3.default)(this, Migrator);

  this.knex = knex;
  this.config = this.<span class="apidocCodeKeywordSpan">setConfig</span>(knex.client.config.migrations);
}

// Migrators to the latest configuration.


Migrator.prototype.latest = function latest(config) {
  var _this = this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.index.prototype.status" id="apidoc.element.knex.index.prototype.status">
        function <span class="apidocSignatureSpan">knex.index.prototype.</span>status
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function status(config) {
  this.config = this.setConfig(config);

  return _bluebird2.default.all([this.knex(this.config.tableName).select('*'), this._listAll()]).spread(function (db, code) {
    return db.length - code.length;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.joinclause" id="apidoc.module.knex.joinclause">module knex.joinclause</a></h1>


    <h2>
        <a href="#apidoc.element.knex.joinclause.joinclause" id="apidoc.element.knex.joinclause.joinclause">
        function <span class="apidocSignatureSpan">knex.</span>joinclause
        <span class="apidocSignatureSpan">(table, type, schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JoinClause(table, type, schema) {
  this.schema = schema;
  this.table = table;
  this.joinType = type;
  this.and = this;
  this.clauses = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.joinclause.prototype" id="apidoc.module.knex.joinclause.prototype">module knex.joinclause.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype._bool" id="apidoc.element.knex.joinclause.prototype._bool">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>_bool
        <span class="apidocSignatureSpan">(bool)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _bool(bool) {
  if (arguments.length === 1) {
    this._boolFlag = bool;
    return this;
  }
  var ret = this._boolFlag || 'and';
  this._boolFlag = 'and';
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._statements.push({
    grouping: 'where',
    type: 'whereBasic',
    column: column,
    operator: operator,
    value: value,
    not: this._not(),
    bool: this.<span class="apidocCodeKeywordSpan">_bool</span>()
  });
  return this;
},

// Adds an `or where` clause to the query.
orWhere: function orWhere() {
  this._bool('or');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype._not" id="apidoc.element.knex.joinclause.prototype._not">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>_not
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _not(val) {
  if (arguments.length === 1) {
    this._notFlag = val;
    return this;
  }
  var ret = this._notFlag;
  this._notFlag = false;
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// lower case the operator for comparison purposes
var checkOperator = ('' + operator).toLowerCase().trim();

// If there are 3 arguments, check whether 'in' is one of them.
if (arguments.length === 3) {
  if (checkOperator === 'in' || checkOperator === 'not in') {
    return this.<span class="apidocCodeKeywordSpan">_not</span>(checkOperator === 'not in').whereIn(arguments[0], arguments
[2]);
  }
  if (checkOperator === 'between' || checkOperator === 'not between') {
    return this._not(checkOperator === 'not between').whereBetween(arguments[0], arguments[2]);
  }
}

// If the value is still null, check whether they're meaning
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOn" id="apidoc.element.knex.joinclause.prototype.andOn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOn
        <span class="apidocSignatureSpan">(first, operator, second)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function on(first, operator, second) {
  if (typeof first === 'function') {
    this.clauses.push({
      type: 'onWrapped',
      value: first,
      bool: this._bool()
    });
    return this;
  }

  var data = void 0;
  var bool = this._bool();
  switch (arguments.length) {
    case 1:
      {
        if ((typeof first === 'undefined' ? 'undefined' : (0, _typeof3.default)(first)) === 'object' &amp;&amp; typeof first.toSQL !== '
function') {
          var keys = (0, _keys2.default)(first);
          var i = -1;
          var method = bool === 'or' ? 'orOn' : 'on';
          while (++i &lt; keys.length) {
            this[method](keys[i], first[keys[i]]);
          }
          return this;
        } else {
          data = { type: 'onRaw', value: first, bool: bool };
        }
        break;
      }
    case 2:
      data = { type: 'onBasic', column: first, operator: '=', value: operator, bool: bool };break;
    default:
      data = { type: 'onBasic', column: first, operator: operator, value: second, bool: bool };
  }
  this.clauses.push(data);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnBetween" id="apidoc.element.knex.joinclause.prototype.andOnBetween">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to onBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the onBetween clause');
  this.clauses.push({
    type: 'onBetween',
    column: column,
    value: values,
    bool: this._bool(),
    not: this._not()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnExists" id="apidoc.element.knex.joinclause.prototype.andOnExists">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onExists(callback) {
  this.clauses.push({
    type: 'onExists',
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnIn" id="apidoc.element.knex.joinclause.prototype.andOnIn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onIn(column, values) {
  if (Array.isArray(values) &amp;&amp; values.length === 0) return this.where(this._not());
  this.clauses.push({
    type: 'onIn',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnNotBetween" id="apidoc.element.knex.joinclause.prototype.andOnNotBetween">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotBetween(column, values) {
  return this._not(true).onBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnNotExists" id="apidoc.element.knex.joinclause.prototype.andOnNotExists">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotExists(callback) {
  return this._not(true).onExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnNotIn" id="apidoc.element.knex.joinclause.prototype.andOnNotIn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotIn(column, values) {
  return this._not(true).onIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnNotNull" id="apidoc.element.knex.joinclause.prototype.andOnNotNull">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNotNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotNull(callback) {
  return this._not(true).onNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.andOnNull" id="apidoc.element.knex.joinclause.prototype.andOnNull">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>andOnNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNull(column) {
  this.clauses.push({
    type: 'onNull',
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.on" id="apidoc.element.knex.joinclause.prototype.on">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>on
        <span class="apidocSignatureSpan">(first, operator, second)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function on(first, operator, second) {
  if (typeof first === 'function') {
    this.clauses.push({
      type: 'onWrapped',
      value: first,
      bool: this._bool()
    });
    return this;
  }

  var data = void 0;
  var bool = this._bool();
  switch (arguments.length) {
    case 1:
      {
        if ((typeof first === 'undefined' ? 'undefined' : (0, _typeof3.default)(first)) === 'object' &amp;&amp; typeof first.toSQL !== '
function') {
          var keys = (0, _keys2.default)(first);
          var i = -1;
          var method = bool === 'or' ? 'orOn' : 'on';
          while (++i &lt; keys.length) {
            this[method](keys[i], first[keys[i]]);
          }
          return this;
        } else {
          data = { type: 'onRaw', value: first, bool: bool };
        }
        break;
      }
    case 2:
      data = { type: 'onBasic', column: first, operator: '=', value: operator, bool: bool };break;
    default:
      data = { type: 'onBasic', column: first, operator: operator, value: second, bool: bool };
  }
  this.clauses.push(data);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var cli = new Liftoff({
  name: 'knex',
  extensions: interpret.jsVariants,
  v8flags: require('v8flags')
});

cli.<span class="apidocCodeKeywordSpan">on</span>('require', function(name) {
  console.log('Requiring external module', chalk.magenta(name));
});

cli.on('requireFail', function(name) {
  console.log(chalk.red('Failed to load external module'), chalk.magenta(name));
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onBetween" id="apidoc.element.knex.joinclause.prototype.onBetween">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onBetween(column, values) {
  (0, _assert2.default)(Array.isArray(values), 'The second argument to onBetween must be an array.');
  (0, _assert2.default)(values.length === 2, 'You must specify 2 values for the onBetween clause');
  this.clauses.push({
    type: 'onBetween',
    column: column,
    value: values,
    bool: this._bool(),
    not: this._not()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: values,
    bool: this._bool(),
    not: this._not()
  });
  return this;
},
onNotBetween: function onNotBetween(column, values) {
  return this._not(true).<span class="apidocCodeKeywordSpan">onBetween</span>(column, values);
},
orOnBetween: function orOnBetween(column, values) {
  return this._bool('or').onBetween(column, values);
},
orOnNotBetween: function orOnNotBetween(column, values) {
  return this._bool('or')._not(true).onBetween(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onExists" id="apidoc.element.knex.joinclause.prototype.onExists">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onExists(callback) {
  this.clauses.push({
    type: 'onExists',
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: callback,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orOnExists: function orOnExists(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">onExists</span>(callback);
},
onNotExists: function onNotExists(callback) {
  return this._not(true).onExists(callback);
},
orOnNotExists: function orOnNotExists(callback) {
  return this._not(true)._bool('or').onExists(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onIn" id="apidoc.element.knex.joinclause.prototype.onIn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onIn(column, values) {
  if (Array.isArray(values) &amp;&amp; values.length === 0) return this.where(this._not());
  this.clauses.push({
    type: 'onIn',
    column: column,
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    value: values,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
onNotIn: function onNotIn(column, values) {
  return this._not(true).<span class="apidocCodeKeywordSpan">onIn</span>(column, values);
},
orOnIn: function orOnIn(column, values) {
  return this._bool('or').onIn(column, values);
},
orOnNotIn: function orOnNotIn(column, values) {
  return this._bool('or')._not(true).onIn(column, values);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onNotBetween" id="apidoc.element.knex.joinclause.prototype.onNotBetween">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotBetween(column, values) {
  return this._not(true).onBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onNotExists" id="apidoc.element.knex.joinclause.prototype.onNotExists">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotExists(callback) {
  return this._not(true).onExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onNotIn" id="apidoc.element.knex.joinclause.prototype.onNotIn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotIn(column, values) {
  return this._not(true).onIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onNotNull" id="apidoc.element.knex.joinclause.prototype.onNotNull">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNotNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNotNull(callback) {
  return this._not(true).onNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.onNull" id="apidoc.element.knex.joinclause.prototype.onNull">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>onNull
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function onNull(column) {
  this.clauses.push({
    type: 'onNull',
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    column: column,
    not: this._not(),
    bool: this._bool()
  });
  return this;
},
orOnNull: function orOnNull(callback) {
  return this._bool('or').<span class="apidocCodeKeywordSpan">onNull</span>(callback);
},
onNotNull: function onNotNull(callback) {
  return this._not(true).onNull(callback);
},
orOnNotNull: function orOnNotNull(callback) {
  return this._not(true)._bool('or').onNull(callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOn" id="apidoc.element.knex.joinclause.prototype.orOn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOn
        <span class="apidocSignatureSpan">(first, operator, second)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOn(first, operator, second) {
  return this._bool('or').on.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnBetween" id="apidoc.element.knex.joinclause.prototype.orOnBetween">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnBetween(column, values) {
  return this._bool('or').onBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnExists" id="apidoc.element.knex.joinclause.prototype.orOnExists">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnExists(callback) {
  return this._bool('or').onExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnIn" id="apidoc.element.knex.joinclause.prototype.orOnIn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnIn(column, values) {
  return this._bool('or').onIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnNotBetween" id="apidoc.element.knex.joinclause.prototype.orOnNotBetween">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotBetween
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnNotBetween(column, values) {
  return this._bool('or')._not(true).onBetween(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnNotExists" id="apidoc.element.knex.joinclause.prototype.orOnNotExists">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnNotExists(callback) {
  return this._not(true)._bool('or').onExists(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnNotIn" id="apidoc.element.knex.joinclause.prototype.orOnNotIn">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotIn
        <span class="apidocSignatureSpan">(column, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnNotIn(column, values) {
  return this._bool('or')._not(true).onIn(column, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnNotNull" id="apidoc.element.knex.joinclause.prototype.orOnNotNull">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNotNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnNotNull(callback) {
  return this._not(true)._bool('or').onNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.orOnNull" id="apidoc.element.knex.joinclause.prototype.orOnNull">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>orOnNull
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function orOnNull(callback) {
  return this._bool('or').onNull(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.type" id="apidoc.element.knex.joinclause.prototype.type">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>type
        <span class="apidocSignatureSpan">(_type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function type(_type) {
  this.joinType = _type;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.joinclause.prototype.using" id="apidoc.element.knex.joinclause.prototype.using">
        function <span class="apidocSignatureSpan">knex.joinclause.prototype.</span>using
        <span class="apidocSignatureSpan">(column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function using(column) {
  return this.clauses.push({ type: 'onUsing', column: column, bool: this._bool() });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(0, _assign3.default)(Runner.prototype, {

  // "Run" the target, calling "toSQL" on the builder, returning
  // an object or array of queries to run, each of which are run on
  // a single connection.
  run: function run() {
    var runner = this;
    return _bluebird2.default.<span class="apidocCodeKeywordSpan">using</span>(this.ensureConnection(), function (connection) {
runner.connection = connection;

runner.client.emit('start', runner.builder);
runner.builder.emit('start', runner.builder);
var sql = runner.builder.toSQL();

if (runner.builder._debug) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.migrate_stub" id="apidoc.module.knex.migrate_stub">module knex.migrate_stub</a></h1>


    <h2>
        <a href="#apidoc.element.knex.migrate_stub.migrate_stub" id="apidoc.element.knex.migrate_stub.migrate_stub">
        function <span class="apidocSignatureSpan">knex.</span>migrate_stub
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">migrate_stub = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.migrate_stub.prototype" id="apidoc.module.knex.migrate_stub.prototype">module knex.migrate_stub.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.migrate_stub.prototype.currentVersion" id="apidoc.element.knex.migrate_stub.prototype.currentVersion">
        function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>currentVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">currentVersion = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:currentVersion')
  .description('        View the current version for the migration.')
  .action(function () {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">currentVersion</span>().then(function(version) {
      success(chalk.green('Current Version: ') + chalk.blue(version));
    }).catch(exit);
  });

commander
  .command('seed:make &lt;name&gt;')
  .description('        Create a named seed file.')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.migrate_stub.prototype.latest" id="apidoc.element.knex.migrate_stub.prototype.latest">
        function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>latest
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">latest = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
  .action(function() {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">latest</span>().spread(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already up to date'));
      }
      success(
        chalk.green(`Batch ${batchNo} run: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.migrate_stub.prototype.make" id="apidoc.element.knex.migrate_stub.prototype.make">
        function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>make
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">make = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
commander
  .command('migrate:make &lt;name&gt;')
  .description('        Create a named migration file.')
  .option(`-x [${filetypes.join('|')}]`, 'Specify the stub extension (default js)')
  .action(function(name) {
    var instance = initKnex(env);
    var ext = (argv.x || env.configPath.split('.').pop()).toLowerCase();
    pending = instance.migrate.<span class="apidocCodeKeywordSpan">make</span>(name, {extension: ext}).then(function(name) {
      success(chalk.green(`Created Migration: ${name}`));
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.migrate_stub.prototype.rollback" id="apidoc.element.knex.migrate_stub.prototype.rollback">
        function <span class="apidocSignatureSpan">knex.migrate_stub.prototype.</span>rollback
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rollback = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:rollback')
  .description('        Rollback the last set of migrations performed.')
  .action(function() {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">rollback</span>().spread(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already at the base migration'));
      }
      success(
        chalk.green(`Batch ${batchNo} rolled back: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.raw" id="apidoc.module.knex.raw">module knex.raw</a></h1>


    <h2>
        <a href="#apidoc.element.knex.raw.raw" id="apidoc.element.knex.raw.raw">
        function <span class="apidocSignatureSpan">knex.</span>raw
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Raw() {
  var client = arguments.length &lt;= 0 || arguments[0] === undefined ? fakeClient : arguments[0];

  this.client = client;

  this.sql = '';
  this.bindings = [];

  // Todo: Deprecate
  this._wrappedBefore = undefined;
  this._wrappedAfter = undefined;
  this._debug = client &amp;&amp; client.config &amp;&amp; client.config.debug;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.driverName &amp;&amp; config.connection) {
    this.initializeDriver();
    if (!config.pool || config.pool &amp;&amp; config.pool.max !== 0) {
      this.__cid = clientId();
      this.initializePool(config);
    }
  }
  this.valueForUndefined = this.<span class="apidocCodeKeywordSpan">raw</span>('DEFAULT');
  if (config.useNullAsDefault) {
    this.valueForUndefined = null;
  }
}
(0, _inherits2.default)(Client, _events.EventEmitter);

(0, _assign3.default)(Client.prototype, {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.super_" id="apidoc.element.knex.raw.super_">
        function <span class="apidocSignatureSpan">knex.raw.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.raw.prototype" id="apidoc.module.knex.raw.prototype">module knex.raw.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.raw.prototype.asCallback" id="apidoc.element.knex.raw.prototype.asCallback">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>asCallback
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asCallback = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

create: function create(callback) {
  _this3.acquireRawConnection().tap(function (connection) {
    connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).<span class="apidocCodeKeywordSpan">asCallback</span>(callback);
},
destroy: function destroy(connection) {
  if (poolConfig.beforeDestroy) {
    helpers.warn('\n            beforeDestroy is deprecated, please open an issue if you use this\n            to discuss alternative
 apis\n          ');
    poolConfig.beforeDestroy(connection, function () {});
  }
  if (connection !== void 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.bind" id="apidoc.element.knex.raw.prototype.bind">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>bind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.<span class="apidocCodeKeywordSpan">bind</span>(this
).return(queries).reduce(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.catch" id="apidoc.element.knex.raw.prototype.catch">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>catch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// .map over the results
.map(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.<span class="apidocCodeKeywordSpan">catch</span>(function(e) {
  console.error(e);
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.connection" id="apidoc.element.knex.raw.prototype.connection">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>connection
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connection = function (connection) {
  this._connection = connection;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.debug" id="apidoc.element.knex.raw.prototype.debug">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>debug
        <span class="apidocSignatureSpan">(enabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (enabled) {
  this._debug = arguments.length ? enabled : true;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.delay" id="apidoc.element.knex.raw.prototype.delay">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>delay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

if (!(0, _isArray3.default)(batch)) {
  return reject(new TypeError('Invalid batch: Expected array, got ' + (typeof batch === 'undefined' ? '
undefined' : (0, _typeof3.default)(batch))));
}

//Next tick to ensure wrapper functions are called if needed
return _bluebird2.default.<span class="apidocCodeKeywordSpan">delay</span>(1).then(getTransaction).then(function (tr) {
  return _bluebird2.default.mapSeries(chunks, function (items) {
    return tr(tableName).insert(items, _returning);
  }).then(function (result) {
    if (autoTransaction) {
      tr.commit();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.ensure" id="apidoc.element.knex.raw.prototype.ensure">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>ensure
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensure = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.finally" id="apidoc.element.knex.raw.prototype.finally">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>finally
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">finally = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      helpers.warn('If you are sure migrations are not running you can release the ' + 'lock manually by deleting
 all the rows from migrations lock ' + 'table: ' + _this7._getLockTableName());
    } else {
      helpers.warn('migrations failed with error: ' + error.message);
      // If the error was not due to a locking issue, then remove the lock.
      cleanupReady = _this7._freeLock();
    }

    return cleanupReady.<span class="apidocCodeKeywordSpan">finally</span>(function () {
      throw error;
    });
  });
};

// Validates some migrations by requiring and checking for an `up` and `down`
// function.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.get" id="apidoc.element.knex.raw.prototype.get">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>get
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.map" id="apidoc.element.knex.raw.prototype.map">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.then(function() {
  return knex('users')
    .join('accounts', 'users.id', 'accounts.user_id')
    .select('users.user_name as user', 'accounts.account_name as account');
})

// .map over the results
.<span class="apidocCodeKeywordSpan">map</span>(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.catch(function(e) {
  console.error(e);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.mapSeries" id="apidoc.element.knex.raw.prototype.mapSeries">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>mapSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapSeries = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (!(0, _isArray3.default)(batch)) {
      return reject(new TypeError('Invalid batch: Expected array, got ' + (typeof batch === 'undefined' ? &amp;#
x27;undefined' : (0, _typeof3.default)(batch))));
    }

    //Next tick to ensure wrapper functions are called if needed
    return _bluebird2.default.delay(1).then(getTransaction).then(function (tr) {
      return _bluebird2.default.<span class="apidocCodeKeywordSpan">mapSeries</span>(chunks, function (items) {
return tr(tableName).insert(items, _returning);
      }).then(function (result) {
if (autoTransaction) {
  tr.commit();
}

return (0, _flatten3.default)(result);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.options" id="apidoc.element.knex.raw.prototype.options">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>options
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (opts) {
  this._options = this._options || [];
  this._options.push((0, _clone3.default)(opts) || {});
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.pipe" id="apidoc.element.knex.raw.prototype.pipe">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>pipe
        <span class="apidocSignatureSpan">(writable, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipe = function (writable, options) {
  return this.client.runner(this).pipe(writable, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).stream(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">pipe</span>(writable, options);
};

// Creates a method which "coerces" to a promise, by calling a
// "then" method on the current `Target`
(0, _each3.default)(['bind', 'catch', 'finally', 'asCallback', 'spread', '
;map', 'reduce', 'tap', 'thenReturn', 'return', 'yield', 'ensure'
;, 'reflect', 'get', 'mapSeries', 'delay'], function (method) {
  Target.prototype[method] = function () {
    var promise = this.then();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.reduce" id="apidoc.element.knex.raw.prototype.reduce">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>reduce
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).return(queries).<span class="apidocCodeKeywordSpan
">reduce</span>(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.reflect" id="apidoc.element.knex.raw.prototype.reflect">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>reflect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reflect = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.return" id="apidoc.element.knex.raw.prototype.return">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>return
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">return = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).<span class="apidocCodeKeywordSpan">return
</span>(queries).reduce(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.set" id="apidoc.element.knex.raw.prototype.set">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>set
        <span class="apidocSignatureSpan">(sql, bindings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function set(sql, bindings) {
  this.sql = sql;
  this.bindings = (0, _isObject3.default)(bindings) &amp;&amp; !bindings.toSQL || (0, _isUndefined3.default)(bindings) ? bindings : [bindings
];

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
});

// Run a "raw" query, though we can't do anything with it other than put
// it in a query statement.
Knex.raw = function (sql, bindings) {
  (0, _helpers.warn)('global Knex.raw is deprecated, use knex.raw (chain off an initialized knex object)');
  return new _raw2.default().<span class="apidocCodeKeywordSpan">set</span>(sql, bindings);
};

// Doing this ensures Browserify works. Still need to figure out
// the best way to do some of this.
if (process.browser) {
  require('./dialects/websql/index.js');
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.spread" id="apidoc.element.knex.raw.prototype.spread">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>spread
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
  .action(function() {
    pending = initKnex(env).migrate.latest().<span class="apidocCodeKeywordSpan">spread</span>(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already up to date'));
      }
      success(
        chalk.green(`Batch ${batchNo} run: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.stream" id="apidoc.element.knex.raw.prototype.stream">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>stream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function (options) {
  return this.client.runner(this).stream(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
  return this;
};

// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">stream</span>(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).pipe(writable, options);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.tap" id="apidoc.element.knex.raw.prototype.tap">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>tap
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
log: function log(str, level) {
  if (level === 'info') {
    debugPool(level.toUpperCase() + ' pool ' + name + ' - ' + str);
  }
},

create: function create(callback) {
  _this3.acquireRawConnection().<span class="apidocCodeKeywordSpan">tap</span>(function (connection) {
    connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).asCallback(callback);
},
destroy: function destroy(connection) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.then" id="apidoc.element.knex.raw.prototype.then">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>then
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function () /* onFulfilled, onRejected */{
  var result = this.client.runner(this).run();
  return result.then.apply(result, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.createTable('accounts', function(table) {
  table.increments('id');
  table.string('account_name');
  table.integer('user_id').unsigned().references('users.id');
})

// Then query the table...
.<span class="apidocCodeKeywordSpan">then</span>(function() {
  return knex.insert({user_name: 'Tim'}).into('users');
})

// ...and using the insert id, insert into the other table.
.then(function(rows) {
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.thenReturn" id="apidoc.element.knex.raw.prototype.thenReturn">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>thenReturn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenReturn = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
      if (direction === 'down') {
        return knex(tableName).where({ name: name }).del();
      }
    });
  });

  return current.<span class="apidocCodeKeywordSpan">thenReturn</span>([batchNo, log]);
};

Migrator.prototype._transaction = function _transaction(migration, direction, name) {
  return this.knex.transaction(function (trx) {
    return warnPromise(migration[direction](trx, _bluebird2.default), name, function () {
      trx.commit();
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.timeout" id="apidoc.element.knex.raw.prototype.timeout">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timeout(ms) {
  var _ref = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];

  var cancel = _ref.cancel;

  if ((0, _isNumber3.default)(ms) &amp;&amp; ms &gt; 0) {
    this._timeout = ms;
    if (cancel) {
      this.client.assertCanCancelQuery();
      this._cancelOnTimeout = true;
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var _this = this;

this.builder.emit('query', (0, _assign3.default)({ __knexUid: this.connection.__knexUid }, obj));
var runner = this;
var queryPromise = this.client.query(this.connection, obj);

if (obj.timeout) {
  queryPromise = queryPromise.<span class="apidocCodeKeywordSpan">timeout</span>(obj.timeout);
}

return queryPromise.then(function (resp) {
  var processedResponse = _this.client.processResponse(resp, runner);
  _this.builder.emit('query-response', processedResponse, (0, _assign3.default)({ __knexUid: _this.connection.__knexUid
 }, obj), _this.builder);
  _this.client.emit('query-response', processedResponse, (0, _assign3.default)({ __knexUid: _this.connection.__knexUid
 }, obj), _this.builder);
  return processedResponse;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.toQuery" id="apidoc.element.knex.raw.prototype.toQuery">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>toQuery
        <span class="apidocSignatureSpan">(tz)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toQuery = function (tz) {
  var _this = this;

  var data = this.toSQL(this._method, tz);
  if (!(0, _isArray3.default)(data)) data = [data];
  return (0, _map3.default)(data, function (statement) {
    return _this.client._formatQuery(statement.sql, statement.bindings, tz);
  }).join(';\n');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._wrappedAfter = after;
  return this;
},


// Calls `toString` on the Knex object.
toString: function toString() {
  return this.<span class="apidocCodeKeywordSpan">toQuery</span>();
},


// Returns the raw sql for the query.
toSQL: function toSQL(method, tz) {
  var obj = void 0;
  var formatter = this.client.formatter();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.toSQL" id="apidoc.element.knex.raw.prototype.toSQL">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>toSQL
        <span class="apidocSignatureSpan">(method, tz)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toSQL(method, tz) {
  var obj = void 0;
  var formatter = this.client.formatter();

  if (Array.isArray(this.bindings)) {
    obj = replaceRawArrBindings(this, formatter);
  } else if (this.bindings &amp;&amp; (0, _isPlainObject3.default)(this.bindings)) {
    obj = replaceKeyBindings(this, formatter);
  } else {
    obj = {
      method: 'raw',
      sql: this.sql,
      bindings: (0, _isUndefined3.default)(this.bindings) ? [] : [this.bindings]
    };
  }

  if (this._wrappedBefore) {
    obj.sql = this._wrappedBefore + obj.sql;
  }
  if (this._wrappedAfter) {
    obj.sql = obj.sql + this._wrappedAfter;
  }

  obj.options = (0, _reduce3.default)(this._options, _assign3.default, {});

  if (this._timeout) {
    obj.timeout = this._timeout;
    if (this._cancelOnTimeout) {
      obj.cancelOnTimeout = this._cancelOnTimeout;
    }
  }

  obj.bindings = obj.bindings || [];
  if (helpers.containsUndefined(obj.bindings)) {
    debugBindings(obj.bindings);
    throw new Error('Undefined binding(s) detected when compiling RAW query: ' + obj.sql);
  }

  obj.__knexQueryUid = _uuid2.default.v4();

  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).<span class="apidocCodeKeywordSpan">toSQL</span>();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.toString" id="apidoc.element.knex.raw.prototype.toString">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() {
  return this.toQuery();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var exec = function (cmd, args) {
  return new Promise(function(resolve, reject) {
// Execute command
var child = child_process.exec(cmd, {cwd: process.cwd(), env: process.env});

// Pass stdout and stderr
child.stdout.on('data', function(data) { process.stdout.write(data.<span class="apidocCodeKeywordSpan">toString</span>()); });
child.stderr.on('data', function(data) { process.stderr.write(data.toString()); });
// Handle result
child.on('exit', function (code) {
  if (code) reject(code);
  else resolve();
});
child.on('error', reject);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.transacting" id="apidoc.element.knex.raw.prototype.transacting">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>transacting
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transacting = function (t) {
  if (t &amp;&amp; t.client) {
    if (!t.client.transacting) {
      helpers.warn('Invalid transaction value: ' + t.client);
    } else {
      this.client = t.client;
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return new _bluebird2.default(function (resolver, rejecter) {
if (!_this4.pool) {
  return rejecter(new Error('Unable to acquire a connection'));
}
var wasRejected = false;
var t = setTimeout(function () {
  wasRejected = true;
  rejecter(new _bluebird2.default.TimeoutError('Knex: Timeout acquiring a connection. The pool is probably full. ' + &amp;#
x27;Are you missing a .<span class="apidocCodeKeywordSpan">transacting</span>(trx) call?'));
}, _this4.config.acquireConnectionTimeout || 60000);
_this4.pool.acquire(function (err, connection) {
  clearTimeout(t);
  if (err) {
    return rejecter(err);
  }
  if (wasRejected) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.wrap" id="apidoc.element.knex.raw.prototype.wrap">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>wrap
        <span class="apidocSignatureSpan">(before, after)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wrap(before, after) {
  this._wrappedBefore = before;
  this._wrappedAfter = after;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Formatter.prototype.columnize = function columnize(target) {
  var columns = typeof target === 'string' ? [target] : target;
  var str = '',
      i = -1;
  while (++i &lt; columns.length) {
    if (i &gt; 0) str += ', ';
    str += this.<span class="apidocCodeKeywordSpan">wrap</span>(columns[i]);
  }
  return str;
};

// Turns a list of values into a list of ?'s, joining them with commas unless
// a "joining" value is specified (e.g. ' and ')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.raw.prototype.yield" id="apidoc.element.knex.raw.prototype.yield">
        function <span class="apidocSignatureSpan">knex.raw.prototype.</span>yield
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function () {
  var promise = this.then();
  return promise[method].apply(promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.runner" id="apidoc.module.knex.runner">module knex.runner</a></h1>


    <h2>
        <a href="#apidoc.element.knex.runner.runner" id="apidoc.element.knex.runner.runner">
        function <span class="apidocSignatureSpan">knex.</span>runner
        <span class="apidocSignatureSpan">(client, builder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runner(client, builder) {
  this.client = client;
  this.builder = builder;
  this.queries = [];

  // The "connection" object is set on the runner when
  // "run" is called.
  this.connection = void 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return (0, _map3.default)(data, function (statement) {
    return _this.client._formatQuery(statement.sql, statement.bindings, tz);
  }).join(';\n');
};

// Create a new instance of the `Runner`, passing in the current object.
Target.prototype.then = function () /* onFulfilled, onRejected */{
  var result = this.client.<span class="apidocCodeKeywordSpan">runner</span>(this).run();
  return result.then.apply(result, arguments);
};

// Add additional "options" to the builder. Typically used for client specific
// items, like the `mysql` and `sqlite3` drivers.
Target.prototype.options = function (opts) {
  this._options = this._options || [];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.runner.prototype" id="apidoc.module.knex.runner.prototype">module knex.runner.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.runner.prototype.ensureConnection" id="apidoc.element.knex.runner.prototype.ensureConnection">
        function <span class="apidocSignatureSpan">knex.runner.prototype.</span>ensureConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ensureConnection() {
  var _this2 = this;

  return _bluebird2.default.try(function () {
    return _this2.connection || new _bluebird2.default(function (resolver, rejecter) {
      // need to return promise or null from handler to prevent warning from bluebird
      return _this2.client.acquireConnection().then(resolver).catch(_bluebird2.default.TimeoutError, function (error) {
        if (_this2.builder) {
          error.sql = _this2.builder.sql;
          error.bindings = _this2.builder.bindings;
        }
        throw error;
      }).catch(rejecter);
    });
  }).disposer(function () {
    // need to return promise or null from handler to prevent warning from bluebird
    return _this2.client.releaseConnection(_this2.connection);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(0, _assign3.default)(Runner.prototype, {

  // "Run" the target, calling "toSQL" on the builder, returning
  // an object or array of queries to run, each of which are run on
  // a single connection.
  run: function run() {
    var runner = this;
    return _bluebird2.default.using(this.<span class="apidocCodeKeywordSpan">ensureConnection</span>(), function (connection) {
runner.connection = connection;

runner.client.emit('start', runner.builder);
runner.builder.emit('start', runner.builder);
var sql = runner.builder.toSQL();

if (runner.builder._debug) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.runner.prototype.pipe" id="apidoc.element.knex.runner.prototype.pipe">
        function <span class="apidocSignatureSpan">knex.runner.prototype.</span>pipe
        <span class="apidocSignatureSpan">(writable, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pipe(writable, options) {
  return this.stream(options).pipe(writable);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).stream(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">pipe</span>(writable, options);
};

// Creates a method which "coerces" to a promise, by calling a
// "then" method on the current `Target`
(0, _each3.default)(['bind', 'catch', 'finally', 'asCallback', 'spread', '
;map', 'reduce', 'tap', 'thenReturn', 'return', 'yield', 'ensure'
;, 'reflect', 'get', 'mapSeries', 'delay'], function (method) {
  Target.prototype[method] = function () {
    var promise = this.then();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.runner.prototype.query" id="apidoc.element.knex.runner.prototype.query">
        function <span class="apidocSignatureSpan">knex.runner.prototype.</span>query
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">query = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (runner.builder._debug) {
    helpers.debugLog(sql);
  }

  if ((0, _isArray3.default)(sql)) {
    return runner.queryArray(sql);
  }
  return runner.<span class="apidocCodeKeywordSpan">query</span>(sql);
})

// If there are any "error" listeners, we fire an error event
// and then re-throw the error to be eventually handled by
// the promise chain. Useful if you're wrapping in a custom `Promise`.
.catch(function (err) {
  if (runner.builder._events &amp;&amp; runner.builder._events.error) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.runner.prototype.queryArray" id="apidoc.element.knex.runner.prototype.queryArray">
        function <span class="apidocSignatureSpan">knex.runner.prototype.</span>queryArray
        <span class="apidocSignatureSpan">(queries)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).return(queries).reduce(function (memo, query
) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var sql = runner.builder.toSQL();

  if (runner.builder._debug) {
    helpers.debugLog(sql);
  }

  if ((0, _isArray3.default)(sql)) {
    return runner.<span class="apidocCodeKeywordSpan">queryArray</span>(sql);
  }
  return runner.query(sql);
})

// If there are any "error" listeners, we fire an error event
// and then re-throw the error to be eventually handled by
// the promise chain. Useful if you're wrapping in a custom `Promise`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.runner.prototype.run" id="apidoc.element.knex.runner.prototype.run">
        function <span class="apidocSignatureSpan">knex.runner.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run() {
  var runner = this;
  return _bluebird2.default.using(this.ensureConnection(), function (connection) {
    runner.connection = connection;

    runner.client.emit('start', runner.builder);
    runner.builder.emit('start', runner.builder);
    var sql = runner.builder.toSQL();

    if (runner.builder._debug) {
      helpers.debugLog(sql);
    }

    if ((0, _isArray3.default)(sql)) {
      return runner.queryArray(sql);
    }
    return runner.query(sql);
  })

  // If there are any "error" listeners, we fire an error event
  // and then re-throw the error to be eventually handled by
  // the promise chain. Useful if you're wrapping in a custom `Promise`.
  .catch(function (err) {
    if (runner.builder._events &amp;&amp; runner.builder._events.error) {
      runner.builder.emit('error', err);
    }
    throw err;
  })

  // Fire a single "end" event on the builder when
  // all queries have successfully completed.
  .tap(function () {
    runner.builder.emit('end');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('seed:run')
  .description('        Run seed files.')
  .action(function() {
    pending = initKnex(env).seed.<span class="apidocCodeKeywordSpan">run</span>().spread(function(log) {
      if (log.length === 0) {
        success(chalk.cyan('No seed files exist'));
      }
      success(chalk.green(`Ran ${log.length} seed files \n${chalk.cyan(log.join('\n'))}`));
    }).catch(exit);
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.runner.prototype.stream" id="apidoc.element.knex.runner.prototype.stream">
        function <span class="apidocSignatureSpan">knex.runner.prototype.</span>stream
        <span class="apidocSignatureSpan">(options, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stream(options, handler) {

  // If we specify stream(handler).then(...
  if (arguments.length === 1) {
    if (typeof options === 'function') {
      handler = options;
      options = {};
    }
  }

  // Determines whether we emit an error or throw here.
  var hasHandler = typeof handler === 'function';

  // Lazy-load the "PassThrough" dependency.
  PassThrough = PassThrough || require('readable-stream').PassThrough;

  var runner = this;
  var stream = new PassThrough({ objectMode: true });
  var promise = _bluebird2.default.using(this.ensureConnection(), function (connection) {
    runner.connection = connection;
    var sql = runner.builder.toSQL();
    var err = new Error('The stream may only be used with a single query statement.');
    if ((0, _isArray3.default)(sql)) {
      if (hasHandler) throw err;
      stream.emit('error', err);
    }
    return runner.client.stream(runner.connection, sql, stream, options);
  });

  // If a function is passed to handle the stream, send the stream
  // there and return the promise, otherwise just return the stream
  // and the promise will take care of itsself.
  if (hasHandler) {
    handler(stream);
    return promise;
  }

  // This promise is unreachable since no handler was given, so noop any
  // exceptions. Errors should be handled in the stream's 'error' event.
  promise.catch(_noop3.default);
  return stream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
  return this;
};

// Initializes a stream.
Target.prototype.stream = function (options) {
  return this.client.runner(this).<span class="apidocCodeKeywordSpan">stream</span>(options);
};

// Initialize a stream &amp; pipe automatically.
Target.prototype.pipe = function (writable, options) {
  return this.client.runner(this).pipe(writable, options);
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.seed_stub" id="apidoc.module.knex.seed_stub">module knex.seed_stub</a></h1>


    <h2>
        <a href="#apidoc.element.knex.seed_stub.seed_stub" id="apidoc.element.knex.seed_stub.seed_stub">
        function <span class="apidocSignatureSpan">knex.</span>seed_stub
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">seed_stub = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.seed_stub.prototype" id="apidoc.module.knex.seed_stub.prototype">module knex.seed_stub.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.seed_stub.prototype.make" id="apidoc.element.knex.seed_stub.prototype.make">
        function <span class="apidocSignatureSpan">knex.seed_stub.prototype.</span>make
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">make = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
commander
  .command('migrate:make &lt;name&gt;')
  .description('        Create a named migration file.')
  .option(`-x [${filetypes.join('|')}]`, 'Specify the stub extension (default js)')
  .action(function(name) {
    var instance = initKnex(env);
    var ext = (argv.x || env.configPath.split('.').pop()).toLowerCase();
    pending = instance.migrate.<span class="apidocCodeKeywordSpan">make</span>(name, {extension: ext}).then(function(name) {
      success(chalk.green(`Created Migration: ${name}`));
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.seed_stub.prototype.run" id="apidoc.element.knex.seed_stub.prototype.run">
        function <span class="apidocSignatureSpan">knex.seed_stub.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function () {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value = tryCatch(fn).apply(this, arguments);
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.method", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('seed:run')
  .description('        Run seed files.')
  .action(function() {
    pending = initKnex(env).seed.<span class="apidocCodeKeywordSpan">run</span>().spread(function(log) {
      if (log.length === 0) {
        success(chalk.cyan('No seed files exist'));
      }
      success(chalk.green(`Ran ${log.length} seed files \n${chalk.cyan(log.join('\n'))}`));
    }).catch(exit);
  });
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.string" id="apidoc.module.knex.string">module knex.string</a></h1>




    <h2>
        <a href="#apidoc.element.knex.string.arrayToList" id="apidoc.element.knex.string.arrayToList">
        function <span class="apidocSignatureSpan">knex.string.</span>arrayToList
        <span class="apidocSignatureSpan">(array, finalEscape, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function arrayToList(array, finalEscape, ctx) {
  var sql = '';
  for (var i = 0; i &lt; array.length; i++) {
    var val = array[i];
    if (Array.isArray(val)) {
      sql += (i === 0 ? '' : ', ') + '(' + arrayToList(val, finalEscape, ctx) + ')';
    } else {
      sql += (i === 0 ? '' : ', ') + finalEscape(val, ctx);
    }
  }
  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.string.bufferToString" id="apidoc.element.knex.string.bufferToString">
        function <span class="apidocSignatureSpan">knex.string.</span>bufferToString
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function bufferToString(buffer) {
  return "X" + escapeString(buffer.toString('hex'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.string.dateToString" id="apidoc.element.knex.string.dateToString">
        function <span class="apidocSignatureSpan">knex.string.</span>dateToString
        <span class="apidocSignatureSpan">(date, finalEscape, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dateToString(date, finalEscape, ctx) {
  var timeZone = ctx.timeZone || 'local';

  var dt = new Date(date);
  var year;
  var month;
  var day;
  var hour;
  var minute;
  var second;
  var millisecond;

  if (timeZone === 'local') {
    year = dt.getFullYear();
    month = dt.getMonth() + 1;
    day = dt.getDate();
    hour = dt.getHours();
    minute = dt.getMinutes();
    second = dt.getSeconds();
    millisecond = dt.getMilliseconds();
  } else {
    var tz = convertTimezone(timeZone);

    if (tz !== false &amp;&amp; tz !== 0) {
      dt.setTime(dt.getTime() + tz * 60000);
    }

    year = dt.getUTCFullYear();
    month = dt.getUTCMonth() + 1;
    day = dt.getUTCDate();
    hour = dt.getUTCHours();
    minute = dt.getUTCMinutes();
    second = dt.getUTCSeconds();
    millisecond = dt.getUTCMilliseconds();
  }

  // YYYY-MM-DD HH:mm:ss.mmm
  return zeroPad(year, 4) + '-' + zeroPad(month, 2) + '-' + zeroPad(day, 2) + ' ' + zeroPad(hour, 2) + ':' + zeroPad(minute, 2) + ':' +
zeroPad(second, 2) + '.' + zeroPad(millisecond, 3);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.string.escapeObject" id="apidoc.element.knex.string.escapeObject">
        function <span class="apidocSignatureSpan">knex.string.</span>escapeObject
        <span class="apidocSignatureSpan">(val, finalEscape, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeObject(val, finalEscape, ctx) {
  if (typeof val.toSQL === 'function') {
    return val.toSQL(ctx);
  } else {
    return (0, _stringify2.default)(val);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.string.escapeString" id="apidoc.element.knex.string.escapeString">
        function <span class="apidocSignatureSpan">knex.string.</span>escapeString
        <span class="apidocSignatureSpan">(val, finalEscape, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeString(val, finalEscape, ctx) {
  var chunkIndex = charsRegex.lastIndex = 0;
  var escapedVal = '';
  var match;

  while (match = charsRegex.exec(val)) {
    escapedVal += val.slice(chunkIndex, match.index) + charsMap[match[0]];
    chunkIndex = charsRegex.lastIndex;
  }

  if (chunkIndex === 0) {
    // Nothing was escaped
    return "'" + val + "'";
  }

  if (chunkIndex &lt; val.length) {
    return "'" + escapedVal + val.slice(chunkIndex) + "'";
  }

  return "'" + escapedVal + "'";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.string.makeEscape" id="apidoc.element.knex.string.makeEscape">
        function <span class="apidocSignatureSpan">knex.string.</span>makeEscape
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makeEscape() {
  var config = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

  var finalEscapeDate = config.escapeDate || dateToString;
  var finalEscapeArray = config.escapeArray || arrayToList;
  var finalEscapeBuffer = config.escapeBuffer || bufferToString;
  var finalEscapeString = config.escapeString || escapeString;
  var finalEscapeObject = config.escapeObject || escapeObject;
  var finalWrap = config.wrap || wrapEscape;

  function escapeFn(val, finalEscape, ctx) {
    if (val === undefined || val === null) {
      return 'NULL';
    }
    switch (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) {
      case 'boolean':
        return val ? 'true' : 'false';
      case 'number':
        return val + '';
      case 'object':
        if (val instanceof Date) {
          val = finalEscapeDate(val, finalEscape, ctx);
        } else if (Array.isArray(val)) {
          return finalEscapeArray(val, finalEscape, ctx);
        } else if (Buffer.isBuffer(val)) {
          return finalEscapeBuffer(val, finalEscape, ctx);
        } else {
          return finalEscapeObject(val, finalEscape, ctx);
        }
    }
    return finalEscapeString(val, finalEscape, ctx);
  }

  return finalWrap ? finalWrap(escapeFn) : escapeFn;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.tablebuilder" id="apidoc.module.knex.tablebuilder">module knex.tablebuilder</a></h1>


    <h2>
        <a href="#apidoc.element.knex.tablebuilder.tablebuilder" id="apidoc.element.knex.tablebuilder.tablebuilder">
        function <span class="apidocSignatureSpan">knex.</span>tablebuilder
        <span class="apidocSignatureSpan">(client, method, tableName, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TableBuilder(client, method, tableName, fn) {
  this.client = client;
  this._fn = fn;
  this._method = method;
  this._schemaName = undefined;
  this._tableName = tableName;
  this._statements = [];
  this._single = {};

  if (!(0, _isFunction3.default)(this._fn)) {
    throw new TypeError('A callback function must be supplied to calls against `.createTable` ' + 'and `.table`');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.tablebuilder.prototype" id="apidoc.module.knex.tablebuilder.prototype">module knex.tablebuilder.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.bigIncrements" id="apidoc.element.knex.tablebuilder.prototype.bigIncrements">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigIncrements
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bigIncrements = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.bigInteger" id="apidoc.element.knex.tablebuilder.prototype.bigInteger">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigInteger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bigInteger = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.bigincrements" id="apidoc.element.knex.tablebuilder.prototype.bigincrements">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigincrements
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bigincrements = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.bigint" id="apidoc.element.knex.tablebuilder.prototype.bigint">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bigint
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bigint = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.biginteger" id="apidoc.element.knex.tablebuilder.prototype.biginteger">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>biginteger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">biginteger = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.binary" id="apidoc.element.knex.tablebuilder.prototype.binary">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>binary
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">binary = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.bit" id="apidoc.element.knex.tablebuilder.prototype.bit">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bit = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.blob" id="apidoc.element.knex.tablebuilder.prototype.blob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>blob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.bool" id="apidoc.element.knex.tablebuilder.prototype.bool">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>bool
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bool = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.boolean" id="apidoc.element.knex.tablebuilder.prototype.boolean">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>boolean
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">boolean = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.char" id="apidoc.element.knex.tablebuilder.prototype.char">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>char
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">char = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.charset" id="apidoc.element.knex.tablebuilder.prototype.charset">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>charset
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charset = function (value) {
  if (this.client.dialect !== dialect) {
    helpers.warn('Knex only supports ' + method + ' statement with ' + dialect + '.');
  }
  if (this._method === 'alter') {
    helpers.warn('Knex does not support altering the ' + method + ' outside of create ' + 'table, please use knex.raw statement.');
  }
  this._single[method] = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.collate" id="apidoc.element.knex.tablebuilder.prototype.collate">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>collate
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collate = function (value) {
  if (this.client.dialect !== dialect) {
    helpers.warn('Knex only supports ' + method + ' statement with ' + dialect + '.');
  }
  if (this._method === 'alter') {
    helpers.warn('Knex does not support altering the ' + method + ' outside of create ' + 'table, please use knex.raw statement.');
  }
  this._single[method] = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.comment" id="apidoc.element.knex.tablebuilder.prototype.comment">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>comment
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">comment = function (value) {
  this._single.comment = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.date" id="apidoc.element.knex.tablebuilder.prototype.date">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>date
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.dateTime" id="apidoc.element.knex.tablebuilder.prototype.dateTime">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dateTime
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dateTime = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.datetime" id="apidoc.element.knex.tablebuilder.prototype.datetime">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>datetime
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">datetime = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.decimal" id="apidoc.element.knex.tablebuilder.prototype.decimal">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>decimal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">decimal = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.double" id="apidoc.element.knex.tablebuilder.prototype.double">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>double
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">double = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.dropForeign" id="apidoc.element.knex.tablebuilder.prototype.dropForeign">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropForeign
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropForeign = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.dropIndex" id="apidoc.element.knex.tablebuilder.prototype.dropIndex">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropIndex
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropIndex = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.dropPrimary" id="apidoc.element.knex.tablebuilder.prototype.dropPrimary">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropPrimary
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropPrimary = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

# 0.11.5 - 26 May, 2016

- Bugfix: Using `Raw` or `QueryBuilder` as a binding to `Raw` now works as intended

# 0.11.4 - 22 May, 2016

- Bugfix: Inconsistency of `.primary()` and `.<span class="apidocCodeKeywordSpan">dropPrimary</span>()` between dialects #1430
- Feature: Allow using custom Client/Dialect (you can pass your own client in knex config) #1428
- Docs: Add documentation for .dropTimestamps #1432
- Bugfix: Fixed passing undefined fields for insert/update inside transaction #1423
- Feature: `batchInsert` with existing transaction #1354
- Build: eslint instead of jshint #1416
- Bugfix: Pooled connections not releasing #1382
- Bugfix: Support passing `knex.raw` to `.whereNot` #1402
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.dropUnique" id="apidoc.element.knex.tablebuilder.prototype.dropUnique">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>dropUnique
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropUnique = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.engine" id="apidoc.element.knex.tablebuilder.prototype.engine">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>engine
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">engine = function (value) {
  if (this.client.dialect !== dialect) {
    helpers.warn('Knex only supports ' + method + ' statement with ' + dialect + '.');
  }
  if (this._method === 'alter') {
    helpers.warn('Knex does not support altering the ' + method + ' outside of create ' + 'table, please use knex.raw statement.');
  }
  this._single[method] = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.enu" id="apidoc.element.knex.tablebuilder.prototype.enu">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>enu
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enu = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.enum" id="apidoc.element.knex.tablebuilder.prototype.enum">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>enum
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enum = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.float" id="apidoc.element.knex.tablebuilder.prototype.float">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>float
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">float = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.foreign" id="apidoc.element.knex.tablebuilder.prototype.foreign">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>foreign
        <span class="apidocSignatureSpan">(column, keyName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">foreign = function (column, keyName) {
  var foreignData = { column: column, keyName: keyName };
  this._statements.push({
    grouping: 'alterTable',
    method: 'foreign',
    args: [foreignData]
  });
  var returnObj = {
    references: function references(tableColumn) {
      var pieces = void 0;
      if ((0, _isString3.default)(tableColumn)) {
        pieces = tableColumn.split('.');
      }
      if (!pieces || pieces.length === 1) {
        foreignData.references = pieces ? pieces[0] : tableColumn;
        return {
          on: function on(tableName) {
            if (typeof tableName !== 'string') {
              throw new TypeError('Expected tableName to be a string, got: ' + (typeof tableName === 'undefined' ? 'undefined' : (
0, _typeof3.default)(tableName)));
            }
            foreignData.inTable = tableName;
            return returnObj;
          },
          inTable: function inTable() {
            return this.on.apply(this, arguments);
          }
        };
      }
      foreignData.inTable = pieces[0];
      foreignData.references = pieces[1];
      return returnObj;
    },
    withKeyName: function withKeyName(keyName) {
      foreignData.keyName = keyName;
      return returnObj;
    },
    onUpdate: function onUpdate(statement) {
      foreignData.onUpdate = statement;
      return returnObj;
    },
    onDelete: function onDelete(statement) {
      foreignData.onDelete = statement;
      return returnObj;
    },
    _columnBuilder: function _columnBuilder(builder) {
      (0, _extend3.default)(builder, returnObj);
      returnObj = builder;
      return builder;
    }
  };
  return returnObj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set the comment value for a table, they're only allowed to be called
// once per table.
TableBuilder.prototype.comment = function (value) {
this._single.comment = value;
};

// Set a foreign key on the table, calling
// `table.<span class="apidocCodeKeywordSpan">foreign</span>('column_name').references('column').on('table
').onDelete()...
// Also called from the ColumnBuilder context when chaining.
TableBuilder.prototype.foreign = function (column, keyName) {
var foreignData = { column: column, keyName: keyName };
this._statements.push({
  grouping: 'alterTable',
  method: 'foreign',
  args: [foreignData]
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.increments" id="apidoc.element.knex.tablebuilder.prototype.increments">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>increments
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">increments = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
connection: {
  filename: './data.db'
}
});

// Create a table
knex.schema.createTable('users', function(table) {
table.<span class="apidocCodeKeywordSpan">increments</span>('id');
table.string('user_name');
})

// ...and another
.createTable('accounts', function(table) {
table.increments('id');
table.string('account_name');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.index" id="apidoc.element.knex.tablebuilder.prototype.index">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>index
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.inherits" id="apidoc.element.knex.tablebuilder.prototype.inherits">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>inherits
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inherits = function (value) {
  if (this.client.dialect !== dialect) {
    helpers.warn('Knex only supports ' + method + ' statement with ' + dialect + '.');
  }
  if (this._method === 'alter') {
    helpers.warn('Knex does not support altering the ' + method + ' outside of create ' + 'table, please use knex.raw statement.');
  }
  this._single[method] = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.int" id="apidoc.element.knex.tablebuilder.prototype.int">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>int
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">int = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.integer" id="apidoc.element.knex.tablebuilder.prototype.integer">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>integer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">integer = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  table.string('user_name');
})

// ...and another
.createTable('accounts', function(table) {
  table.increments('id');
  table.string('account_name');
  table.<span class="apidocCodeKeywordSpan">integer</span>('user_id').unsigned().references('users.id');
})

// Then query the table...
.then(function() {
  return knex.insert({user_name: 'Tim'}).into('users');
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.json" id="apidoc.element.knex.tablebuilder.prototype.json">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>json
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">json = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Breaking Changes:

- `insert` and `update` now ignore `undefined` values. Back compatibility is provided through the option `useNullAsDefault`. #1174
, #1043

### Other Changes:

- Add [`countDistinct`](#Builder-countDistinct), [`avgDistinct`](#Builder-avgDistinct) and [`sumDistinct`](#Builder-sumDistinct). #
1046
- Add [`schema.jsonb`](#Schema-jsonb). Deprecated `schema.<span class="apidocCodeKeywordSpan">json</span>(column, true)`. #991
- Support binding identifiers with `??`. #1103
- Restore `query` event when triggered by transactions. #855
- Correct question mark escaping in rendered queries. #519, #1058
- Add per-dialect escaping, allowing quotes to be escaped correctly. #886, #1095
- Add MSSQL support. #1090
- Add migration locking. #1094
- Allow column aliases to contain `.`. #1181
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.jsonb" id="apidoc.element.knex.tablebuilder.prototype.jsonb">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>jsonb
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">jsonb = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.longBlob" id="apidoc.element.knex.tablebuilder.prototype.longBlob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longBlob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">longBlob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.longText" id="apidoc.element.knex.tablebuilder.prototype.longText">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">longText = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.longblob" id="apidoc.element.knex.tablebuilder.prototype.longblob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longblob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">longblob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.longtext" id="apidoc.element.knex.tablebuilder.prototype.longtext">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>longtext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">longtext = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.mediumBlob" id="apidoc.element.knex.tablebuilder.prototype.mediumBlob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumBlob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mediumBlob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.mediumText" id="apidoc.element.knex.tablebuilder.prototype.mediumText">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mediumText = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.mediumblob" id="apidoc.element.knex.tablebuilder.prototype.mediumblob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumblob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mediumblob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.mediumint" id="apidoc.element.knex.tablebuilder.prototype.mediumint">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumint
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mediumint = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.mediumtext" id="apidoc.element.knex.tablebuilder.prototype.mediumtext">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>mediumtext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mediumtext = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.primary" id="apidoc.element.knex.tablebuilder.prototype.primary">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>primary
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">primary = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

# 0.11.5 - 26 May, 2016

- Bugfix: Using `Raw` or `QueryBuilder` as a binding to `Raw` now works as intended

# 0.11.4 - 22 May, 2016

- Bugfix: Inconsistency of `.<span class="apidocCodeKeywordSpan">primary</span>()` and `.dropPrimary()` between dialects #1430
- Feature: Allow using custom Client/Dialect (you can pass your own client in knex config) #1428
- Docs: Add documentation for .dropTimestamps #1432
- Bugfix: Fixed passing undefined fields for insert/update inside transaction #1423
- Feature: `batchInsert` with existing transaction #1354
- Build: eslint instead of jshint #1416
- Bugfix: Pooled connections not releasing #1382
- Bugfix: Support passing `knex.raw` to `.whereNot` #1402
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.real" id="apidoc.element.knex.tablebuilder.prototype.real">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>real
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">real = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.serial" id="apidoc.element.knex.tablebuilder.prototype.serial">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>serial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serial = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.set" id="apidoc.element.knex.tablebuilder.prototype.set">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>set
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
});

// Run a "raw" query, though we can't do anything with it other than put
// it in a query statement.
Knex.raw = function (sql, bindings) {
  (0, _helpers.warn)('global Knex.raw is deprecated, use knex.raw (chain off an initialized knex object)');
  return new _raw2.default().<span class="apidocCodeKeywordSpan">set</span>(sql, bindings);
};

// Doing this ensures Browserify works. Still need to figure out
// the best way to do some of this.
if (process.browser) {
  require('./dialects/websql/index.js');
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.setSchema" id="apidoc.element.knex.tablebuilder.prototype.setSchema">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>setSchema
        <span class="apidocSignatureSpan">(schemaName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setSchema = function (schemaName) {
  this._schemaName = schemaName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
});

function buildTable(type) {
  return function (tableName, fn) {
    var builder = this.client.tableBuilder(type, tableName, fn);

    builder.<span class="apidocCodeKeywordSpan">setSchema</span>(this.schema);
    var sql = builder.toSQL();

    for (var i = 0, l = sql.length; i &lt; l; i++) {
      this.sequence.push(sql[i]);
    }
  };
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.smallint" id="apidoc.element.knex.tablebuilder.prototype.smallint">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>smallint
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">smallint = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.specificType" id="apidoc.element.knex.tablebuilder.prototype.specificType">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>specificType
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">specificType = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.string" id="apidoc.element.knex.tablebuilder.prototype.string">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>string
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">string = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  filename: './data.db'
}
});

// Create a table
knex.schema.createTable('users', function(table) {
table.increments('id');
table.<span class="apidocCodeKeywordSpan">string</span>('user_name');
})

// ...and another
.createTable('accounts', function(table) {
table.increments('id');
table.string('account_name');
table.integer('user_id').unsigned().references('users.id');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.text" id="apidoc.element.knex.tablebuilder.prototype.text">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>text
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.time" id="apidoc.element.knex.tablebuilder.prototype.time">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>time
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">time = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.timestamp" id="apidoc.element.knex.tablebuilder.prototype.timestamp">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>timestamp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timestamp = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


Migrator.prototype._createMigrationTable = function _createMigrationTable(tableName) {
  return this.knex.schema.createTableIfNotExists(tableName, function (t) {
    t.increments();
    t.string('name');
    t.integer('batch');
    t.<span class="apidocCodeKeywordSpan">timestamp</span>('migration_time');
  });
};

Migrator.prototype._createMigrationLockTable = function _createMigrationLockTable(tableName) {
  return this.knex.schema.createTableIfNotExists(tableName, function (t) {
    t.integer('is_locked');
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.timestamps" id="apidoc.element.knex.tablebuilder.prototype.timestamps">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>timestamps
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timestamps() {
  var method = arguments[0] === true ? 'timestamp' : 'datetime';
  var createdAt = this[method]('created_at');
  var updatedAt = this[method]('updated_at');
  if (arguments[1] === true) {
    var now = this.client.raw('CURRENT_TIMESTAMP');
    createdAt.notNullable().defaultTo(now);
    updatedAt.notNullable().defaultTo(now);
  }
  return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

import * as Knex from "knex";

exports.up = function (knex: Knex): Promise&lt;any&gt; {
&lt;% if (d.tableName) { %&gt;
return knex.schema.createTable("&lt;%= d.tableName %&gt;", function (t) {
    t.increments();
    t.<span class="apidocCodeKeywordSpan">timestamps</span>();
});
&lt;% } %&gt;
};

exports.down = function (knex: Knex): Promise&lt;any&gt; {
&lt;% if (d.tableName) { %&gt;
return knex.schema.dropTable("&lt;%= d.tableName %&gt;");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.tinyBlob" id="apidoc.element.knex.tablebuilder.prototype.tinyBlob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyBlob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tinyBlob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.tinyText" id="apidoc.element.knex.tablebuilder.prototype.tinyText">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tinyText = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.tinyblob" id="apidoc.element.knex.tablebuilder.prototype.tinyblob">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyblob
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tinyblob = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.tinyint" id="apidoc.element.knex.tablebuilder.prototype.tinyint">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinyint
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tinyint = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.tinytext" id="apidoc.element.knex.tablebuilder.prototype.tinytext">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>tinytext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tinytext = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.toSQL" id="apidoc.element.knex.tablebuilder.prototype.toSQL">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>toSQL
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toSQL = function () {
  if (this._method === 'alter') {
    (0, _extend3.default)(this, AlterMethods);
  }
  this._fn.call(this, this);
  return this.client.tableCompiler(this).toSQL();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).<span class="apidocCodeKeywordSpan">toSQL</span>();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.unique" id="apidoc.element.knex.tablebuilder.prototype.unique">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>unique
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unique = function () {
  this._statements.push({
    grouping: 'alterTable',
    method: method,
    args: (0, _toArray3.default)(arguments)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._fn.call(this, this);
return this.client.tableCompiler(this).toSQL();
};

(0, _each3.default)([

// Each of the index methods can be called individually, with the
// column name to be used, e.g. table.<span class="apidocCodeKeywordSpan">unique</span>('column').
'index', 'primary', 'unique',

// Key specific
'dropPrimary', 'dropUnique', 'dropIndex', 'dropForeign'], function (method) {
TableBuilder.prototype[method] = function () {
  this._statements.push({
    grouping: 'alterTable',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.uuid" id="apidoc.element.knex.tablebuilder.prototype.uuid">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>uuid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uuid = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.varbinary" id="apidoc.element.knex.tablebuilder.prototype.varbinary">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>varbinary
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">varbinary = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.varchar" id="apidoc.element.knex.tablebuilder.prototype.varchar">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>varchar
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">varchar = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablebuilder.prototype.year" id="apidoc.element.knex.tablebuilder.prototype.year">
        function <span class="apidocSignatureSpan">knex.tablebuilder.prototype.</span>year
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">year = function () {
  var args = (0, _toArray3.default)(arguments);
  var builder = this.client.columnBuilder(this, type, args);
  this._statements.push({
    grouping: 'columns',
    builder: builder
  });
  return builder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.tablecompiler" id="apidoc.module.knex.tablecompiler">module knex.tablecompiler</a></h1>


    <h2>
        <a href="#apidoc.element.knex.tablecompiler.tablecompiler" id="apidoc.element.knex.tablecompiler.tablecompiler">
        function <span class="apidocSignatureSpan">knex.</span>tablecompiler
        <span class="apidocSignatureSpan">(client, tableBuilder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TableCompiler(client, tableBuilder) {
  this.client = client;
  this.method = tableBuilder._method;
  this.schemaNameRaw = tableBuilder._schemaName;
  this.tableNameRaw = tableBuilder._tableName;
  this.single = tableBuilder._single;
  this.grouped = (0, _groupBy3.default)(tableBuilder._statements, 'grouping');
  this.formatter = client.formatter();
  this.sequence = [];
  this._formatting = client.config &amp;&amp; client.config.formatting;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.tablecompiler.prototype" id="apidoc.module.knex.tablecompiler.prototype">module knex.tablecompiler.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype._indexCommand" id="apidoc.element.knex.tablecompiler.prototype._indexCommand">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>_indexCommand
        <span class="apidocSignatureSpan">(type, tableName, columns)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_indexCommand = function (type, tableName, columns) {
  if (!(0, _isArray4.default)(columns)) columns = columns ? [columns] : [];
  var table = tableName.replace(/\.|-/g, '_');
  var indexName = (table + '_' + columns.join('_') + '_' + type).toLowerCase();
  return this.formatter.wrap(indexName);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.columnQueries(addColumns);
this.columnQueries(alterColumns);
this.alterTable();
};

TableCompiler.prototype.foreign = function (foreignData) {
if (foreignData.inTable &amp;&amp; foreignData.references) {
  var keyName = foreignData.keyName ? this.formatter.wrap(foreignData.keyName) : this.<span class="apidocCodeKeywordSpan">_indexCommand
</span>('foreign', this.tableNameRaw, foreignData.column);
  var column = this.formatter.columnize(foreignData.column);
  var references = this.formatter.columnize(foreignData.references);
  var inTable = this.formatter.wrap(foreignData.inTable);
  var onUpdate = foreignData.onUpdate ? (this.lowerCase ? ' on update ' : ' ON UPDATE ') + foreignData.onUpdate
 : '';
  var onDelete = foreignData.onDelete ? (this.lowerCase ? ' on delete ' : ' ON DELETE ') + foreignData.onDelete
 : '';
  if (this.lowerCase) {
    this.pushQuery((!this.forCreate ? 'alter table ' + this.tableName() + ' add ' : '') + 'constraint
 ' + keyName + ' ' + 'foreign key (' + column + ') references ' + inTable + ' (' +
references + ')' + onUpdate + onDelete);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.addColumns" id="apidoc.element.knex.tablecompiler.prototype.addColumns">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>addColumns
        <span class="apidocSignatureSpan">(columns, prefix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addColumns = function (columns, prefix) {
  prefix = prefix || this.addColumnsPrefix;

  if (columns.sql.length &gt; 0) {
    var columnSql = (0, _map3.default)(columns.sql, function (column) {
      return prefix + column;
    });
    this.pushQuery({
      sql: (this.lowerCase ? 'alter table ' : 'ALTER TABLE ') + this.tableName() + ' ' + columnSql.join(', '),
      bindings: columns.bindings
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var alterColBuilders = this.getColumns('alter');
  var alterColumns = alterColBuilders.map(function (col) {
    return col.toSQL();
  });
  var addColumnTypes = this.getColumnTypes(addColumns);
  var alterColumnTypes = this.getColumnTypes(alterColumns);

  this.<span class="apidocCodeKeywordSpan">addColumns</span>(addColumnTypes);
  this.alterColumns(alterColumnTypes, alterColBuilders);
  this.columnQueries(addColumns);
  this.columnQueries(alterColumns);
  this.alterTable();
};

TableCompiler.prototype.foreign = function (foreignData) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.alter" id="apidoc.element.knex.tablecompiler.prototype.alter">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alter = function () {
  var addColBuilders = this.getColumns();
  var addColumns = addColBuilders.map(function (col) {
    return col.toSQL();
  });
  var alterColBuilders = this.getColumns('alter');
  var alterColumns = alterColBuilders.map(function (col) {
    return col.toSQL();
  });
  var addColumnTypes = this.getColumnTypes(addColumns);
  var alterColumnTypes = this.getColumnTypes(alterColumns);

  this.addColumns(addColumnTypes);
  this.alterColumns(alterColumnTypes, alterColBuilders);
  this.columnQueries(addColumns);
  this.columnQueries(alterColumns);
  this.alterTable();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.alterColumns" id="apidoc.element.knex.tablecompiler.prototype.alterColumns">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterColumns
        <span class="apidocSignatureSpan">(columns, colBuilders)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alterColumns = function (columns, colBuilders) {
  if (columns.sql.length &gt; 0) {
    this.addColumns(columns, this.alterColumnsPrefix, colBuilders);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var alterColumns = alterColBuilders.map(function (col) {
  return col.toSQL();
});
var addColumnTypes = this.getColumnTypes(addColumns);
var alterColumnTypes = this.getColumnTypes(alterColumns);

this.addColumns(addColumnTypes);
this.<span class="apidocCodeKeywordSpan">alterColumns</span>(alterColumnTypes, alterColBuilders);
this.columnQueries(addColumns);
this.columnQueries(alterColumns);
this.alterTable();
};

TableCompiler.prototype.foreign = function (foreignData) {
if (foreignData.inTable &amp;&amp; foreignData.references) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.alterTable" id="apidoc.element.knex.tablecompiler.prototype.alterTable">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterTable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alterTable = function () {
  var alterTable = this.grouped.alterTable || [];
  for (var i = 0, l = alterTable.length; i &lt; l; i++) {
    var statement = alterTable[i];
    if (this[statement.method]) {
      this[statement.method].apply(this, statement.args);
    } else {
      helpers.error('Debug: ' + statement.method + ' does not exist');
    }
  }
  for (var item in this.single) {
    if (typeof this[item] === 'function') this[item](this.single[item]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var columnTypes = this.getColumnTypes(columns);
  if (this.createAlterTableMethods) {
    this.alterTableForCreate(columnTypes);
  }
  this.createQuery(columnTypes, ifNot);
  this.columnQueries(columns);
  delete this.single.comment;
  this.<span class="apidocCodeKeywordSpan">alterTable</span>();
};

// Only create the table if it doesn't exist.
TableCompiler.prototype.createIfNot = function () {
  this.create(true);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.alterTableForCreate" id="apidoc.element.knex.tablecompiler.prototype.alterTableForCreate">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>alterTableForCreate
        <span class="apidocSignatureSpan">(columnTypes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alterTableForCreate = function (columnTypes) {
  this.forCreate = true;
  var savedSequence = this.sequence;
  var alterTable = this.grouped.alterTable || [];
  this.grouped.alterTable = [];
  for (var i = 0, l = alterTable.length; i &lt; l; i++) {
    var statement = alterTable[i];
    if ((0, _indexOf3.default)(this.createAlterTableMethods, statement.method) &lt; 0) {
      this.grouped.alterTable.push(statement);
      continue;
    }
    if (this[statement.method]) {
      this.sequence = [];
      this[statement.method].apply(this, statement.args);
      columnTypes.sql.push(this.sequence[0].sql);
    } else {
      helpers.error('Debug: ' + statement.method + ' does not exist');
    }
  }
  this.sequence = savedSequence;
  this.forCreate = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
TableCompiler.prototype.create = function (ifNot) {
  var columnBuilders = this.getColumns();
  var columns = columnBuilders.map(function (col) {
    return col.toSQL();
  });
  var columnTypes = this.getColumnTypes(columns);
  if (this.createAlterTableMethods) {
    this.<span class="apidocCodeKeywordSpan">alterTableForCreate</span>(columnTypes);
  }
  this.createQuery(columnTypes, ifNot);
  this.columnQueries(columns);
  delete this.single.comment;
  this.alterTable();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.columnQueries" id="apidoc.element.knex.tablecompiler.prototype.columnQueries">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>columnQueries
        <span class="apidocSignatureSpan">(columns)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">columnQueries = function (columns) {
  var queries = (0, _reduce3.default)((0, _map3.default)(columns, _tail3.default), function (memo, column) {
    if (!(0, _isEmpty3.default)(column)) return memo.concat(column);
    return memo;
  }, []);
  for (var _iterator = queries, _isArray2 = Array.isArray(_iterator), _i = 0, _iterator = _isArray2 ? _iterator : (0, _getIterator3
.default)(_iterator);;) {
    var _ref;

    if (_isArray2) {
      if (_i &gt;= _iterator.length) break;
      _ref = _iterator[_i++];
    } else {
      _i = _iterator.next();
      if (_i.done) break;
      _ref = _i.value;
    }

    var q = _ref;

    this.pushQuery(q);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return col.toSQL();
});
var columnTypes = this.getColumnTypes(columns);
if (this.createAlterTableMethods) {
  this.alterTableForCreate(columnTypes);
}
this.createQuery(columnTypes, ifNot);
this.<span class="apidocCodeKeywordSpan">columnQueries</span>(columns);
delete this.single.comment;
this.alterTable();
};

// Only create the table if it doesn't exist.
TableCompiler.prototype.createIfNot = function () {
this.create(true);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.create" id="apidoc.element.knex.tablecompiler.prototype.create">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>create
        <span class="apidocSignatureSpan">(ifNot)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (ifNot) {
  var columnBuilders = this.getColumns();
  var columns = columnBuilders.map(function (col) {
    return col.toSQL();
  });
  var columnTypes = this.getColumnTypes(columns);
  if (this.createAlterTableMethods) {
    this.alterTableForCreate(columnTypes);
  }
  this.createQuery(columnTypes, ifNot);
  this.columnQueries(columns);
  delete this.single.comment;
  this.alterTable();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}


// We need to make a client object which always acquires the same
// connection and does not release back into the pool.
function makeTxClient(trx, client, connection) {

const trxClient = Object.<span class="apidocCodeKeywordSpan">create</span>(client.constructor.prototype)
trxClient.config             = client.config
trxClient.driver             = client.driver
trxClient.connectionSettings = client.connectionSettings
trxClient.transacting        = true
trxClient.valueForUndefined  = client.valueForUndefined

trxClient.on('query', function(arg) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.createIfNot" id="apidoc.element.knex.tablecompiler.prototype.createIfNot">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>createIfNot
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIfNot = function () {
  this.create(true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.dropColumn" id="apidoc.element.knex.tablecompiler.prototype.dropColumn">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropColumn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropColumn = function () {
  var _this2 = this;

  var columns = helpers.normalizeArr.apply(null, arguments);
  var drops = (0, _map3.default)((0, _isArray4.default)(columns) ? columns : [columns], function (column) {
    return _this2.dropColumnPrefix + _this2.formatter.wrap(column);
  });
  this.pushQuery((this.lowerCase ? 'alter table ' : 'ALTER TABLE ') + this.tableName() + ' ' + drops.join(', '));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.dropForeign" id="apidoc.element.knex.tablecompiler.prototype.dropForeign">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropForeign
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropForeign = function () {
  throw new Error('Method implemented in the dialect driver');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.dropIndex" id="apidoc.element.knex.tablecompiler.prototype.dropIndex">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropIndex
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropIndex = function (value) {
  this.pushQuery('drop index' + value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.dropUnique" id="apidoc.element.knex.tablecompiler.prototype.dropUnique">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>dropUnique
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropUnique = function () {
  throw new Error('Method implemented in the dialect driver');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.foreign" id="apidoc.element.knex.tablecompiler.prototype.foreign">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>foreign
        <span class="apidocSignatureSpan">(foreignData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">foreign = function (foreignData) {
  if (foreignData.inTable &amp;&amp; foreignData.references) {
    var keyName = foreignData.keyName ? this.formatter.wrap(foreignData.keyName) : this._indexCommand('foreign', this.tableNameRaw
, foreignData.column);
    var column = this.formatter.columnize(foreignData.column);
    var references = this.formatter.columnize(foreignData.references);
    var inTable = this.formatter.wrap(foreignData.inTable);
    var onUpdate = foreignData.onUpdate ? (this.lowerCase ? ' on update ' : ' ON UPDATE ') + foreignData.onUpdate : '';
    var onDelete = foreignData.onDelete ? (this.lowerCase ? ' on delete ' : ' ON DELETE ') + foreignData.onDelete : '';
    if (this.lowerCase) {
      this.pushQuery((!this.forCreate ? 'alter table ' + this.tableName() + ' add ' : '') + 'constraint ' + keyName + ' ' + 'foreign
 key (' + column + ') references ' + inTable + ' (' + references + ')' + onUpdate + onDelete);
    } else {
      this.pushQuery((!this.forCreate ? 'ALTER TABLE ' + this.tableName() + ' ADD ' : '') + 'CONSTRAINT ' + keyName + ' ' + 'FOREIGN
 KEY (' + column + ') REFERENCES ' + inTable + ' (' + references + ')' + onUpdate + onDelete);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set the comment value for a table, they're only allowed to be called
// once per table.
TableBuilder.prototype.comment = function (value) {
this._single.comment = value;
};

// Set a foreign key on the table, calling
// `table.<span class="apidocCodeKeywordSpan">foreign</span>('column_name').references('column').on('table
').onDelete()...
// Also called from the ColumnBuilder context when chaining.
TableBuilder.prototype.foreign = function (column, keyName) {
var foreignData = { column: column, keyName: keyName };
this._statements.push({
  grouping: 'alterTable',
  method: 'foreign',
  args: [foreignData]
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.getColumnTypes" id="apidoc.element.knex.tablecompiler.prototype.getColumnTypes">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>getColumnTypes
        <span class="apidocSignatureSpan">(columns)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getColumnTypes = function (columns) {
  return (0, _reduce3.default)((0, _map3.default)(columns, _first3.default), function (memo, column) {
    memo.sql.push(column.sql);
    memo.bindings.concat(column.bindings);
    return memo;
  }, { sql: [], bindings: [] });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// and then run through anything else and push it to the query sequence.
TableCompiler.prototype.createAlterTableMethods = null;
TableCompiler.prototype.create = function (ifNot) {
var columnBuilders = this.getColumns();
var columns = columnBuilders.map(function (col) {
  return col.toSQL();
});
var columnTypes = this.<span class="apidocCodeKeywordSpan">getColumnTypes</span>(columns);
if (this.createAlterTableMethods) {
  this.alterTableForCreate(columnTypes);
}
this.createQuery(columnTypes, ifNot);
this.columnQueries(columns);
delete this.single.comment;
this.alterTable();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.getColumns" id="apidoc.element.knex.tablecompiler.prototype.getColumns">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>getColumns
        <span class="apidocSignatureSpan">(method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getColumns = function (method) {
  var _this = this;

  var columns = this.grouped.columns || [];
  method = method || 'add';

  return columns.filter(function (column) {
    return column.builder._method === method;
  }).map(function (column) {
    return _this.client.columnCompiler(_this, column.builder);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// -------

// If this is a table "creation", we need to first run through all
// of the columns to build them into a single string,
// and then run through anything else and push it to the query sequence.
TableCompiler.prototype.createAlterTableMethods = null;
TableCompiler.prototype.create = function (ifNot) {
var columnBuilders = this.<span class="apidocCodeKeywordSpan">getColumns</span>();
var columns = columnBuilders.map(function (col) {
  return col.toSQL();
});
var columnTypes = this.getColumnTypes(columns);
if (this.createAlterTableMethods) {
  this.alterTableForCreate(columnTypes);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.pushAdditional" id="apidoc.element.knex.tablecompiler.prototype.pushAdditional">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>pushAdditional
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pushAdditional(fn) {
  var child = new this.constructor(this.client, this.tableCompiler, this.columnBuilder);
  fn.call(child, (0, _tail3.default)(arguments));
  this.sequence.additional = (this.sequence.additional || []).concat(child.sequence);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.pushQuery" id="apidoc.element.knex.tablecompiler.prototype.pushQuery">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>pushQuery
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pushQuery(query) {
  if (!query) return;
  if ((0, _isString3.default)(query)) {
    query = { sql: query };
  }
  if (!query.bindings) {
    query.bindings = this.formatter.bindings;
  }
  this.sequence.push(query);
  this.formatter = this.client.formatter();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ColumnCompiler.prototype.pushQuery = helpers.pushQuery;

ColumnCompiler.prototype.pushAdditional = helpers.pushAdditional;

// To convert to sql, we first go through and build the
// column as it would be in the insert statement
ColumnCompiler.prototype.toSQL = function () {
  this.<span class="apidocCodeKeywordSpan">pushQuery</span>(this.compileColumn());
  if (this.sequence.additional) {
    this.sequence = this.sequence.concat(this.sequence.additional);
  }
  return this.sequence;
};

// Compiles a column.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.tableName" id="apidoc.element.knex.tablecompiler.prototype.tableName">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>tableName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tableName = function () {
  var name = this.schemaNameRaw ? this.schemaNameRaw + '.' + this.tableNameRaw : this.tableNameRaw;

  return this.formatter.wrap(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var keyName = foreignData.keyName ? this.formatter.wrap(foreignData.keyName) : this._indexCommand('foreign', this.
tableNameRaw, foreignData.column);
    var column = this.formatter.columnize(foreignData.column);
    var references = this.formatter.columnize(foreignData.references);
    var inTable = this.formatter.wrap(foreignData.inTable);
    var onUpdate = foreignData.onUpdate ? (this.lowerCase ? ' on update ' : ' ON UPDATE ') + foreignData.onUpdate
 : '';
    var onDelete = foreignData.onDelete ? (this.lowerCase ? ' on delete ' : ' ON DELETE ') + foreignData.onDelete
 : '';
    if (this.lowerCase) {
      this.pushQuery((!this.forCreate ? 'alter table ' + this.<span class="apidocCodeKeywordSpan">tableName</span>() + &amp;#
x27; add ' : '') + 'constraint ' + keyName + ' ' + 'foreign key (' + column + '
;) references ' + inTable + ' (' + references + ')' + onUpdate + onDelete);
    } else {
      this.pushQuery((!this.forCreate ? 'ALTER TABLE ' + this.tableName() + ' ADD ' : '') + '
CONSTRAINT ' + keyName + ' ' + 'FOREIGN KEY (' + column + ') REFERENCES ' + inTable + ' (&amp;#
x27; + references + ')' + onUpdate + onDelete);
    }
  }
};

// Get all of the column sql &amp; bindings individually for building the table queries.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.tablecompiler.prototype.toSQL" id="apidoc.element.knex.tablecompiler.prototype.toSQL">
        function <span class="apidocSignatureSpan">knex.tablecompiler.prototype.</span>toSQL
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toSQL = function () {
  this[this.method]();
  return this.sequence;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return this.unwrapRaw(value, true) || '?';
};

Formatter.prototype.unwrapRaw = function unwrapRaw(value, isParameter) {
  var query = void 0;
  if (value instanceof _builder2.default) {
    query = this.client.queryCompiler(value).<span class="apidocCodeKeywordSpan">toSQL</span>();
    if (query.bindings) {
      this.bindings = this.bindings.concat(query.bindings);
    }
    return this.outputQuery(query, isParameter);
  }
  if (value instanceof _raw2.default) {
    value.client = this.client;
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.transaction" id="apidoc.module.knex.transaction">module knex.transaction</a></h1>


    <h2>
        <a href="#apidoc.element.knex.transaction.transaction" id="apidoc.element.knex.transaction.transaction">
        function <span class="apidocSignatureSpan">knex.</span>transaction
        <span class="apidocSignatureSpan">(client, container, config, outerTx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transaction(client, container, config, outerTx) {
  (0, _classCallCheck3.default)(this, Transaction);

  var _this = (0, _possibleConstructorReturn3.default)(this, _EventEmitter.call(this));

  var txid = _this.txid = (0, _uniqueId3.default)('trx');

  _this.client = client;
  _this.outerTx = outerTx;
  _this.trxClient = undefined;
  _this._debug = client.config &amp;&amp; client.config.debug;

  debug('%s: Starting %s transaction', txid, outerTx ? 'nested' : 'top level');

  _this._promise = _bluebird2.default.using(_this.acquireConnection(client, config, txid), function (connection) {

    var trxClient = _this.trxClient = makeTxClient(_this, client, connection);
    var init = client.transacting ? _this.savepoint(connection) : _this.begin(connection);

    init.then(function () {
      return makeTransactor(_this, connection, trxClient);
    }).then(function (transactor) {
      // If we've returned a "thenable" from the transaction container, assume
      // the rollback and commit are chained to this object's success / failure.
      // Directly thrown errors are treated as automatic rollbacks.
      var result = void 0;
      try {
        result = container(transactor);
      } catch (err) {
        result = _bluebird2.default.reject(err);
      }
      if (result &amp;&amp; result.then &amp;&amp; typeof result.then === 'function') {
        result.then(function (val) {
          return transactor.commit(val);
        }).catch(function (err) {
          return transactor.rollback(err);
        });
      }
      return null;
    }).catch(function (e) {
      return _this._rejecter(e);
    });

    return new _bluebird2.default(function (resolver, rejecter) {
      _this._resolver = resolver;
      _this._rejecter = rejecter;
    });
  });

  _this._completed = false;

  // If there's a wrapping transaction, we need to wait for any older sibling
  // transactions to settle (commit or rollback) before we can start, and we
  // need to register ourselves with the parent transaction so any younger
  // siblings can wait for us to complete before they can start.
  _this._previousSibling = _bluebird2.default.resolve(true);
  if (outerTx) {
    if (outerTx._lastChild) _this._previousSibling = outerTx._lastChild;
    outerTx._lastChild = _this._promise;
  }
  return _this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.default = Transaction;
function makeTransactor(trx, connection, trxClient) {

var transactor = (0, _makeKnex2.default)(trxClient);

transactor.transaction = function (container, options) {
  return trxClient.<span class="apidocCodeKeywordSpan">transaction</span>(container, options, trx);
};
transactor.savepoint = function (container, options) {
  return transactor.transaction(container, options);
};

if (trx.client.transacting) {
  transactor.commit = function (value) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.transaction.prototype" id="apidoc.module.knex.transaction.prototype">module knex.transaction.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.acquireConnection" id="apidoc.element.knex.transaction.prototype.acquireConnection">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>acquireConnection
        <span class="apidocSignatureSpan">(client, config, txid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function acquireConnection(client, config, txid) {
  var configConnection = config &amp;&amp; config.connection;
  return _bluebird2.default.try(function () {
    return configConnection || client.acquireConnection();
  }).disposer(function (connection) {
    if (!configConnection) {
      debug('%s: releasing connection', txid);
      client.releaseConnection(connection);
    } else {
      debug('%s: not releasing external connection', txid);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Check whether there's a transaction flag, and that it has a connection.
  ensureConnection: function ensureConnection() {
var _this2 = this;

return _bluebird2.default.try(function () {
  return _this2.connection || new _bluebird2.default(function (resolver, rejecter) {
    // need to return promise or null from handler to prevent warning from bluebird
    return _this2.client.<span class="apidocCodeKeywordSpan">acquireConnection</span>().then(resolver).catch(_bluebird2.default.
TimeoutError, function (error) {
      if (_this2.builder) {
        error.sql = _this2.builder.sql;
        error.bindings = _this2.builder.bindings;
      }
      throw error;
    }).catch(rejecter);
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.asCallback" id="apidoc.element.knex.transaction.prototype.asCallback">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>asCallback
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asCallback = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

create: function create(callback) {
  _this3.acquireRawConnection().tap(function (connection) {
    connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).<span class="apidocCodeKeywordSpan">asCallback</span>(callback);
},
destroy: function destroy(connection) {
  if (poolConfig.beforeDestroy) {
    helpers.warn('\n            beforeDestroy is deprecated, please open an issue if you use this\n            to discuss alternative
 apis\n          ');
    poolConfig.beforeDestroy(connection, function () {});
  }
  if (connection !== void 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.begin" id="apidoc.element.knex.transaction.prototype.begin">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>begin
        <span class="apidocSignatureSpan">(conn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function begin(conn) {
  return this.query(conn, 'BEGIN;');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    _this._debug = client.config &amp;&amp; client.config.debug;

    debug('%s: Starting %s transaction', txid, outerTx ? 'nested' : 'top level');

    _this._promise = _bluebird2.default.using(_this.acquireConnection(client, config, txid), function (connection) {

var trxClient = _this.trxClient = makeTxClient(_this, client, connection);
var init = client.transacting ? _this.savepoint(connection) : _this.<span class="apidocCodeKeywordSpan">begin</span>(connection);

init.then(function () {
  return makeTransactor(_this, connection, trxClient);
}).then(function (transactor) {
  // If we've returned a "thenable" from the transaction container, assume
  // the rollback and commit are chained to this object's success / failure.
  // Directly thrown errors are treated as automatic rollbacks.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.bind" id="apidoc.element.knex.transaction.prototype.bind">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>bind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.<span class="apidocCodeKeywordSpan">bind</span>(this
).return(queries).reduce(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.catch" id="apidoc.element.knex.transaction.prototype.catch">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>catch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// .map over the results
.map(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.<span class="apidocCodeKeywordSpan">catch</span>(function(e) {
  console.error(e);
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.commit" id="apidoc.element.knex.transaction.prototype.commit">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>commit
        <span class="apidocSignatureSpan">(conn, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function commit(conn, value) {
  return this.query(conn, 'COMMIT;', 1, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  try {
    result = container(transactor);
  } catch (err) {
    result = _bluebird2.default.reject(err);
  }
  if (result &amp;&amp; result.then &amp;&amp; typeof result.then === 'function') {
    result.then(function (val) {
      return transactor.<span class="apidocCodeKeywordSpan">commit</span>(val);
    }).catch(function (err) {
      return transactor.rollback(err);
    });
  }
  return null;
}).catch(function (e) {
  return _this._rejecter(e);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.debug" id="apidoc.element.knex.transaction.prototype.debug">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>debug
        <span class="apidocSignatureSpan">(enabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function debug(enabled) {
  this._debug = arguments.length ? enabled : true;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.delay" id="apidoc.element.knex.transaction.prototype.delay">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>delay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

if (!(0, _isArray3.default)(batch)) {
  return reject(new TypeError('Invalid batch: Expected array, got ' + (typeof batch === 'undefined' ? '
undefined' : (0, _typeof3.default)(batch))));
}

//Next tick to ensure wrapper functions are called if needed
return _bluebird2.default.<span class="apidocCodeKeywordSpan">delay</span>(1).then(getTransaction).then(function (tr) {
  return _bluebird2.default.mapSeries(chunks, function (items) {
    return tr(tableName).insert(items, _returning);
  }).then(function (result) {
    if (autoTransaction) {
      tr.commit();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.ensure" id="apidoc.element.knex.transaction.prototype.ensure">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>ensure
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensure = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.exec" id="apidoc.element.knex.transaction.prototype.exec">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>exec
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var child_process = require('child_process');
var Promise = require("bluebird");
var _ = require('lodash');

var exec = function (cmd, args) {
  return new Promise(function(resolve, reject) {
// Execute command
var child = child_process.<span class="apidocCodeKeywordSpan">exec</span>(cmd, {cwd: process.cwd(), env: process.env});

// Pass stdout and stderr
child.stdout.on('data', function(data) { process.stdout.write(data.toString()); });
child.stderr.on('data', function(data) { process.stderr.write(data.toString()); });
// Handle result
child.on('exit', function (code) {
  if (code) reject(code);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.finally" id="apidoc.element.knex.transaction.prototype.finally">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>finally
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">finally = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      helpers.warn('If you are sure migrations are not running you can release the ' + 'lock manually by deleting
 all the rows from migrations lock ' + 'table: ' + _this7._getLockTableName());
    } else {
      helpers.warn('migrations failed with error: ' + error.message);
      // If the error was not due to a locking issue, then remove the lock.
      cleanupReady = _this7._freeLock();
    }

    return cleanupReady.<span class="apidocCodeKeywordSpan">finally</span>(function () {
      throw error;
    });
  });
};

// Validates some migrations by requiring and checking for an `up` and `down`
// function.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.get" id="apidoc.element.knex.transaction.prototype.get">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>get
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.isCompleted" id="apidoc.element.knex.transaction.prototype.isCompleted">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>isCompleted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isCompleted() {
  return this._completed || this.outerTx &amp;&amp; this.outerTx.isCompleted() || false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (outerTx._lastChild) _this._previousSibling = outerTx._lastChild;
    outerTx._lastChild = _this._promise;
  }
  return _this;
}

Transaction.prototype.isCompleted = function isCompleted() {
  return this._completed || this.outerTx &amp;&amp; this.outerTx.<span class="apidocCodeKeywordSpan">isCompleted</span>() || false
;
};

Transaction.prototype.begin = function begin(conn) {
  return this.query(conn, 'BEGIN;');
};

Transaction.prototype.savepoint = function savepoint(conn) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.map" id="apidoc.element.knex.transaction.prototype.map">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.then(function() {
  return knex('users')
    .join('accounts', 'users.id', 'accounts.user_id')
    .select('users.user_name as user', 'accounts.account_name as account');
})

// .map over the results
.<span class="apidocCodeKeywordSpan">map</span>(function(row) {
  console.log(row);
})

// Finally, add a .catch handler for the promise chain
.catch(function(e) {
  console.error(e);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.mapSeries" id="apidoc.element.knex.transaction.prototype.mapSeries">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>mapSeries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapSeries = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (!(0, _isArray3.default)(batch)) {
      return reject(new TypeError('Invalid batch: Expected array, got ' + (typeof batch === 'undefined' ? &amp;#
x27;undefined' : (0, _typeof3.default)(batch))));
    }

    //Next tick to ensure wrapper functions are called if needed
    return _bluebird2.default.delay(1).then(getTransaction).then(function (tr) {
      return _bluebird2.default.<span class="apidocCodeKeywordSpan">mapSeries</span>(chunks, function (items) {
return tr(tableName).insert(items, _returning);
      }).then(function (result) {
if (autoTransaction) {
  tr.commit();
}

return (0, _flatten3.default)(result);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.query" id="apidoc.element.knex.transaction.prototype.query">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>query
        <span class="apidocSignatureSpan">(conn, sql, status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(conn, sql, status, value) {
  var _this4 = this;

  var q = this.trxClient.query(conn, sql).catch(function (err) {
    status = 2;
    value = err;
    _this4._completed = true;
    debug('%s error running transaction query', _this4.txid);
  }).tap(function () {
    if (status === 1) {
      _this4._resolver(value);
    }
    if (status === 2) {
      if ((0, _isUndefined3.default)(value)) {
        value = new Error('Transaction rejected with non-error: ' + value);
      }
      _this4._rejecter(value);
    }
  });
  if (status === 1 || status === 2) {
    this._completed = true;
  }
  return q;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (runner.builder._debug) {
    helpers.debugLog(sql);
  }

  if ((0, _isArray3.default)(sql)) {
    return runner.queryArray(sql);
  }
  return runner.<span class="apidocCodeKeywordSpan">query</span>(sql);
})

// If there are any "error" listeners, we fire an error event
// and then re-throw the error to be eventually handled by
// the promise chain. Useful if you're wrapping in a custom `Promise`.
.catch(function (err) {
  if (runner.builder._events &amp;&amp; runner.builder._events.error) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.reduce" id="apidoc.element.knex.transaction.prototype.reduce">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>reduce
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).return(queries).<span class="apidocCodeKeywordSpan
">reduce</span>(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.reflect" id="apidoc.element.knex.transaction.prototype.reflect">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>reflect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reflect = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.release" id="apidoc.element.knex.transaction.prototype.release">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>release
        <span class="apidocSignatureSpan">(conn, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function release(conn, value) {
  return this.query(conn, 'RELEASE SAVEPOINT ' + this.txid + ';', 1, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }, _this4.config.acquireConnectionTimeout || 60000);
    _this4.pool.acquire(function (err, connection) {
      clearTimeout(t);
      if (err) {
        return rejecter(err);
      }
      if (wasRejected) {
        _this4.pool.<span class="apidocCodeKeywordSpan">release</span>(connection);
      } else {
        debug('acquired connection from pool: %s', connection.__knexUid);
        resolver(connection);
      }
    });
  });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.return" id="apidoc.element.knex.transaction.prototype.return">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>return
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">return = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw error;
  });
}),

// In the case of the "schema builder" we call `queryArray`, which runs each
// of the queries in sequence.
queryArray: function queryArray(queries) {
  return queries.length === 1 ? this.query(queries[0]) : _bluebird2.default.bind(this).<span class="apidocCodeKeywordSpan">return
</span>(queries).reduce(function (memo, query) {
    return this.query(query).then(function (resp) {
      memo.push(resp);
      return memo;
    });
  }, []);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.rollback" id="apidoc.element.knex.transaction.prototype.rollback">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>rollback
        <span class="apidocSignatureSpan">(conn, error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rollback(conn, error) {
  var _this2 = this;

  return this.query(conn, 'ROLLBACK;', 2, error).timeout(5000).catch(_bluebird2.default.TimeoutError, function () {
    _this2._resolver();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:rollback')
  .description('        Rollback the last set of migrations performed.')
  .action(function() {
    pending = initKnex(env).migrate.<span class="apidocCodeKeywordSpan">rollback</span>().spread(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already at the base migration'));
      }
      success(
        chalk.green(`Batch ${batchNo} rolled back: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.rollbackTo" id="apidoc.element.knex.transaction.prototype.rollbackTo">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>rollbackTo
        <span class="apidocSignatureSpan">(conn, error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rollbackTo(conn, error) {
  var _this3 = this;

  return this.query(conn, 'ROLLBACK TO SAVEPOINT ' + this.txid, 2, error).timeout(5000).catch(_bluebird2.default.TimeoutError, function
 () {
    _this3._resolver();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

if (trx.client.transacting) {
  transactor.commit = function (value) {
    return trx.release(connection, value);
  };
  transactor.rollback = function (error) {
    return trx.<span class="apidocCodeKeywordSpan">rollbackTo</span>(connection, error);
  };
} else {
  transactor.commit = function (value) {
    return trx.commit(connection, value);
  };
  transactor.rollback = function (error) {
    return trx.rollback(connection, error);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.savepoint" id="apidoc.element.knex.transaction.prototype.savepoint">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>savepoint
        <span class="apidocSignatureSpan">(conn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function savepoint(conn) {
  return this.query(conn, 'SAVEPOINT ' + this.txid + ';');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    _this._debug = client.config &amp;&amp; client.config.debug;

    debug('%s: Starting %s transaction', txid, outerTx ? 'nested' : 'top level');

    _this._promise = _bluebird2.default.using(_this.acquireConnection(client, config, txid), function (connection) {

var trxClient = _this.trxClient = makeTxClient(_this, client, connection);
var init = client.transacting ? _this.<span class="apidocCodeKeywordSpan">savepoint</span>(connection) : _this.begin(connection);

init.then(function () {
  return makeTransactor(_this, connection, trxClient);
}).then(function (transactor) {
  // If we've returned a "thenable" from the transaction container, assume
  // the rollback and commit are chained to this object's success / failure.
  // Directly thrown errors are treated as automatic rollbacks.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.spread" id="apidoc.element.knex.transaction.prototype.spread">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>spread
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }).catch(exit);
  });

commander
  .command('migrate:latest')
  .description('        Run all migrations that have not yet been run.')
  .action(function() {
    pending = initKnex(env).migrate.latest().<span class="apidocCodeKeywordSpan">spread</span>(function(batchNo, log) {
      if (log.length === 0) {
        success(chalk.cyan('Already up to date'));
      }
      success(
        chalk.green(`Batch ${batchNo} run: ${log.length} migrations \n`) +
        chalk.cyan(log.join('\n'))
      );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.tap" id="apidoc.element.knex.transaction.prototype.tap">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>tap
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
log: function log(str, level) {
  if (level === 'info') {
    debugPool(level.toUpperCase() + ' pool ' + name + ' - ' + str);
  }
},

create: function create(callback) {
  _this3.acquireRawConnection().<span class="apidocCodeKeywordSpan">tap</span>(function (connection) {
    connection.__knexUid = (0, _uniqueId3.default)('__knexUid');
    if (poolConfig.afterCreate) {
      return _bluebird2.default.promisify(poolConfig.afterCreate)(connection);
    }
  }).asCallback(callback);
},
destroy: function destroy(connection) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.then" id="apidoc.element.knex.transaction.prototype.then">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>then
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.createTable('accounts', function(table) {
  table.increments('id');
  table.string('account_name');
  table.integer('user_id').unsigned().references('users.id');
})

// Then query the table...
.<span class="apidocCodeKeywordSpan">then</span>(function() {
  return knex.insert({user_name: 'Tim'}).into('users');
})

// ...and using the insert id, insert into the other table.
.then(function(rows) {
  return knex.table('accounts').insert({account_name: 'knex', user_id: rows[0]});
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.thenReturn" id="apidoc.element.knex.transaction.prototype.thenReturn">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>thenReturn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenReturn = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
      if (direction === 'down') {
        return knex(tableName).where({ name: name }).del();
      }
    });
  });

  return current.<span class="apidocCodeKeywordSpan">thenReturn</span>([batchNo, log]);
};

Migrator.prototype._transaction = function _transaction(migration, direction, name) {
  return this.knex.transaction(function (trx) {
    return warnPromise(migration[direction](trx, _bluebird2.default), name, function () {
      trx.commit();
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.transaction.prototype.yield" id="apidoc.element.knex.transaction.prototype.yield">
        function <span class="apidocSignatureSpan">knex.transaction.prototype.</span>yield
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function () {
  return this._promise = this._promise[method].apply(this._promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.knex.utils" id="apidoc.module.knex.utils">module knex.utils</a></h1>




    <h2>
        <a href="#apidoc.element.knex.utils.BlobHelper" id="apidoc.element.knex.utils.BlobHelper">
        function <span class="apidocSignatureSpan">knex.utils.</span>BlobHelper
        <span class="apidocSignatureSpan">(columnName, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BlobHelper(columnName, value) {
  this.columnName = columnName;
  this.value = value;
  this.returning = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.utils.ReturningHelper" id="apidoc.element.knex.utils.ReturningHelper">
        function <span class="apidocSignatureSpan">knex.utils.</span>ReturningHelper
        <span class="apidocSignatureSpan">(columnName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReturningHelper(columnName) {
  this.columnName = columnName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.utils.generateCombinedName" id="apidoc.element.knex.utils.generateCombinedName">
        function <span class="apidocSignatureSpan">knex.utils.</span>generateCombinedName
        <span class="apidocSignatureSpan">(postfix, name, subNames)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function generateCombinedName(postfix, name, subNames) {
  var crypto = require('crypto');
  var limit = 30;
  if (!Array.isArray(subNames)) subNames = subNames ? [subNames] : [];
  var table = name.replace(/\.|-/g, '_');
  var subNamesPart = subNames.join('_');
  var result = (table + '_' + (subNamesPart.length ? subNamesPart + '_' : '') + postfix).toLowerCase();
  if (result.length &gt; limit) {
    helpers.warn('Automatically generated name "' + result + '" exceeds ' + limit + ' character ' + 'limit for Oracle. Using base64
 encoded sha1 of that name instead.');
    // generates the sha1 of the name and encode it with base64
    result = crypto.createHash('sha1').update(result).digest('base64').replace('=', '');
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.knex.utils.wrapSqlWithCatch" id="apidoc.element.knex.utils.wrapSqlWithCatch">
        function <span class="apidocSignatureSpan">knex.utils.</span>wrapSqlWithCatch
        <span class="apidocSignatureSpan">(sql, errorNumberToCatch)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wrapSqlWithCatch(sql, errorNumberToCatch) {
  return 'begin execute immediate \'' + sql.replace(/'/g, "''") + '\'; ' + ('exception when others then if sqlcode != ' + errorNumberToCatch
 + ' then raise; ') + 'end if; ' + 'end;';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>